var lI=Object.defineProperty;var cI=(e,t,n)=>t in e?lI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $=(e,t,n)=>(cI(e,typeof t!="symbol"?t+"":t,n),n),Ux=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var h=(e,t,n)=>(Ux(e,t,"read from private field"),n?n.call(e):t.get(e)),b=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},A=(e,t,n,s)=>(Ux(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n);var Ze=(e,t,n,s)=>({set _(i){A(e,t,i,n)},get _(){return h(e,t,s)}}),C=(e,t,n)=>(Ux(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Q3(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Z3={exports:{}},sx={},J3={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=Symbol.for("react.element"),uI=Symbol.for("react.portal"),hI=Symbol.for("react.fragment"),dI=Symbol.for("react.strict_mode"),fI=Symbol.for("react.profiler"),pI=Symbol.for("react.provider"),mI=Symbol.for("react.context"),gI=Symbol.for("react.forward_ref"),yI=Symbol.for("react.suspense"),vI=Symbol.for("react.memo"),xI=Symbol.for("react.lazy"),ET=Symbol.iterator;function wI(e){return e===null||typeof e!="object"?null:(e=ET&&e[ET]||e["@@iterator"],typeof e=="function"?e:null)}var t4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e4=Object.assign,n4={};function Xh(e,t,n){this.props=e,this.context=t,this.refs=n4,this.updater=n||t4}Xh.prototype.isReactComponent={};Xh.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xh.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function s4(){}s4.prototype=Xh.prototype;function tS(e,t,n){this.props=e,this.context=t,this.refs=n4,this.updater=n||t4}var eS=tS.prototype=new s4;eS.constructor=tS;e4(eS,Xh.prototype);eS.isPureReactComponent=!0;var TT=Array.isArray,i4=Object.prototype.hasOwnProperty,nS={current:null},r4={key:!0,ref:!0,__self:!0,__source:!0};function o4(e,t,n){var s,i={},r=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)i4.call(t,s)&&!r4.hasOwnProperty(s)&&(i[s]=t[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(s in a=e.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return{$$typeof:fg,type:e,key:r,ref:o,props:i,_owner:nS.current}}function bI(e,t){return{$$typeof:fg,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function sS(e){return typeof e=="object"&&e!==null&&e.$$typeof===fg}function AI(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var CT=/\/+/g;function Hx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?AI(""+e.key):t.toString(36)}function m0(e,t,n,s,i){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fg:case uI:o=!0}}if(o)return o=e,i=i(o),e=s===""?"."+Hx(o,0):s,TT(i)?(n="",e!=null&&(n=e.replace(CT,"$&/")+"/"),m0(i,t,n,"",function(c){return c})):i!=null&&(sS(i)&&(i=bI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(CT,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=s===""?".":s+":",TT(e))for(var a=0;a<e.length;a++){r=e[a];var l=s+Hx(r,a);o+=m0(r,t,n,l,i)}else if(l=wI(e),typeof l=="function")for(e=l.call(e),a=0;!(r=e.next()).done;)r=r.value,l=s+Hx(r,a++),o+=m0(r,t,n,l,i);else if(r==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ng(e,t,n){if(e==null)return e;var s=[],i=0;return m0(e,s,"","",function(r){return t.call(n,r,i++)}),s}function SI(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hn={current:null},g0={transition:null},EI={ReactCurrentDispatcher:hn,ReactCurrentBatchConfig:g0,ReactCurrentOwner:nS};function a4(){throw Error("act(...) is not supported in production builds of React.")}at.Children={map:Ng,forEach:function(e,t,n){Ng(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ng(e,function(){t++}),t},toArray:function(e){return Ng(e,function(t){return t})||[]},only:function(e){if(!sS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};at.Component=Xh;at.Fragment=hI;at.Profiler=fI;at.PureComponent=tS;at.StrictMode=dI;at.Suspense=yI;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EI;at.act=a4;at.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=e4({},e.props),i=e.key,r=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=nS.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)i4.call(t,l)&&!r4.hasOwnProperty(l)&&(s[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];s.children=a}return{$$typeof:fg,type:e.type,key:i,ref:r,props:s,_owner:o}};at.createContext=function(e){return e={$$typeof:mI,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:pI,_context:e},e.Consumer=e};at.createElement=o4;at.createFactory=function(e){var t=o4.bind(null,e);return t.type=e,t};at.createRef=function(){return{current:null}};at.forwardRef=function(e){return{$$typeof:gI,render:e}};at.isValidElement=sS;at.lazy=function(e){return{$$typeof:xI,_payload:{_status:-1,_result:e},_init:SI}};at.memo=function(e,t){return{$$typeof:vI,type:e,compare:t===void 0?null:t}};at.startTransition=function(e){var t=g0.transition;g0.transition={};try{e()}finally{g0.transition=t}};at.unstable_act=a4;at.useCallback=function(e,t){return hn.current.useCallback(e,t)};at.useContext=function(e){return hn.current.useContext(e)};at.useDebugValue=function(){};at.useDeferredValue=function(e){return hn.current.useDeferredValue(e)};at.useEffect=function(e,t){return hn.current.useEffect(e,t)};at.useId=function(){return hn.current.useId()};at.useImperativeHandle=function(e,t,n){return hn.current.useImperativeHandle(e,t,n)};at.useInsertionEffect=function(e,t){return hn.current.useInsertionEffect(e,t)};at.useLayoutEffect=function(e,t){return hn.current.useLayoutEffect(e,t)};at.useMemo=function(e,t){return hn.current.useMemo(e,t)};at.useReducer=function(e,t,n){return hn.current.useReducer(e,t,n)};at.useRef=function(e){return hn.current.useRef(e)};at.useState=function(e){return hn.current.useState(e)};at.useSyncExternalStore=function(e,t,n){return hn.current.useSyncExternalStore(e,t,n)};at.useTransition=function(){return hn.current.useTransition()};at.version="18.3.1";J3.exports=at;var M=J3.exports;const Bs=Q3(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI=M,CI=Symbol.for("react.element"),PI=Symbol.for("react.fragment"),_I=Object.prototype.hasOwnProperty,MI=TI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RI={key:!0,ref:!0,__self:!0,__source:!0};function l4(e,t,n){var s,i={},r=null,o=null;n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)_I.call(t,s)&&!RI.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:CI,type:e,key:r,ref:o,props:i,_owner:MI.current}}sx.Fragment=PI;sx.jsx=l4;sx.jsxs=l4;Z3.exports=sx;var T=Z3.exports,i2={},c4={exports:{}},qn={},u4={exports:{}},h4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,B){var U=j.length;j.push(B);t:for(;0<U;){var W=U-1>>>1,Q=j[W];if(0<i(Q,B))j[W]=B,j[U]=Q,U=W;else break t}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var B=j[0],U=j.pop();if(U!==B){j[0]=U;t:for(var W=0,Q=j.length,st=Q>>>1;W<st;){var mt=2*(W+1)-1,St=j[mt],ut=mt+1,it=j[ut];if(0>i(St,U))ut<Q&&0>i(it,St)?(j[W]=it,j[ut]=U,W=ut):(j[W]=St,j[mt]=U,W=mt);else if(ut<Q&&0>i(it,U))j[W]=it,j[ut]=U,W=ut;else break t}}return B}function i(j,B){var U=j.sortIndex-B.sortIndex;return U!==0?U:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(j){for(var B=n(c);B!==null;){if(B.callback===null)s(c);else if(B.startTime<=j)s(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function S(j){if(g=!1,v(j),!m)if(n(l)!==null)m=!0,F(E);else{var B=n(c);B!==null&&O(S,B.startTime-j)}}function E(j,B){m=!1,g&&(g=!1,y(R),R=-1),p=!0;var U=f;try{for(v(B),d=n(l);d!==null&&(!(d.expirationTime>B)||j&&!I());){var W=d.callback;if(typeof W=="function"){d.callback=null,f=d.priorityLevel;var Q=W(d.expirationTime<=B);B=e.unstable_now(),typeof Q=="function"?d.callback=Q:d===n(l)&&s(l),v(B)}else s(l);d=n(l)}if(d!==null)var st=!0;else{var mt=n(c);mt!==null&&O(S,mt.startTime-B),st=!1}return st}finally{d=null,f=U,p=!1}}var P=!1,_=null,R=-1,k=5,D=-1;function I(){return!(e.unstable_now()-D<k)}function N(){if(_!==null){var j=e.unstable_now();D=j;var B=!0;try{B=_(!0,j)}finally{B?V():(P=!1,_=null)}}else P=!1}var V;if(typeof x=="function")V=function(){x(N)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,H=L.port2;L.port1.onmessage=N,V=function(){H.postMessage(null)}}else V=function(){w(N,0)};function F(j){_=j,P||(P=!0,V())}function O(j,B){R=w(function(){j(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,F(E))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var U=f;f=B;try{return j()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=f;f=j;try{return B()}finally{f=U}},e.unstable_scheduleCallback=function(j,B,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,j){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=U+Q,j={id:u++,callback:B,priorityLevel:j,startTime:U,expirationTime:Q,sortIndex:-1},U>W?(j.sortIndex=U,t(c,j),n(l)===null&&j===n(c)&&(g?(y(R),R=-1):g=!0,O(S,U-W))):(j.sortIndex=Q,t(l,j),m||p||(m=!0,F(E))),j},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(j){var B=f;return function(){var U=f;f=B;try{return j.apply(this,arguments)}finally{f=U}}}})(h4);u4.exports=h4;var kI=u4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI=M,Xn=kI;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d4=new Set,uf={};function nc(e,t){Ih(e,t),Ih(e+"Capture",t)}function Ih(e,t){for(uf[e]=t,e=0;e<t.length;e++)d4.add(t[e])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),r2=Object.prototype.hasOwnProperty,DI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PT={},_T={};function II(e){return r2.call(_T,e)?!0:r2.call(PT,e)?!1:DI.test(e)?_T[e]=!0:(PT[e]=!0,!1)}function NI(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FI(e,t,n,s){if(t===null||typeof t>"u"||NI(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dn(e,t,n,s,i,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var iS=/[\-:]([a-z])/g;function rS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(iS,rS);Oe[t]=new dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(iS,rS);Oe[t]=new dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(iS,rS);Oe[t]=new dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new dn(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function oS(e,t,n,s){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FI(t,n,i,s)&&(n=null),s||i===null?II(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Pr=LI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fg=Symbol.for("react.element"),vc=Symbol.for("react.portal"),xc=Symbol.for("react.fragment"),aS=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),f4=Symbol.for("react.provider"),p4=Symbol.for("react.context"),lS=Symbol.for("react.forward_ref"),a2=Symbol.for("react.suspense"),l2=Symbol.for("react.suspense_list"),cS=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),m4=Symbol.for("react.offscreen"),MT=Symbol.iterator;function ed(e){return e===null||typeof e!="object"?null:(e=MT&&e[MT]||e["@@iterator"],typeof e=="function"?e:null)}var Ut=Object.assign,Wx;function vd(e){if(Wx===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wx=t&&t[1]||""}return`
`+Wx+e}var Gx=!1;function Xx(e,t){if(!e||Gx)return"";Gx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),r=s.stack.split(`
`),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==r[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gx=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?vd(e):""}function OI(e){switch(e.tag){case 5:return vd(e.type);case 16:return vd("Lazy");case 13:return vd("Suspense");case 19:return vd("SuspenseList");case 0:case 2:case 15:return e=Xx(e.type,!1),e;case 11:return e=Xx(e.type.render,!1),e;case 1:return e=Xx(e.type,!0),e;default:return""}}function c2(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xc:return"Fragment";case vc:return"Portal";case o2:return"Profiler";case aS:return"StrictMode";case a2:return"Suspense";case l2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case p4:return(e.displayName||"Context")+".Consumer";case f4:return(e._context.displayName||"Context")+".Provider";case lS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cS:return t=e.displayName||null,t!==null?t:c2(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return c2(e(t))}catch{}}return null}function VI(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return c2(t);case 8:return t===aS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jI(e){var t=g4(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){s=""+o,r.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Og(e){e._valueTracker||(e._valueTracker=jI(e))}function y4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=g4(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function d1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function u2(e,t){var n=t.checked;return Ut({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function RT(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function v4(e,t){t=t.checked,t!=null&&oS(e,"checked",t,!1)}function h2(e,t){v4(e,t);var n=Uo(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?d2(e,t.type,n):t.hasOwnProperty("defaultValue")&&d2(e,t.type,Uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function kT(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function d2(e,t,n){(t!=="number"||d1(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var xd=Array.isArray;function zc(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Uo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function f2(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ut({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LT(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(xd(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Uo(n)}}function x4(e,t){var n=Uo(t.value),s=Uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function DT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function w4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function p2(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?w4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vg,b4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vg=Vg||document.createElement("div"),Vg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function hf(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$I=["Webkit","ms","Moz","O"];Object.keys(Ud).forEach(function(e){$I.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ud[t]=Ud[e]})});function A4(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ud.hasOwnProperty(e)&&Ud[e]?(""+t).trim():t+"px"}function S4(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=A4(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var BI=Ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function m2(e,t){if(t){if(BI[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function g2(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var y2=null;function uS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var v2=null,Uc=null,Hc=null;function IT(e){if(e=gg(e)){if(typeof v2!="function")throw Error(z(280));var t=e.stateNode;t&&(t=lx(t),v2(e.stateNode,e.type,t))}}function E4(e){Uc?Hc?Hc.push(e):Hc=[e]:Uc=e}function T4(){if(Uc){var e=Uc,t=Hc;if(Hc=Uc=null,IT(e),t)for(e=0;e<t.length;e++)IT(t[e])}}function C4(e,t){return e(t)}function P4(){}var Yx=!1;function _4(e,t,n){if(Yx)return e(t,n);Yx=!0;try{return C4(e,t,n)}finally{Yx=!1,(Uc!==null||Hc!==null)&&(P4(),T4())}}function df(e,t){var n=e.stateNode;if(n===null)return null;var s=lx(n);if(s===null)return null;n=s[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var x2=!1;if(vr)try{var nd={};Object.defineProperty(nd,"passive",{get:function(){x2=!0}}),window.addEventListener("test",nd,nd),window.removeEventListener("test",nd,nd)}catch{x2=!1}function zI(e,t,n,s,i,r,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Hd=!1,f1=null,p1=!1,w2=null,UI={onError:function(e){Hd=!0,f1=e}};function HI(e,t,n,s,i,r,o,a,l){Hd=!1,f1=null,zI.apply(UI,arguments)}function WI(e,t,n,s,i,r,o,a,l){if(HI.apply(this,arguments),Hd){if(Hd){var c=f1;Hd=!1,f1=null}else throw Error(z(198));p1||(p1=!0,w2=c)}}function sc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function M4(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function NT(e){if(sc(e)!==e)throw Error(z(188))}function GI(e){var t=e.alternate;if(!t){if(t=sc(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return NT(i),e;if(r===s)return NT(i),t;r=r.sibling}throw Error(z(188))}if(n.return!==s.return)n=i,s=r;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,s=r;break}if(a===s){o=!0,s=i,n=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===n){o=!0,n=r,s=i;break}if(a===s){o=!0,s=r,n=i;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==s)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function R4(e){return e=GI(e),e!==null?k4(e):null}function k4(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=k4(e);if(t!==null)return t;e=e.sibling}return null}var L4=Xn.unstable_scheduleCallback,FT=Xn.unstable_cancelCallback,XI=Xn.unstable_shouldYield,YI=Xn.unstable_requestPaint,Jt=Xn.unstable_now,qI=Xn.unstable_getCurrentPriorityLevel,hS=Xn.unstable_ImmediatePriority,D4=Xn.unstable_UserBlockingPriority,m1=Xn.unstable_NormalPriority,KI=Xn.unstable_LowPriority,I4=Xn.unstable_IdlePriority,ix=null,wi=null;function QI(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(ix,e,void 0,(e.current.flags&128)===128)}catch{}}var zs=Math.clz32?Math.clz32:tN,ZI=Math.log,JI=Math.LN2;function tN(e){return e>>>=0,e===0?32:31-(ZI(e)/JI|0)|0}var jg=64,$g=4194304;function wd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g1(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?s=wd(a):(r&=o,r!==0&&(s=wd(r)))}else o=n&~i,o!==0?s=wd(o):r!==0&&(s=wd(r));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,r=t&-t,i>=r||i===16&&(r&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-zs(t),i=1<<n,s|=e[n],t&=~i;return s}function eN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nN(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,r=e.pendingLanes;0<r;){var o=31-zs(r),a=1<<o,l=i[o];l===-1?(!(a&n)||a&s)&&(i[o]=eN(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}function b2(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N4(){var e=jg;return jg<<=1,!(jg&4194240)&&(jg=64),e}function qx(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pg(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zs(t),e[t]=n}function sN(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-zs(n),r=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~r}}function dS(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-zs(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var yt=0;function F4(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var O4,fS,V4,j4,$4,A2=!1,Bg=[],Ro=null,ko=null,Lo=null,ff=new Map,pf=new Map,Or=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OT(e,t){switch(e){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":ff.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pf.delete(t.pointerId)}}function sd(e,t,n,s,i,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},t!==null&&(t=gg(t),t!==null&&fS(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function rN(e,t,n,s,i){switch(t){case"focusin":return Ro=sd(Ro,e,t,n,s,i),!0;case"dragenter":return ko=sd(ko,e,t,n,s,i),!0;case"mouseover":return Lo=sd(Lo,e,t,n,s,i),!0;case"pointerover":var r=i.pointerId;return ff.set(r,sd(ff.get(r)||null,e,t,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,pf.set(r,sd(pf.get(r)||null,e,t,n,s,i)),!0}return!1}function B4(e){var t=ga(e.target);if(t!==null){var n=sc(t);if(n!==null){if(t=n.tag,t===13){if(t=M4(n),t!==null){e.blockedOn=t,$4(e.priority,function(){V4(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function y0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=S2(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);y2=s,n.target.dispatchEvent(s),y2=null}else return t=gg(n),t!==null&&fS(t),e.blockedOn=n,!1;t.shift()}return!0}function VT(e,t,n){y0(e)&&n.delete(t)}function oN(){A2=!1,Ro!==null&&y0(Ro)&&(Ro=null),ko!==null&&y0(ko)&&(ko=null),Lo!==null&&y0(Lo)&&(Lo=null),ff.forEach(VT),pf.forEach(VT)}function id(e,t){e.blockedOn===t&&(e.blockedOn=null,A2||(A2=!0,Xn.unstable_scheduleCallback(Xn.unstable_NormalPriority,oN)))}function mf(e){function t(i){return id(i,e)}if(0<Bg.length){id(Bg[0],e);for(var n=1;n<Bg.length;n++){var s=Bg[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Ro!==null&&id(Ro,e),ko!==null&&id(ko,e),Lo!==null&&id(Lo,e),ff.forEach(t),pf.forEach(t),n=0;n<Or.length;n++)s=Or[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)B4(n),n.blockedOn===null&&Or.shift()}var Wc=Pr.ReactCurrentBatchConfig,y1=!0;function aN(e,t,n,s){var i=yt,r=Wc.transition;Wc.transition=null;try{yt=1,pS(e,t,n,s)}finally{yt=i,Wc.transition=r}}function lN(e,t,n,s){var i=yt,r=Wc.transition;Wc.transition=null;try{yt=4,pS(e,t,n,s)}finally{yt=i,Wc.transition=r}}function pS(e,t,n,s){if(y1){var i=S2(e,t,n,s);if(i===null)rw(e,t,s,v1,n),OT(e,s);else if(rN(i,e,t,n,s))s.stopPropagation();else if(OT(e,s),t&4&&-1<iN.indexOf(e)){for(;i!==null;){var r=gg(i);if(r!==null&&O4(r),r=S2(e,t,n,s),r===null&&rw(e,t,s,v1,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else rw(e,t,s,null,n)}}var v1=null;function S2(e,t,n,s){if(v1=null,e=uS(s),e=ga(e),e!==null)if(t=sc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=M4(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v1=e,null}function z4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qI()){case hS:return 1;case D4:return 4;case m1:case KI:return 16;case I4:return 536870912;default:return 16}default:return 16}}var _o=null,mS=null,v0=null;function U4(){if(v0)return v0;var e,t=mS,n=t.length,s,i="value"in _o?_o.value:_o.textContent,r=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===i[r-s];s++);return v0=i.slice(e,1<s?1-s:void 0)}function x0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zg(){return!0}function jT(){return!1}function Kn(e){function t(n,s,i,r,o){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?zg:jT,this.isPropagationStopped=jT,this}return Ut(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=zg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=zg)},persist:function(){},isPersistent:zg}),t}var Yh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gS=Kn(Yh),mg=Ut({},Yh,{view:0,detail:0}),cN=Kn(mg),Kx,Qx,rd,rx=Ut({},mg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rd&&(rd&&e.type==="mousemove"?(Kx=e.screenX-rd.screenX,Qx=e.screenY-rd.screenY):Qx=Kx=0,rd=e),Kx)},movementY:function(e){return"movementY"in e?e.movementY:Qx}}),$T=Kn(rx),uN=Ut({},rx,{dataTransfer:0}),hN=Kn(uN),dN=Ut({},mg,{relatedTarget:0}),Zx=Kn(dN),fN=Ut({},Yh,{animationName:0,elapsedTime:0,pseudoElement:0}),pN=Kn(fN),mN=Ut({},Yh,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gN=Kn(mN),yN=Ut({},Yh,{data:0}),BT=Kn(yN),vN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wN[e])?!!t[e]:!1}function yS(){return bN}var AN=Ut({},mg,{key:function(e){if(e.key){var t=vN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=x0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yS,charCode:function(e){return e.type==="keypress"?x0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?x0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),SN=Kn(AN),EN=Ut({},rx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zT=Kn(EN),TN=Ut({},mg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yS}),CN=Kn(TN),PN=Ut({},Yh,{propertyName:0,elapsedTime:0,pseudoElement:0}),_N=Kn(PN),MN=Ut({},rx,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=Kn(MN),kN=[9,13,27,32],vS=vr&&"CompositionEvent"in window,Wd=null;vr&&"documentMode"in document&&(Wd=document.documentMode);var LN=vr&&"TextEvent"in window&&!Wd,H4=vr&&(!vS||Wd&&8<Wd&&11>=Wd),UT=String.fromCharCode(32),HT=!1;function W4(e,t){switch(e){case"keyup":return kN.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function G4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wc=!1;function DN(e,t){switch(e){case"compositionend":return G4(t);case"keypress":return t.which!==32?null:(HT=!0,UT);case"textInput":return e=t.data,e===UT&&HT?null:e;default:return null}}function IN(e,t){if(wc)return e==="compositionend"||!vS&&W4(e,t)?(e=U4(),v0=mS=_o=null,wc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return H4&&t.locale!=="ko"?null:t.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function WT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!NN[e.type]:t==="textarea"}function X4(e,t,n,s){E4(s),t=x1(t,"onChange"),0<t.length&&(n=new gS("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Gd=null,gf=null;function FN(e){iM(e,0)}function ox(e){var t=Sc(e);if(y4(t))return e}function ON(e,t){if(e==="change")return t}var Y4=!1;if(vr){var Jx;if(vr){var tw="oninput"in document;if(!tw){var GT=document.createElement("div");GT.setAttribute("oninput","return;"),tw=typeof GT.oninput=="function"}Jx=tw}else Jx=!1;Y4=Jx&&(!document.documentMode||9<document.documentMode)}function XT(){Gd&&(Gd.detachEvent("onpropertychange",q4),gf=Gd=null)}function q4(e){if(e.propertyName==="value"&&ox(gf)){var t=[];X4(t,gf,e,uS(e)),_4(FN,t)}}function VN(e,t,n){e==="focusin"?(XT(),Gd=t,gf=n,Gd.attachEvent("onpropertychange",q4)):e==="focusout"&&XT()}function jN(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ox(gf)}function $N(e,t){if(e==="click")return ox(t)}function BN(e,t){if(e==="input"||e==="change")return ox(t)}function zN(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ws=typeof Object.is=="function"?Object.is:zN;function yf(e,t){if(Ws(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!r2.call(t,i)||!Ws(e[i],t[i]))return!1}return!0}function YT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qT(e,t){var n=YT(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=YT(n)}}function K4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?K4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q4(){for(var e=window,t=d1();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=d1(e.document)}return t}function xS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function UN(e){var t=Q4(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&K4(n.ownerDocument.documentElement,n)){if(s!==null&&xS(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,r=Math.min(s.start,i);s=s.end===void 0?r:Math.min(s.end,i),!e.extend&&r>s&&(i=s,s=r,r=i),i=qT(n,r);var o=qT(n,s);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),r>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HN=vr&&"documentMode"in document&&11>=document.documentMode,bc=null,E2=null,Xd=null,T2=!1;function KT(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;T2||bc==null||bc!==d1(s)||(s=bc,"selectionStart"in s&&xS(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Xd&&yf(Xd,s)||(Xd=s,s=x1(E2,"onSelect"),0<s.length&&(t=new gS("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=bc)))}function Ug(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ac={animationend:Ug("Animation","AnimationEnd"),animationiteration:Ug("Animation","AnimationIteration"),animationstart:Ug("Animation","AnimationStart"),transitionend:Ug("Transition","TransitionEnd")},ew={},Z4={};vr&&(Z4=document.createElement("div").style,"AnimationEvent"in window||(delete Ac.animationend.animation,delete Ac.animationiteration.animation,delete Ac.animationstart.animation),"TransitionEvent"in window||delete Ac.transitionend.transition);function ax(e){if(ew[e])return ew[e];if(!Ac[e])return e;var t=Ac[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Z4)return ew[e]=t[n];return e}var J4=ax("animationend"),tM=ax("animationiteration"),eM=ax("animationstart"),nM=ax("transitionend"),sM=new Map,QT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qo(e,t){sM.set(e,t),nc(t,[e])}for(var nw=0;nw<QT.length;nw++){var sw=QT[nw],WN=sw.toLowerCase(),GN=sw[0].toUpperCase()+sw.slice(1);Qo(WN,"on"+GN)}Qo(J4,"onAnimationEnd");Qo(tM,"onAnimationIteration");Qo(eM,"onAnimationStart");Qo("dblclick","onDoubleClick");Qo("focusin","onFocus");Qo("focusout","onBlur");Qo(nM,"onTransitionEnd");Ih("onMouseEnter",["mouseout","mouseover"]);Ih("onMouseLeave",["mouseout","mouseover"]);Ih("onPointerEnter",["pointerout","pointerover"]);Ih("onPointerLeave",["pointerout","pointerover"]);nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("cancel close invalid load scroll toggle".split(" ").concat(bd));function ZT(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,WI(s,t,void 0,e),e.currentTarget=null}function iM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;t:{var r=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break t;ZT(i,a,c),r=l}else for(o=0;o<s.length;o++){if(a=s[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break t;ZT(i,a,c),r=l}}}if(p1)throw e=w2,p1=!1,w2=null,e}function Pt(e,t){var n=t[R2];n===void 0&&(n=t[R2]=new Set);var s=e+"__bubble";n.has(s)||(rM(t,e,2,!1),n.add(s))}function iw(e,t,n){var s=0;t&&(s|=4),rM(n,e,s,t)}var Hg="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[Hg]){e[Hg]=!0,d4.forEach(function(n){n!=="selectionchange"&&(XN.has(n)||iw(n,!1,e),iw(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hg]||(t[Hg]=!0,iw("selectionchange",!1,t))}}function rM(e,t,n,s){switch(z4(t)){case 1:var i=aN;break;case 4:i=lN;break;default:i=pS}n=i.bind(null,t,n,e),i=void 0,!x2||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rw(e,t,n,s,i){var r=s;if(!(t&1)&&!(t&2)&&s!==null)t:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var a=s.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=s.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ga(a),o===null)return;if(l=o.tag,l===5||l===6){s=r=o;continue t}a=a.parentNode}}s=s.return}_4(function(){var c=r,u=uS(n),d=[];t:{var f=sM.get(e);if(f!==void 0){var p=gS,m=e;switch(e){case"keypress":if(x0(n)===0)break t;case"keydown":case"keyup":p=SN;break;case"focusin":m="focus",p=Zx;break;case"focusout":m="blur",p=Zx;break;case"beforeblur":case"afterblur":p=Zx;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=$T;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CN;break;case J4:case tM:case eM:p=pN;break;case nM:p=_N;break;case"scroll":p=cN;break;case"wheel":p=RN;break;case"copy":case"cut":case"paste":p=gN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=zT}var g=(t&4)!==0,w=!g&&e==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var x=c,v;x!==null;){v=x;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,y!==null&&(S=df(x,y),S!=null&&g.push(xf(x,S,v)))),w)break;x=x.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(t&7)){t:{if(f=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",f&&n!==y2&&(m=n.relatedTarget||n.fromElement)&&(ga(m)||m[xr]))break t;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?ga(m):null,m!==null&&(w=sc(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=$T,S="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=zT,S="onPointerLeave",y="onPointerEnter",x="pointer"),w=p==null?f:Sc(p),v=m==null?f:Sc(m),f=new g(S,x+"leave",p,n,u),f.target=w,f.relatedTarget=v,S=null,ga(u)===c&&(g=new g(y,x+"enter",m,n,u),g.target=v,g.relatedTarget=w,S=g),w=S,p&&m)e:{for(g=p,y=m,x=0,v=g;v;v=uc(v))x++;for(v=0,S=y;S;S=uc(S))v++;for(;0<x-v;)g=uc(g),x--;for(;0<v-x;)y=uc(y),v--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break e;g=uc(g),y=uc(y)}g=null}else g=null;p!==null&&JT(d,f,p,g,!1),m!==null&&w!==null&&JT(d,w,m,g,!0)}}t:{if(f=c?Sc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=ON;else if(WT(f))if(Y4)E=BN;else{E=jN;var P=VN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=$N);if(E&&(E=E(e,c))){X4(d,E,n,u);break t}P&&P(e,f,c),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&d2(f,"number",f.value)}switch(P=c?Sc(c):window,e){case"focusin":(WT(P)||P.contentEditable==="true")&&(bc=P,E2=c,Xd=null);break;case"focusout":Xd=E2=bc=null;break;case"mousedown":T2=!0;break;case"contextmenu":case"mouseup":case"dragend":T2=!1,KT(d,n,u);break;case"selectionchange":if(HN)break;case"keydown":case"keyup":KT(d,n,u)}var _;if(vS)t:{switch(e){case"compositionstart":var R="onCompositionStart";break t;case"compositionend":R="onCompositionEnd";break t;case"compositionupdate":R="onCompositionUpdate";break t}R=void 0}else wc?W4(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(H4&&n.locale!=="ko"&&(wc||R!=="onCompositionStart"?R==="onCompositionEnd"&&wc&&(_=U4()):(_o=u,mS="value"in _o?_o.value:_o.textContent,wc=!0)),P=x1(c,R),0<P.length&&(R=new BT(R,e,null,n,u),d.push({event:R,listeners:P}),_?R.data=_:(_=G4(n),_!==null&&(R.data=_)))),(_=LN?DN(e,n):IN(e,n))&&(c=x1(c,"onBeforeInput"),0<c.length&&(u=new BT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}iM(d,t)})}function xf(e,t,n){return{instance:e,listener:t,currentTarget:n}}function x1(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=df(e,n),r!=null&&s.unshift(xf(e,r,i)),r=df(e,t),r!=null&&s.push(xf(e,r,i))),e=e.return}return s}function uc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function JT(e,t,n,s,i){for(var r=t._reactName,o=[];n!==null&&n!==s;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===s)break;a.tag===5&&c!==null&&(a=c,i?(l=df(n,r),l!=null&&o.unshift(xf(n,l,a))):i||(l=df(n,r),l!=null&&o.push(xf(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var YN=/\r\n?/g,qN=/\u0000|\uFFFD/g;function tC(e){return(typeof e=="string"?e:""+e).replace(YN,`
`).replace(qN,"")}function Wg(e,t,n){if(t=tC(t),tC(e)!==t&&n)throw Error(z(425))}function w1(){}var C2=null,P2=null;function _2(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var M2=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,eC=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof eC<"u"?function(e){return eC.resolve(null).then(e).catch(ZN)}:M2;function ZN(e){setTimeout(function(){throw e})}function ow(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),mf(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);mf(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qh=Math.random().toString(36).slice(2),vi="__reactFiber$"+qh,wf="__reactProps$"+qh,xr="__reactContainer$"+qh,R2="__reactEvents$"+qh,JN="__reactListeners$"+qh,tF="__reactHandles$"+qh;function ga(e){var t=e[vi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xr]||n[vi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nC(e);e!==null;){if(n=e[vi])return n;e=nC(e)}return t}e=n,n=e.parentNode}return null}function gg(e){return e=e[vi]||e[xr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Sc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function lx(e){return e[wf]||null}var k2=[],Ec=-1;function Zo(e){return{current:e}}function _t(e){0>Ec||(e.current=k2[Ec],k2[Ec]=null,Ec--)}function Et(e,t){Ec++,k2[Ec]=e.current,e.current=t}var Ho={},Ke=Zo(Ho),Sn=Zo(!1),ql=Ho;function Nh(e,t){var n=e.type.contextTypes;if(!n)return Ho;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in n)i[r]=t[r];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function En(e){return e=e.childContextTypes,e!=null}function b1(){_t(Sn),_t(Ke)}function sC(e,t,n){if(Ke.current!==Ho)throw Error(z(168));Et(Ke,t),Et(Sn,n)}function oM(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(z(108,VI(e)||"Unknown",i));return Ut({},n,s)}function A1(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ho,ql=Ke.current,Et(Ke,e),Et(Sn,Sn.current),!0}function iC(e,t,n){var s=e.stateNode;if(!s)throw Error(z(169));n?(e=oM(e,t,ql),s.__reactInternalMemoizedMergedChildContext=e,_t(Sn),_t(Ke),Et(Ke,e)):_t(Sn),Et(Sn,n)}var Li=null,cx=!1,aw=!1;function aM(e){Li===null?Li=[e]:Li.push(e)}function eF(e){cx=!0,aM(e)}function Jo(){if(!aw&&Li!==null){aw=!0;var e=0,t=yt;try{var n=Li;for(yt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Li=null,cx=!1}catch(i){throw Li!==null&&(Li=Li.slice(e+1)),L4(hS,Jo),i}finally{yt=t,aw=!1}}return null}var Tc=[],Cc=0,S1=null,E1=0,us=[],hs=0,Kl=null,dr=1,fr="";function ra(e,t){Tc[Cc++]=E1,Tc[Cc++]=S1,S1=e,E1=t}function lM(e,t,n){us[hs++]=dr,us[hs++]=fr,us[hs++]=Kl,Kl=e;var s=dr;e=fr;var i=32-zs(s)-1;s&=~(1<<i),n+=1;var r=32-zs(t)+i;if(30<r){var o=i-i%5;r=(s&(1<<o)-1).toString(32),s>>=o,i-=o,dr=1<<32-zs(t)+i|n<<i|s,fr=r+e}else dr=1<<r|n<<i|s,fr=e}function wS(e){e.return!==null&&(ra(e,1),lM(e,1,0))}function bS(e){for(;e===S1;)S1=Tc[--Cc],Tc[Cc]=null,E1=Tc[--Cc],Tc[Cc]=null;for(;e===Kl;)Kl=us[--hs],us[hs]=null,fr=us[--hs],us[hs]=null,dr=us[--hs],us[hs]=null}var Gn=null,Wn=null,Nt=!1,js=null;function cM(e,t){var n=fs(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function rC(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gn=e,Wn=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gn=e,Wn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kl!==null?{id:dr,overflow:fr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=fs(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gn=e,Wn=null,!0):!1;default:return!1}}function L2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function D2(e){if(Nt){var t=Wn;if(t){var n=t;if(!rC(e,t)){if(L2(e))throw Error(z(418));t=Do(n.nextSibling);var s=Gn;t&&rC(e,t)?cM(s,n):(e.flags=e.flags&-4097|2,Nt=!1,Gn=e)}}else{if(L2(e))throw Error(z(418));e.flags=e.flags&-4097|2,Nt=!1,Gn=e}}}function oC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gn=e}function Gg(e){if(e!==Gn)return!1;if(!Nt)return oC(e),Nt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_2(e.type,e.memoizedProps)),t&&(t=Wn)){if(L2(e))throw uM(),Error(z(418));for(;t;)cM(e,t),t=Do(t.nextSibling)}if(oC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Wn=Do(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Wn=null}}else Wn=Gn?Do(e.stateNode.nextSibling):null;return!0}function uM(){for(var e=Wn;e;)e=Do(e.nextSibling)}function Fh(){Wn=Gn=null,Nt=!1}function AS(e){js===null?js=[e]:js.push(e)}var nF=Pr.ReactCurrentBatchConfig;function od(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var s=n.stateNode}if(!s)throw Error(z(147,e));var i=s,r=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var a=i.refs;o===null?delete a[r]:a[r]=o},t._stringRef=r,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function Xg(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aC(e){var t=e._init;return t(e._payload)}function hM(e){function t(y,x){if(e){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function s(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Oo(y,x),y.index=0,y.sibling=null,y}function r(y,x,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=2,x):v):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,x,v,S){return x===null||x.tag!==6?(x=pw(v,y.mode,S),x.return=y,x):(x=i(x,v),x.return=y,x)}function l(y,x,v,S){var E=v.type;return E===xc?u(y,x,v.props.children,S,v.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&aC(E)===x.type)?(S=i(x,v.props),S.ref=od(y,x,v),S.return=y,S):(S=C0(v.type,v.key,v.props,null,y.mode,S),S.ref=od(y,x,v),S.return=y,S)}function c(y,x,v,S){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=mw(v,y.mode,S),x.return=y,x):(x=i(x,v.children||[]),x.return=y,x)}function u(y,x,v,S,E){return x===null||x.tag!==7?(x=Gl(v,y.mode,S,E),x.return=y,x):(x=i(x,v),x.return=y,x)}function d(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number")return x=pw(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fg:return v=C0(x.type,x.key,x.props,null,y.mode,v),v.ref=od(y,null,x),v.return=y,v;case vc:return x=mw(x,y.mode,v),x.return=y,x;case Ir:var S=x._init;return d(y,S(x._payload),v)}if(xd(x)||ed(x))return x=Gl(x,y.mode,v,null),x.return=y,x;Xg(y,x)}return null}function f(y,x,v,S){var E=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,x,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Fg:return v.key===E?l(y,x,v,S):null;case vc:return v.key===E?c(y,x,v,S):null;case Ir:return E=v._init,f(y,x,E(v._payload),S)}if(xd(v)||ed(v))return E!==null?null:u(y,x,v,S,null);Xg(y,v)}return null}function p(y,x,v,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(v)||null,a(x,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Fg:return y=y.get(S.key===null?v:S.key)||null,l(x,y,S,E);case vc:return y=y.get(S.key===null?v:S.key)||null,c(x,y,S,E);case Ir:var P=S._init;return p(y,x,v,P(S._payload),E)}if(xd(S)||ed(S))return y=y.get(v)||null,u(x,y,S,E,null);Xg(x,S)}return null}function m(y,x,v,S){for(var E=null,P=null,_=x,R=x=0,k=null;_!==null&&R<v.length;R++){_.index>R?(k=_,_=null):k=_.sibling;var D=f(y,_,v[R],S);if(D===null){_===null&&(_=k);break}e&&_&&D.alternate===null&&t(y,_),x=r(D,x,R),P===null?E=D:P.sibling=D,P=D,_=k}if(R===v.length)return n(y,_),Nt&&ra(y,R),E;if(_===null){for(;R<v.length;R++)_=d(y,v[R],S),_!==null&&(x=r(_,x,R),P===null?E=_:P.sibling=_,P=_);return Nt&&ra(y,R),E}for(_=s(y,_);R<v.length;R++)k=p(_,y,R,v[R],S),k!==null&&(e&&k.alternate!==null&&_.delete(k.key===null?R:k.key),x=r(k,x,R),P===null?E=k:P.sibling=k,P=k);return e&&_.forEach(function(I){return t(y,I)}),Nt&&ra(y,R),E}function g(y,x,v,S){var E=ed(v);if(typeof E!="function")throw Error(z(150));if(v=E.call(v),v==null)throw Error(z(151));for(var P=E=null,_=x,R=x=0,k=null,D=v.next();_!==null&&!D.done;R++,D=v.next()){_.index>R?(k=_,_=null):k=_.sibling;var I=f(y,_,D.value,S);if(I===null){_===null&&(_=k);break}e&&_&&I.alternate===null&&t(y,_),x=r(I,x,R),P===null?E=I:P.sibling=I,P=I,_=k}if(D.done)return n(y,_),Nt&&ra(y,R),E;if(_===null){for(;!D.done;R++,D=v.next())D=d(y,D.value,S),D!==null&&(x=r(D,x,R),P===null?E=D:P.sibling=D,P=D);return Nt&&ra(y,R),E}for(_=s(y,_);!D.done;R++,D=v.next())D=p(_,y,R,D.value,S),D!==null&&(e&&D.alternate!==null&&_.delete(D.key===null?R:D.key),x=r(D,x,R),P===null?E=D:P.sibling=D,P=D);return e&&_.forEach(function(N){return t(y,N)}),Nt&&ra(y,R),E}function w(y,x,v,S){if(typeof v=="object"&&v!==null&&v.type===xc&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Fg:t:{for(var E=v.key,P=x;P!==null;){if(P.key===E){if(E=v.type,E===xc){if(P.tag===7){n(y,P.sibling),x=i(P,v.props.children),x.return=y,y=x;break t}}else if(P.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ir&&aC(E)===P.type){n(y,P.sibling),x=i(P,v.props),x.ref=od(y,P,v),x.return=y,y=x;break t}n(y,P);break}else t(y,P);P=P.sibling}v.type===xc?(x=Gl(v.props.children,y.mode,S,v.key),x.return=y,y=x):(S=C0(v.type,v.key,v.props,null,y.mode,S),S.ref=od(y,x,v),S.return=y,y=S)}return o(y);case vc:t:{for(P=v.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),x=i(x,v.children||[]),x.return=y,y=x;break t}else{n(y,x);break}else t(y,x);x=x.sibling}x=mw(v,y.mode,S),x.return=y,y=x}return o(y);case Ir:return P=v._init,w(y,x,P(v._payload),S)}if(xd(v))return m(y,x,v,S);if(ed(v))return g(y,x,v,S);Xg(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,v),x.return=y,y=x):(n(y,x),x=pw(v,y.mode,S),x.return=y,y=x),o(y)):n(y,x)}return w}var Oh=hM(!0),dM=hM(!1),T1=Zo(null),C1=null,Pc=null,SS=null;function ES(){SS=Pc=C1=null}function TS(e){var t=T1.current;_t(T1),e._currentValue=t}function I2(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Gc(e,t){C1=e,SS=Pc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bn=!0),e.firstContext=null)}function gs(e){var t=e._currentValue;if(SS!==e)if(e={context:e,memoizedValue:t,next:null},Pc===null){if(C1===null)throw Error(z(308));Pc=e,C1.dependencies={lanes:0,firstContext:e}}else Pc=Pc.next=e;return t}var ya=null;function CS(e){ya===null?ya=[e]:ya.push(e)}function fM(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,CS(t)):(n.next=i.next,i.next=n),t.interleaved=n,wr(e,s)}function wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Nr=!1;function PS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Io(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ft&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,wr(e,n)}return i=s.interleaved,i===null?(t.next=t,CS(s)):(t.next=i.next,i.next=t),s.interleaved=t,wr(e,n)}function w0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dS(e,n)}}function lC(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};r===null?i=r=o:r=r.next=o,n=n.next}while(n!==null);r===null?i=r=t:r=r.next=t}else i=r=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function P1(e,t,n,s){var i=e.updateQueue;Nr=!1;var r=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?r=c:o.next=c,o=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=i.baseState;o=0,u=c=l=null,a=r;do{var f=a.lane,p=a.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var m=e,g=a;switch(f=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break t}d=m;break t;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break t;d=Ut({},d,f);break t;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else r===null&&(i.shared.lanes=0);Zl|=o,e.lanes=o,e.memoizedState=d}}function cC(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(z(191,i));i.call(s)}}}var yg={},bi=Zo(yg),bf=Zo(yg),Af=Zo(yg);function va(e){if(e===yg)throw Error(z(174));return e}function _S(e,t){switch(Et(Af,t),Et(bf,e),Et(bi,yg),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:p2(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=p2(t,e)}_t(bi),Et(bi,t)}function Vh(){_t(bi),_t(bf),_t(Af)}function mM(e){va(Af.current);var t=va(bi.current),n=p2(t,e.type);t!==n&&(Et(bf,e),Et(bi,n))}function MS(e){bf.current===e&&(_t(bi),_t(bf))}var jt=Zo(0);function _1(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lw=[];function RS(){for(var e=0;e<lw.length;e++)lw[e]._workInProgressVersionPrimary=null;lw.length=0}var b0=Pr.ReactCurrentDispatcher,cw=Pr.ReactCurrentBatchConfig,Ql=0,zt=null,de=null,Se=null,M1=!1,Yd=!1,Sf=0,sF=0;function Ve(){throw Error(z(321))}function kS(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ws(e[n],t[n]))return!1;return!0}function LS(e,t,n,s,i,r){if(Ql=r,zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,b0.current=e===null||e.memoizedState===null?aF:lF,e=n(s,i),Yd){r=0;do{if(Yd=!1,Sf=0,25<=r)throw Error(z(301));r+=1,Se=de=null,t.updateQueue=null,b0.current=cF,e=n(s,i)}while(Yd)}if(b0.current=R1,t=de!==null&&de.next!==null,Ql=0,Se=de=zt=null,M1=!1,t)throw Error(z(300));return e}function DS(){var e=Sf!==0;return Sf=0,e}function Zs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?zt.memoizedState=Se=e:Se=Se.next=e,Se}function ys(){if(de===null){var e=zt.alternate;e=e!==null?e.memoizedState:null}else e=de.next;var t=Se===null?zt.memoizedState:Se.next;if(t!==null)Se=t,de=e;else{if(e===null)throw Error(z(310));de=e,e={memoizedState:de.memoizedState,baseState:de.baseState,baseQueue:de.baseQueue,queue:de.queue,next:null},Se===null?zt.memoizedState=Se=e:Se=Se.next=e}return Se}function Ef(e,t){return typeof t=="function"?t(e):t}function uw(e){var t=ys(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=de,i=s.baseQueue,r=n.pending;if(r!==null){if(i!==null){var o=i.next;i.next=r.next,r.next=o}s.baseQueue=i=r,n.pending=null}if(i!==null){r=i.next,s=s.baseState;var a=o=null,l=null,c=r;do{var u=c.lane;if((Ql&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:e(s,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=s):l=l.next=d,zt.lanes|=u,Zl|=u}c=c.next}while(c!==null&&c!==r);l===null?o=s:l.next=a,Ws(s,t.memoizedState)||(bn=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=l,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do r=i.lane,zt.lanes|=r,Zl|=r,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function hw(e){var t=ys(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,r=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do r=e(r,o.action),o=o.next;while(o!==i);Ws(r,t.memoizedState)||(bn=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,s]}function gM(){}function yM(e,t){var n=zt,s=ys(),i=t(),r=!Ws(s.memoizedState,i);if(r&&(s.memoizedState=i,bn=!0),s=s.queue,IS(wM.bind(null,n,s,e),[e]),s.getSnapshot!==t||r||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Tf(9,xM.bind(null,n,s,i,t),void 0,null),Ee===null)throw Error(z(349));Ql&30||vM(n,t,i)}return i}function vM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xM(e,t,n,s){t.value=n,t.getSnapshot=s,bM(t)&&AM(e)}function wM(e,t,n){return n(function(){bM(t)&&AM(e)})}function bM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ws(e,n)}catch{return!0}}function AM(e){var t=wr(e,1);t!==null&&Us(t,e,1,-1)}function uC(e){var t=Zs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ef,lastRenderedState:e},t.queue=e,e=e.dispatch=oF.bind(null,zt,e),[t.memoizedState,e]}function Tf(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=zt.updateQueue,t===null?(t={lastEffect:null,stores:null},zt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function SM(){return ys().memoizedState}function A0(e,t,n,s){var i=Zs();zt.flags|=e,i.memoizedState=Tf(1|t,n,void 0,s===void 0?null:s)}function ux(e,t,n,s){var i=ys();s=s===void 0?null:s;var r=void 0;if(de!==null){var o=de.memoizedState;if(r=o.destroy,s!==null&&kS(s,o.deps)){i.memoizedState=Tf(t,n,r,s);return}}zt.flags|=e,i.memoizedState=Tf(1|t,n,r,s)}function hC(e,t){return A0(8390656,8,e,t)}function IS(e,t){return ux(2048,8,e,t)}function EM(e,t){return ux(4,2,e,t)}function TM(e,t){return ux(4,4,e,t)}function CM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function PM(e,t,n){return n=n!=null?n.concat([e]):null,ux(4,4,CM.bind(null,t,e),n)}function NS(){}function _M(e,t){var n=ys();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&kS(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function MM(e,t){var n=ys();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&kS(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function RM(e,t,n){return Ql&21?(Ws(n,t)||(n=N4(),zt.lanes|=n,Zl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bn=!0),e.memoizedState=n)}function iF(e,t){var n=yt;yt=n!==0&&4>n?n:4,e(!0);var s=cw.transition;cw.transition={};try{e(!1),t()}finally{yt=n,cw.transition=s}}function kM(){return ys().memoizedState}function rF(e,t,n){var s=Fo(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},LM(e))DM(t,n);else if(n=fM(e,t,n,s),n!==null){var i=cn();Us(n,e,s,i),IM(n,t,s)}}function oF(e,t,n){var s=Fo(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(LM(e))DM(t,i);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,a=r(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ws(a,o)){var l=t.interleaved;l===null?(i.next=i,CS(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=fM(e,t,i,s),n!==null&&(i=cn(),Us(n,e,s,i),IM(n,t,s))}}function LM(e){var t=e.alternate;return e===zt||t!==null&&t===zt}function DM(e,t){Yd=M1=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function IM(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,dS(e,n)}}var R1={readContext:gs,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},aF={readContext:gs,useCallback:function(e,t){return Zs().memoizedState=[e,t===void 0?null:t],e},useContext:gs,useEffect:hC,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,A0(4194308,4,CM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return A0(4194308,4,e,t)},useInsertionEffect:function(e,t){return A0(4,2,e,t)},useMemo:function(e,t){var n=Zs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Zs();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=rF.bind(null,zt,e),[s.memoizedState,e]},useRef:function(e){var t=Zs();return e={current:e},t.memoizedState=e},useState:uC,useDebugValue:NS,useDeferredValue:function(e){return Zs().memoizedState=e},useTransition:function(){var e=uC(!1),t=e[0];return e=iF.bind(null,e[1]),Zs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=zt,i=Zs();if(Nt){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Ee===null)throw Error(z(349));Ql&30||vM(s,t,n)}i.memoizedState=n;var r={value:n,getSnapshot:t};return i.queue=r,hC(wM.bind(null,s,r,e),[e]),s.flags|=2048,Tf(9,xM.bind(null,s,r,n,t),void 0,null),n},useId:function(){var e=Zs(),t=Ee.identifierPrefix;if(Nt){var n=fr,s=dr;n=(s&~(1<<32-zs(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Sf++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lF={readContext:gs,useCallback:_M,useContext:gs,useEffect:IS,useImperativeHandle:PM,useInsertionEffect:EM,useLayoutEffect:TM,useMemo:MM,useReducer:uw,useRef:SM,useState:function(){return uw(Ef)},useDebugValue:NS,useDeferredValue:function(e){var t=ys();return RM(t,de.memoizedState,e)},useTransition:function(){var e=uw(Ef)[0],t=ys().memoizedState;return[e,t]},useMutableSource:gM,useSyncExternalStore:yM,useId:kM,unstable_isNewReconciler:!1},cF={readContext:gs,useCallback:_M,useContext:gs,useEffect:IS,useImperativeHandle:PM,useInsertionEffect:EM,useLayoutEffect:TM,useMemo:MM,useReducer:hw,useRef:SM,useState:function(){return hw(Ef)},useDebugValue:NS,useDeferredValue:function(e){var t=ys();return de===null?t.memoizedState=e:RM(t,de.memoizedState,e)},useTransition:function(){var e=hw(Ef)[0],t=ys().memoizedState;return[e,t]},useMutableSource:gM,useSyncExternalStore:yM,useId:kM,unstable_isNewReconciler:!1};function Ss(e,t){if(e&&e.defaultProps){t=Ut({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function N2(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ut({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hx={isMounted:function(e){return(e=e._reactInternals)?sc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=cn(),i=Fo(e),r=mr(s,i);r.payload=t,n!=null&&(r.callback=n),t=Io(e,r,i),t!==null&&(Us(t,e,i,s),w0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=cn(),i=Fo(e),r=mr(s,i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Io(e,r,i),t!==null&&(Us(t,e,i,s),w0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cn(),s=Fo(e),i=mr(n,s);i.tag=2,t!=null&&(i.callback=t),t=Io(e,i,s),t!==null&&(Us(t,e,s,n),w0(t,e,s))}};function dC(e,t,n,s,i,r,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,o):t.prototype&&t.prototype.isPureReactComponent?!yf(n,s)||!yf(i,r):!0}function NM(e,t,n){var s=!1,i=Ho,r=t.contextType;return typeof r=="object"&&r!==null?r=gs(r):(i=En(t)?ql:Ke.current,s=t.contextTypes,r=(s=s!=null)?Nh(e,i):Ho),t=new t(n,r),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hx,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function fC(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&hx.enqueueReplaceState(t,t.state,null)}function F2(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},PS(e);var r=t.contextType;typeof r=="object"&&r!==null?i.context=gs(r):(r=En(t)?ql:Ke.current,i.context=Nh(e,r)),i.state=e.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(N2(e,t,r,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hx.enqueueReplaceState(i,i.state,null),P1(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function jh(e,t){try{var n="",s=t;do n+=OI(s),s=s.return;while(s);var i=n}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:e,source:t,stack:i,digest:null}}function dw(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function O2(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uF=typeof WeakMap=="function"?WeakMap:Map;function FM(e,t,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){L1||(L1=!0,X2=s),O2(e,t)},n}function OM(e,t,n){n=mr(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){O2(e,t)}}var r=e.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(n.callback=function(){O2(e,t),typeof s!="function"&&(No===null?No=new Set([this]):No.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function pC(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new uF;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=EF.bind(null,e,t,n),t.then(e,e))}function mC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function gC(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mr(-1,1),t.tag=2,Io(n,t,1))),n.lanes|=1),e)}var hF=Pr.ReactCurrentOwner,bn=!1;function an(e,t,n,s){t.child=e===null?dM(t,null,n,s):Oh(t,e.child,n,s)}function yC(e,t,n,s,i){n=n.render;var r=t.ref;return Gc(t,i),s=LS(e,t,n,s,r,i),n=DS(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,br(e,t,i)):(Nt&&n&&wS(t),t.flags|=1,an(e,t,s,i),t.child)}function vC(e,t,n,s,i){if(e===null){var r=n.type;return typeof r=="function"&&!US(r)&&r.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=r,VM(e,t,r,s,i)):(e=C0(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!(e.lanes&i)){var o=r.memoizedProps;if(n=n.compare,n=n!==null?n:yf,n(o,s)&&e.ref===t.ref)return br(e,t,i)}return t.flags|=1,e=Oo(r,s),e.ref=t.ref,e.return=t,t.child=e}function VM(e,t,n,s,i){if(e!==null){var r=e.memoizedProps;if(yf(r,s)&&e.ref===t.ref)if(bn=!1,t.pendingProps=s=r,(e.lanes&i)!==0)e.flags&131072&&(bn=!0);else return t.lanes=e.lanes,br(e,t,i)}return V2(e,t,n,s,i)}function jM(e,t,n){var s=t.pendingProps,i=s.children,r=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Mc,Un),Un|=n;else{if(!(n&1073741824))return e=r!==null?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Et(Mc,Un),Un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=r!==null?r.baseLanes:n,Et(Mc,Un),Un|=s}else r!==null?(s=r.baseLanes|n,t.memoizedState=null):s=n,Et(Mc,Un),Un|=s;return an(e,t,i,n),t.child}function $M(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function V2(e,t,n,s,i){var r=En(n)?ql:Ke.current;return r=Nh(t,r),Gc(t,i),n=LS(e,t,n,s,r,i),s=DS(),e!==null&&!bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,br(e,t,i)):(Nt&&s&&wS(t),t.flags|=1,an(e,t,n,i),t.child)}function xC(e,t,n,s,i){if(En(n)){var r=!0;A1(t)}else r=!1;if(Gc(t,i),t.stateNode===null)S0(e,t),NM(t,n,s),F2(t,n,s,i),s=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=En(n)?ql:Ke.current,c=Nh(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==s||l!==c)&&fC(t,o,s,c),Nr=!1;var f=t.memoizedState;o.state=f,P1(t,s,o,i),l=t.memoizedState,a!==s||f!==l||Sn.current||Nr?(typeof u=="function"&&(N2(t,n,u,s),l=t.memoizedState),(a=Nr||dC(t,n,a,s,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=l),o.props=s,o.state=l,o.context=c,s=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,pM(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ss(t.type,a),o.props=c,d=t.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=gs(l):(l=En(n)?ql:Ke.current,l=Nh(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&fC(t,o,s,l),Nr=!1,f=t.memoizedState,o.state=f,P1(t,s,o,i);var m=t.memoizedState;a!==d||f!==m||Sn.current||Nr?(typeof p=="function"&&(N2(t,n,p,s),m=t.memoizedState),(c=Nr||dC(t,n,c,s,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=m),o.props=s,o.state=m,o.context=l,s=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return j2(e,t,n,s,r,i)}function j2(e,t,n,s,i,r){$M(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return i&&iC(t,n,!1),br(e,t,r);s=t.stateNode,hF.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=Oh(t,e.child,null,r),t.child=Oh(t,null,a,r)):an(e,t,a,r),t.memoizedState=s.state,i&&iC(t,n,!0),t.child}function BM(e){var t=e.stateNode;t.pendingContext?sC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sC(e,t.context,!1),_S(e,t.containerInfo)}function wC(e,t,n,s,i){return Fh(),AS(i),t.flags|=256,an(e,t,n,s),t.child}var $2={dehydrated:null,treeContext:null,retryLane:0};function B2(e){return{baseLanes:e,cachePool:null,transitions:null}}function zM(e,t,n){var s=t.pendingProps,i=jt.current,r=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(r=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Et(jt,i&1),e===null)return D2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,r?(s=t.mode,r=t.child,o={mode:"hidden",children:o},!(s&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=px(o,s,0,null),e=Gl(e,s,n,null),r.return=t,e.return=t,r.sibling=e,t.child=r,t.child.memoizedState=B2(n),t.memoizedState=$2,e):FS(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return dF(e,t,o,s,a,i,n);if(r){r=s.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:s.children};return!(o&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=l,t.deletions=null):(s=Oo(i,l),s.subtreeFlags=i.subtreeFlags&14680064),a!==null?r=Oo(a,r):(r=Gl(r,o,n,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,o=e.child.memoizedState,o=o===null?B2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=e.childLanes&~n,t.memoizedState=$2,s}return r=e.child,e=r.sibling,s=Oo(r,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function FS(e,t){return t=px({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yg(e,t,n,s){return s!==null&&AS(s),Oh(t,e.child,null,n),e=FS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dF(e,t,n,s,i,r,o){if(n)return t.flags&256?(t.flags&=-257,s=dw(Error(z(422))),Yg(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(r=s.fallback,i=t.mode,s=px({mode:"visible",children:s.children},i,0,null),r=Gl(r,i,o,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,t.mode&1&&Oh(t,e.child,null,o),t.child.memoizedState=B2(o),t.memoizedState=$2,r);if(!(t.mode&1))return Yg(e,t,o,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var a=s.dgst;return s=a,r=Error(z(419)),s=dw(r,s,void 0),Yg(e,t,o,s)}if(a=(o&e.childLanes)!==0,bn||a){if(s=Ee,s!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|o)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,wr(e,i),Us(s,e,i,-1))}return zS(),s=dw(Error(z(421))),Yg(e,t,o,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=TF.bind(null,e),i._reactRetry=t,null):(e=r.treeContext,Wn=Do(i.nextSibling),Gn=t,Nt=!0,js=null,e!==null&&(us[hs++]=dr,us[hs++]=fr,us[hs++]=Kl,dr=e.id,fr=e.overflow,Kl=t),t=FS(t,s.children),t.flags|=4096,t)}function bC(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),I2(e.return,t,n)}function fw(e,t,n,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=i)}function UM(e,t,n){var s=t.pendingProps,i=s.revealOrder,r=s.tail;if(an(e,t,s.children,n),s=jt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bC(e,n,t);else if(e.tag===19)bC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Et(jt,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_1(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),fw(t,!1,i,n,r);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_1(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}fw(t,!0,n,null,r);break;case"together":fw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function S0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Oo(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Oo(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fF(e,t,n){switch(t.tag){case 3:BM(t),Fh();break;case 5:mM(t);break;case 1:En(t.type)&&A1(t);break;case 4:_S(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Et(T1,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Et(jt,jt.current&1),t.flags|=128,null):n&t.child.childLanes?zM(e,t,n):(Et(jt,jt.current&1),e=br(e,t,n),e!==null?e.sibling:null);Et(jt,jt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return UM(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Et(jt,jt.current),s)break;return null;case 22:case 23:return t.lanes=0,jM(e,t,n)}return br(e,t,n)}var HM,z2,WM,GM;HM=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};z2=function(){};WM=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,va(bi.current);var r=null;switch(n){case"input":i=u2(e,i),s=u2(e,s),r=[];break;case"select":i=Ut({},i,{value:void 0}),s=Ut({},s,{value:void 0}),r=[];break;case"textarea":i=f2(e,i),s=f2(e,s),r=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=w1)}m2(n,s);var o;n=null;for(c in i)if(!s.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uf.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in s){var l=s[c];if(a=i!=null?i[c]:void 0,s.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(r||(r=[]),r.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Pt("scroll",e),r||a===l||(r=[])):(r=r||[]).push(c,l))}n&&(r=r||[]).push("style",n);var c=r;(t.updateQueue=c)&&(t.flags|=4)}};GM=function(e,t,n,s){n!==s&&(t.flags|=4)};function ad(e,t){if(!Nt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function je(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function pF(e,t,n){var s=t.pendingProps;switch(bS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(t),null;case 1:return En(t.type)&&b1(),je(t),null;case 3:return s=t.stateNode,Vh(),_t(Sn),_t(Ke),RS(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Gg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,js!==null&&(K2(js),js=null))),z2(e,t),je(t),null;case 5:MS(t);var i=va(Af.current);if(n=t.type,e!==null&&t.stateNode!=null)WM(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(z(166));return je(t),null}if(e=va(bi.current),Gg(t)){s=t.stateNode,n=t.type;var r=t.memoizedProps;switch(s[vi]=t,s[wf]=r,e=(t.mode&1)!==0,n){case"dialog":Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":case"embed":Pt("load",s);break;case"video":case"audio":for(i=0;i<bd.length;i++)Pt(bd[i],s);break;case"source":Pt("error",s);break;case"img":case"image":case"link":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"input":RT(s,r),Pt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!r.multiple},Pt("invalid",s);break;case"textarea":LT(s,r),Pt("invalid",s)}m2(n,r),i=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?s.textContent!==a&&(r.suppressHydrationWarning!==!0&&Wg(s.textContent,a,e),i=["children",a]):typeof a=="number"&&s.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&Wg(s.textContent,a,e),i=["children",""+a]):uf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Pt("scroll",s)}switch(n){case"input":Og(s),kT(s,r,!0);break;case"textarea":Og(s),DT(s);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(s.onclick=w1)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=w4(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[vi]=t,e[wf]=s,HM(e,t,!1,!1),t.stateNode=e;t:{switch(o=g2(n,s),n){case"dialog":Pt("cancel",e),Pt("close",e),i=s;break;case"iframe":case"object":case"embed":Pt("load",e),i=s;break;case"video":case"audio":for(i=0;i<bd.length;i++)Pt(bd[i],e);i=s;break;case"source":Pt("error",e),i=s;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),i=s;break;case"details":Pt("toggle",e),i=s;break;case"input":RT(e,s),i=u2(e,s),Pt("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=Ut({},s,{value:void 0}),Pt("invalid",e);break;case"textarea":LT(e,s),i=f2(e,s),Pt("invalid",e);break;default:i=s}m2(n,i),a=i;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?S4(e,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&b4(e,l)):r==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hf(e,l):typeof l=="number"&&hf(e,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(uf.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Pt("scroll",e):l!=null&&oS(e,r,l,o))}switch(n){case"input":Og(e),kT(e,s,!1);break;case"textarea":Og(e),DT(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Uo(s.value));break;case"select":e.multiple=!!s.multiple,r=s.value,r!=null?zc(e,!!s.multiple,r,!1):s.defaultValue!=null&&zc(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=w1)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return je(t),null;case 6:if(e&&t.stateNode!=null)GM(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(z(166));if(n=va(Af.current),va(bi.current),Gg(t)){if(s=t.stateNode,n=t.memoizedProps,s[vi]=t,(r=s.nodeValue!==n)&&(e=Gn,e!==null))switch(e.tag){case 3:Wg(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wg(s.nodeValue,n,(e.mode&1)!==0)}r&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[vi]=t,t.stateNode=s}return je(t),null;case 13:if(_t(jt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Nt&&Wn!==null&&t.mode&1&&!(t.flags&128))uM(),Fh(),t.flags|=98560,r=!1;else if(r=Gg(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(z(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(z(317));r[vi]=t}else Fh(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;je(t),r=!1}else js!==null&&(K2(js),js=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?fe===0&&(fe=3):zS())),t.updateQueue!==null&&(t.flags|=4),je(t),null);case 4:return Vh(),z2(e,t),e===null&&vf(t.stateNode.containerInfo),je(t),null;case 10:return TS(t.type._context),je(t),null;case 17:return En(t.type)&&b1(),je(t),null;case 19:if(_t(jt),r=t.memoizedState,r===null)return je(t),null;if(s=(t.flags&128)!==0,o=r.rendering,o===null)if(s)ad(r,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_1(e),o!==null){for(t.flags|=128,ad(r,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)r=n,e=s,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=e,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,e=o.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Et(jt,jt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Jt()>$h&&(t.flags|=128,s=!0,ad(r,!1),t.lanes=4194304)}else{if(!s)if(e=_1(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ad(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Nt)return je(t),null}else 2*Jt()-r.renderingStartTime>$h&&n!==1073741824&&(t.flags|=128,s=!0,ad(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(n=r.last,n!==null?n.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Jt(),t.sibling=null,n=jt.current,Et(jt,s?n&1|2:n&1),t):(je(t),null);case 22:case 23:return BS(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Un&1073741824&&(je(t),t.subtreeFlags&6&&(t.flags|=8192)):je(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function mF(e,t){switch(bS(t),t.tag){case 1:return En(t.type)&&b1(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Vh(),_t(Sn),_t(Ke),RS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return MS(t),null;case 13:if(_t(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Fh()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(jt),null;case 4:return Vh(),null;case 10:return TS(t.type._context),null;case 22:case 23:return BS(),null;case 24:return null;default:return null}}var qg=!1,Xe=!1,gF=typeof WeakSet=="function"?WeakSet:Set,X=null;function _c(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Gt(e,t,s)}else n.current=null}function U2(e,t,n){try{n()}catch(s){Gt(e,t,s)}}var AC=!1;function yF(e,t){if(C2=y1,e=Q4(),xS(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break t}var o=0,a=-1,l=-1,c=0,u=0,d=e,f=null;e:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==r||s!==0&&d.nodeType!==3||(l=o+s),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===e)break e;if(f===n&&++c===i&&(a=o),f===r&&++u===s&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(P2={focusedElem:e,selectionRange:n},y1=!1,X=t;X!==null;)if(t=X,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,X=e;else for(;X!==null;){t=X;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ss(t.type,g),w);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(S){Gt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,X=e;break}X=t.return}return m=AC,AC=!1,m}function qd(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var r=i.destroy;i.destroy=void 0,r!==void 0&&U2(t,n,r)}i=i.next}while(i!==s)}}function dx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function H2(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function XM(e){var t=e.alternate;t!==null&&(e.alternate=null,XM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vi],delete t[wf],delete t[R2],delete t[JN],delete t[tF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function YM(e){return e.tag===5||e.tag===3||e.tag===4}function SC(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||YM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function W2(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=w1));else if(s!==4&&(e=e.child,e!==null))for(W2(e,t,n),e=e.sibling;e!==null;)W2(e,t,n),e=e.sibling}function G2(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(G2(e,t,n),e=e.sibling;e!==null;)G2(e,t,n),e=e.sibling}var De=null,Vs=!1;function Rr(e,t,n){for(n=n.child;n!==null;)qM(e,t,n),n=n.sibling}function qM(e,t,n){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(ix,n)}catch{}switch(n.tag){case 5:Xe||_c(n,t);case 6:var s=De,i=Vs;De=null,Rr(e,t,n),De=s,Vs=i,De!==null&&(Vs?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Vs?(e=De,n=n.stateNode,e.nodeType===8?ow(e.parentNode,n):e.nodeType===1&&ow(e,n),mf(e)):ow(De,n.stateNode));break;case 4:s=De,i=Vs,De=n.stateNode.containerInfo,Vs=!0,Rr(e,t,n),De=s,Vs=i;break;case 0:case 11:case 14:case 15:if(!Xe&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var r=i,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&U2(n,t,o),i=i.next}while(i!==s)}Rr(e,t,n);break;case 1:if(!Xe&&(_c(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(a){Gt(n,t,a)}Rr(e,t,n);break;case 21:Rr(e,t,n);break;case 22:n.mode&1?(Xe=(s=Xe)||n.memoizedState!==null,Rr(e,t,n),Xe=s):Rr(e,t,n);break;default:Rr(e,t,n)}}function EC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new gF),t.forEach(function(s){var i=CF.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function xs(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var r=e,o=t,a=o;t:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,Vs=!1;break t;case 3:De=a.stateNode.containerInfo,Vs=!0;break t;case 4:De=a.stateNode.containerInfo,Vs=!0;break t}a=a.return}if(De===null)throw Error(z(160));qM(r,o,i),De=null,Vs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gt(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)KM(t,e),t=t.sibling}function KM(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xs(t,e),Ys(e),s&4){try{qd(3,e,e.return),dx(3,e)}catch(g){Gt(e,e.return,g)}try{qd(5,e,e.return)}catch(g){Gt(e,e.return,g)}}break;case 1:xs(t,e),Ys(e),s&512&&n!==null&&_c(n,n.return);break;case 5:if(xs(t,e),Ys(e),s&512&&n!==null&&_c(n,n.return),e.flags&32){var i=e.stateNode;try{hf(i,"")}catch(g){Gt(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var r=e.memoizedProps,o=n!==null?n.memoizedProps:r,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&v4(i,r),g2(a,o);var c=g2(a,r);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?S4(i,d):u==="dangerouslySetInnerHTML"?b4(i,d):u==="children"?hf(i,d):oS(i,u,d,c)}switch(a){case"input":h2(i,r);break;case"textarea":x4(i,r);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?zc(i,!!r.multiple,p,!1):f!==!!r.multiple&&(r.defaultValue!=null?zc(i,!!r.multiple,r.defaultValue,!0):zc(i,!!r.multiple,r.multiple?[]:"",!1))}i[wf]=r}catch(g){Gt(e,e.return,g)}}break;case 6:if(xs(t,e),Ys(e),s&4){if(e.stateNode===null)throw Error(z(162));i=e.stateNode,r=e.memoizedProps;try{i.nodeValue=r}catch(g){Gt(e,e.return,g)}}break;case 3:if(xs(t,e),Ys(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{mf(t.containerInfo)}catch(g){Gt(e,e.return,g)}break;case 4:xs(t,e),Ys(e);break;case 13:xs(t,e),Ys(e),i=e.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(jS=Jt())),s&4&&EC(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(c=Xe)||u,xs(t,e),Xe=c):xs(t,e),Ys(e),s&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(X=e,u=e.child;u!==null;){for(d=X=u;X!==null;){switch(f=X,p=f.child,f.tag){case 0:case 11:case 14:case 15:qd(4,f,f.return);break;case 1:_c(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Gt(s,n,g)}}break;case 5:_c(f,f.return);break;case 22:if(f.memoizedState!==null){CC(d);continue}}p!==null?(p.return=f,X=p):CC(d)}u=u.sibling}t:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=A4("display",o))}catch(g){Gt(e,e.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Gt(e,e.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break t;for(;d.sibling===null;){if(d.return===null||d.return===e)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:xs(t,e),Ys(e),s&4&&EC(e);break;case 21:break;default:xs(t,e),Ys(e)}}function Ys(e){var t=e.flags;if(t&2){try{t:{for(var n=e.return;n!==null;){if(YM(n)){var s=n;break t}n=n.return}throw Error(z(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(hf(i,""),s.flags&=-33);var r=SC(e);G2(e,r,i);break;case 3:case 4:var o=s.stateNode.containerInfo,a=SC(e);W2(e,a,o);break;default:throw Error(z(161))}}catch(l){Gt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vF(e,t,n){X=e,QM(e)}function QM(e,t,n){for(var s=(e.mode&1)!==0;X!==null;){var i=X,r=i.child;if(i.tag===22&&s){var o=i.memoizedState!==null||qg;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Xe;a=qg;var c=Xe;if(qg=o,(Xe=l)&&!c)for(X=i;X!==null;)o=X,l=o.child,o.tag===22&&o.memoizedState!==null?PC(i):l!==null?(l.return=o,X=l):PC(i);for(;r!==null;)X=r,QM(r),r=r.sibling;X=i,qg=a,Xe=c}TC(e)}else i.subtreeFlags&8772&&r!==null?(r.return=i,X=r):TC(e)}}function TC(e){for(;X!==null;){var t=X;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||dx(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Xe)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ss(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&cC(t,r,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cC(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&mf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Xe||t.flags&512&&H2(t)}catch(f){Gt(t,t.return,f)}}if(t===e){X=null;break}if(n=t.sibling,n!==null){n.return=t.return,X=n;break}X=t.return}}function CC(e){for(;X!==null;){var t=X;if(t===e){X=null;break}var n=t.sibling;if(n!==null){n.return=t.return,X=n;break}X=t.return}}function PC(e){for(;X!==null;){var t=X;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{dx(4,t)}catch(l){Gt(t,n,l)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(l){Gt(t,i,l)}}var r=t.return;try{H2(t)}catch(l){Gt(t,r,l)}break;case 5:var o=t.return;try{H2(t)}catch(l){Gt(t,o,l)}}}catch(l){Gt(t,t.return,l)}if(t===e){X=null;break}var a=t.sibling;if(a!==null){a.return=t.return,X=a;break}X=t.return}}var xF=Math.ceil,k1=Pr.ReactCurrentDispatcher,OS=Pr.ReactCurrentOwner,ps=Pr.ReactCurrentBatchConfig,ft=0,Ee=null,oe=null,Fe=0,Un=0,Mc=Zo(0),fe=0,Cf=null,Zl=0,fx=0,VS=0,Kd=null,wn=null,jS=0,$h=1/0,Mi=null,L1=!1,X2=null,No=null,Kg=!1,Mo=null,D1=0,Qd=0,Y2=null,E0=-1,T0=0;function cn(){return ft&6?Jt():E0!==-1?E0:E0=Jt()}function Fo(e){return e.mode&1?ft&2&&Fe!==0?Fe&-Fe:nF.transition!==null?(T0===0&&(T0=N4()),T0):(e=yt,e!==0||(e=window.event,e=e===void 0?16:z4(e.type)),e):1}function Us(e,t,n,s){if(50<Qd)throw Qd=0,Y2=null,Error(z(185));pg(e,n,s),(!(ft&2)||e!==Ee)&&(e===Ee&&(!(ft&2)&&(fx|=n),fe===4&&Vr(e,Fe)),Tn(e,s),n===1&&ft===0&&!(t.mode&1)&&($h=Jt()+500,cx&&Jo()))}function Tn(e,t){var n=e.callbackNode;nN(e,t);var s=g1(e,e===Ee?Fe:0);if(s===0)n!==null&&FT(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&FT(n),t===1)e.tag===0?eF(_C.bind(null,e)):aM(_C.bind(null,e)),QN(function(){!(ft&6)&&Jo()}),n=null;else{switch(F4(s)){case 1:n=hS;break;case 4:n=D4;break;case 16:n=m1;break;case 536870912:n=I4;break;default:n=m1}n=rR(n,ZM.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ZM(e,t){if(E0=-1,T0=0,ft&6)throw Error(z(327));var n=e.callbackNode;if(Xc()&&e.callbackNode!==n)return null;var s=g1(e,e===Ee?Fe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=I1(e,s);else{t=s;var i=ft;ft|=2;var r=tR();(Ee!==e||Fe!==t)&&(Mi=null,$h=Jt()+500,Wl(e,t));do try{AF();break}catch(a){JM(e,a)}while(1);ES(),k1.current=r,ft=i,oe!==null?t=0:(Ee=null,Fe=0,t=fe)}if(t!==0){if(t===2&&(i=b2(e),i!==0&&(s=i,t=q2(e,i))),t===1)throw n=Cf,Wl(e,0),Vr(e,s),Tn(e,Jt()),n;if(t===6)Vr(e,s);else{if(i=e.current.alternate,!(s&30)&&!wF(i)&&(t=I1(e,s),t===2&&(r=b2(e),r!==0&&(s=r,t=q2(e,r))),t===1))throw n=Cf,Wl(e,0),Vr(e,s),Tn(e,Jt()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(z(345));case 2:oa(e,wn,Mi);break;case 3:if(Vr(e,s),(s&130023424)===s&&(t=jS+500-Jt(),10<t)){if(g1(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){cn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=M2(oa.bind(null,e,wn,Mi),t);break}oa(e,wn,Mi);break;case 4:if(Vr(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var o=31-zs(s);r=1<<o,o=t[o],o>i&&(i=o),s&=~r}if(s=i,s=Jt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*xF(s/1960))-s,10<s){e.timeoutHandle=M2(oa.bind(null,e,wn,Mi),s);break}oa(e,wn,Mi);break;case 5:oa(e,wn,Mi);break;default:throw Error(z(329))}}}return Tn(e,Jt()),e.callbackNode===n?ZM.bind(null,e):null}function q2(e,t){var n=Kd;return e.current.memoizedState.isDehydrated&&(Wl(e,t).flags|=256),e=I1(e,t),e!==2&&(t=wn,wn=n,t!==null&&K2(t)),e}function K2(e){wn===null?wn=e:wn.push.apply(wn,e)}function wF(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!Ws(r(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~VS,t&=~fx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zs(t),s=1<<n;e[n]=-1,t&=~s}}function _C(e){if(ft&6)throw Error(z(327));Xc();var t=g1(e,0);if(!(t&1))return Tn(e,Jt()),null;var n=I1(e,t);if(e.tag!==0&&n===2){var s=b2(e);s!==0&&(t=s,n=q2(e,s))}if(n===1)throw n=Cf,Wl(e,0),Vr(e,t),Tn(e,Jt()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oa(e,wn,Mi),Tn(e,Jt()),null}function $S(e,t){var n=ft;ft|=1;try{return e(t)}finally{ft=n,ft===0&&($h=Jt()+500,cx&&Jo())}}function Jl(e){Mo!==null&&Mo.tag===0&&!(ft&6)&&Xc();var t=ft;ft|=1;var n=ps.transition,s=yt;try{if(ps.transition=null,yt=1,e)return e()}finally{yt=s,ps.transition=n,ft=t,!(ft&6)&&Jo()}}function BS(){Un=Mc.current,_t(Mc)}function Wl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KN(n)),oe!==null)for(n=oe.return;n!==null;){var s=n;switch(bS(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&b1();break;case 3:Vh(),_t(Sn),_t(Ke),RS();break;case 5:MS(s);break;case 4:Vh();break;case 13:_t(jt);break;case 19:_t(jt);break;case 10:TS(s.type._context);break;case 22:case 23:BS()}n=n.return}if(Ee=e,oe=e=Oo(e.current,null),Fe=Un=t,fe=0,Cf=null,VS=fx=Zl=0,wn=Kd=null,ya!==null){for(t=0;t<ya.length;t++)if(n=ya[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,r=n.pending;if(r!==null){var o=r.next;r.next=i,s.next=o}n.pending=s}ya=null}return e}function JM(e,t){do{var n=oe;try{if(ES(),b0.current=R1,M1){for(var s=zt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}M1=!1}if(Ql=0,Se=de=zt=null,Yd=!1,Sf=0,OS.current=null,n===null||n.return===null){fe=1,Cf=t,oe=null;break}t:{var r=e,o=n.return,a=n,l=t;if(t=Fe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=mC(o);if(p!==null){p.flags&=-257,gC(p,o,a,r,t),p.mode&1&&pC(r,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break t}else{if(!(t&1)){pC(r,c,t),zS();break t}l=Error(z(426))}}else if(Nt&&a.mode&1){var w=mC(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),gC(w,o,a,r,t),AS(jh(l,a));break t}}r=l=jh(l,a),fe!==4&&(fe=2),Kd===null?Kd=[r]:Kd.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var y=FM(r,l,t);lC(r,y);break t;case 1:a=l;var x=r.type,v=r.stateNode;if(!(r.flags&128)&&(typeof x.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(No===null||!No.has(v)))){r.flags|=65536,t&=-t,r.lanes|=t;var S=OM(r,a,t);lC(r,S);break t}}r=r.return}while(r!==null)}nR(n)}catch(E){t=E,oe===n&&n!==null&&(oe=n=n.return);continue}break}while(1)}function tR(){var e=k1.current;return k1.current=R1,e===null?R1:e}function zS(){(fe===0||fe===3||fe===2)&&(fe=4),Ee===null||!(Zl&268435455)&&!(fx&268435455)||Vr(Ee,Fe)}function I1(e,t){var n=ft;ft|=2;var s=tR();(Ee!==e||Fe!==t)&&(Mi=null,Wl(e,t));do try{bF();break}catch(i){JM(e,i)}while(1);if(ES(),ft=n,k1.current=s,oe!==null)throw Error(z(261));return Ee=null,Fe=0,fe}function bF(){for(;oe!==null;)eR(oe)}function AF(){for(;oe!==null&&!XI();)eR(oe)}function eR(e){var t=iR(e.alternate,e,Un);e.memoizedProps=e.pendingProps,t===null?nR(e):oe=t,OS.current=null}function nR(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=mF(n,t),n!==null){n.flags&=32767,oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,oe=null;return}}else if(n=pF(n,t,Un),n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);fe===0&&(fe=5)}function oa(e,t,n){var s=yt,i=ps.transition;try{ps.transition=null,yt=1,SF(e,t,n,s)}finally{ps.transition=i,yt=s}return null}function SF(e,t,n,s){do Xc();while(Mo!==null);if(ft&6)throw Error(z(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var r=n.lanes|n.childLanes;if(sN(e,r),e===Ee&&(oe=Ee=null,Fe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kg||(Kg=!0,rR(m1,function(){return Xc(),null})),r=(n.flags&15990)!==0,n.subtreeFlags&15990||r){r=ps.transition,ps.transition=null;var o=yt;yt=1;var a=ft;ft|=4,OS.current=null,yF(e,n),KM(n,e),UN(P2),y1=!!C2,P2=C2=null,e.current=n,vF(n),YI(),ft=a,yt=o,ps.transition=r}else e.current=n;if(Kg&&(Kg=!1,Mo=e,D1=i),r=e.pendingLanes,r===0&&(No=null),QI(n.stateNode),Tn(e,Jt()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(L1)throw L1=!1,e=X2,X2=null,e;return D1&1&&e.tag!==0&&Xc(),r=e.pendingLanes,r&1?e===Y2?Qd++:(Qd=0,Y2=e):Qd=0,Jo(),null}function Xc(){if(Mo!==null){var e=F4(D1),t=ps.transition,n=yt;try{if(ps.transition=null,yt=16>e?16:e,Mo===null)var s=!1;else{if(e=Mo,Mo=null,D1=0,ft&6)throw Error(z(331));var i=ft;for(ft|=4,X=e.current;X!==null;){var r=X,o=r.child;if(X.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(X=c;X!==null;){var u=X;switch(u.tag){case 0:case 11:case 15:qd(8,u,r)}var d=u.child;if(d!==null)d.return=u,X=d;else for(;X!==null;){u=X;var f=u.sibling,p=u.return;if(XM(u),u===c){X=null;break}if(f!==null){f.return=p,X=f;break}X=p}}}var m=r.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}X=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,X=o;else t:for(;X!==null;){if(r=X,r.flags&2048)switch(r.tag){case 0:case 11:case 15:qd(9,r,r.return)}var y=r.sibling;if(y!==null){y.return=r.return,X=y;break t}X=r.return}}var x=e.current;for(X=x;X!==null;){o=X;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,X=v;else t:for(o=x;X!==null;){if(a=X,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dx(9,a)}}catch(E){Gt(a,a.return,E)}if(a===o){X=null;break t}var S=a.sibling;if(S!==null){S.return=a.return,X=S;break t}X=a.return}}if(ft=i,Jo(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(ix,e)}catch{}s=!0}return s}finally{yt=n,ps.transition=t}}return!1}function MC(e,t,n){t=jh(n,t),t=FM(e,t,1),e=Io(e,t,1),t=cn(),e!==null&&(pg(e,1,t),Tn(e,t))}function Gt(e,t,n){if(e.tag===3)MC(e,e,n);else for(;t!==null;){if(t.tag===3){MC(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(No===null||!No.has(s))){e=jh(n,e),e=OM(t,e,1),t=Io(t,e,1),e=cn(),t!==null&&(pg(t,1,e),Tn(t,e));break}}t=t.return}}function EF(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=cn(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(Fe&n)===n&&(fe===4||fe===3&&(Fe&130023424)===Fe&&500>Jt()-jS?Wl(e,0):VS|=n),Tn(e,t)}function sR(e,t){t===0&&(e.mode&1?(t=$g,$g<<=1,!($g&130023424)&&($g=4194304)):t=1);var n=cn();e=wr(e,t),e!==null&&(pg(e,t,n),Tn(e,n))}function TF(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sR(e,n)}function CF(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(z(314))}s!==null&&s.delete(t),sR(e,n)}var iR;iR=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Sn.current)bn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bn=!1,fF(e,t,n);bn=!!(e.flags&131072)}else bn=!1,Nt&&t.flags&1048576&&lM(t,E1,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;S0(e,t),e=t.pendingProps;var i=Nh(t,Ke.current);Gc(t,n),i=LS(null,t,s,e,i,n);var r=DS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,En(s)?(r=!0,A1(t)):r=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,PS(t),i.updater=hx,t.stateNode=i,i._reactInternals=t,F2(t,s,e,n),t=j2(null,t,s,!0,r,n)):(t.tag=0,Nt&&r&&wS(t),an(null,t,i,n),t=t.child),t;case 16:s=t.elementType;t:{switch(S0(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=_F(s),e=Ss(s,e),i){case 0:t=V2(null,t,s,e,n);break t;case 1:t=xC(null,t,s,e,n);break t;case 11:t=yC(null,t,s,e,n);break t;case 14:t=vC(null,t,s,Ss(s.type,e),n);break t}throw Error(z(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ss(s,i),V2(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ss(s,i),xC(e,t,s,i,n);case 3:t:{if(BM(t),e===null)throw Error(z(387));s=t.pendingProps,r=t.memoizedState,i=r.element,pM(e,t),P1(t,s,null,n);var o=t.memoizedState;if(s=o.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){i=jh(Error(z(423)),t),t=wC(e,t,s,n,i);break t}else if(s!==i){i=jh(Error(z(424)),t),t=wC(e,t,s,n,i);break t}else for(Wn=Do(t.stateNode.containerInfo.firstChild),Gn=t,Nt=!0,js=null,n=dM(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fh(),s===i){t=br(e,t,n);break t}an(e,t,s,n)}t=t.child}return t;case 5:return mM(t),e===null&&D2(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,o=i.children,_2(s,i)?o=null:r!==null&&_2(s,r)&&(t.flags|=32),$M(e,t),an(e,t,o,n),t.child;case 6:return e===null&&D2(t),null;case 13:return zM(e,t,n);case 4:return _S(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Oh(t,null,s,n):an(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ss(s,i),yC(e,t,s,i,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(s=t.type._context,i=t.pendingProps,r=t.memoizedProps,o=i.value,Et(T1,s._currentValue),s._currentValue=o,r!==null)if(Ws(r.value,o)){if(r.children===i.children&&!Sn.current){t=br(e,t,n);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===s){if(r.tag===1){l=mr(-1,n&-n),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),I2(r.return,n,t),a.lanes|=n;break}l=l.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),I2(o,n,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}an(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Gc(t,n),i=gs(i),s=s(i),t.flags|=1,an(e,t,s,n),t.child;case 14:return s=t.type,i=Ss(s,t.pendingProps),i=Ss(s.type,i),vC(e,t,s,i,n);case 15:return VM(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Ss(s,i),S0(e,t),t.tag=1,En(s)?(e=!0,A1(t)):e=!1,Gc(t,n),NM(t,s,i),F2(t,s,i,n),j2(null,t,s,!0,e,n);case 19:return UM(e,t,n);case 22:return jM(e,t,n)}throw Error(z(156,t.tag))};function rR(e,t){return L4(e,t)}function PF(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fs(e,t,n,s){return new PF(e,t,n,s)}function US(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _F(e){if(typeof e=="function")return US(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lS)return 11;if(e===cS)return 14}return 2}function Oo(e,t){var n=e.alternate;return n===null?(n=fs(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function C0(e,t,n,s,i,r){var o=2;if(s=e,typeof e=="function")US(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case xc:return Gl(n.children,i,r,t);case aS:o=8,i|=8;break;case o2:return e=fs(12,n,t,i|2),e.elementType=o2,e.lanes=r,e;case a2:return e=fs(13,n,t,i),e.elementType=a2,e.lanes=r,e;case l2:return e=fs(19,n,t,i),e.elementType=l2,e.lanes=r,e;case m4:return px(n,i,r,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case f4:o=10;break t;case p4:o=9;break t;case lS:o=11;break t;case cS:o=14;break t;case Ir:o=16,s=null;break t}throw Error(z(130,e==null?e:typeof e,""))}return t=fs(o,n,t,i),t.elementType=e,t.type=s,t.lanes=r,t}function Gl(e,t,n,s){return e=fs(7,e,s,t),e.lanes=n,e}function px(e,t,n,s){return e=fs(22,e,s,t),e.elementType=m4,e.lanes=n,e.stateNode={isHidden:!1},e}function pw(e,t,n){return e=fs(6,e,null,t),e.lanes=n,e}function mw(e,t,n){return t=fs(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function MF(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qx(0),this.expirationTimes=qx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qx(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HS(e,t,n,s,i,r,o,a,l){return e=new MF(e,t,n,a,l),t===1?(t=1,r===!0&&(t|=8)):t=0,r=fs(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},PS(r),e}function RF(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vc,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function oR(e){if(!e)return Ho;e=e._reactInternals;t:{if(sc(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(En(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(En(n))return oM(e,n,t)}return t}function aR(e,t,n,s,i,r,o,a,l){return e=HS(n,s,!0,e,i,r,o,a,l),e.context=oR(null),n=e.current,s=cn(),i=Fo(n),r=mr(s,i),r.callback=t??null,Io(n,r,i),e.current.lanes=i,pg(e,i,s),Tn(e,s),e}function mx(e,t,n,s){var i=t.current,r=cn(),o=Fo(i);return n=oR(n),t.context===null?t.context=n:t.pendingContext=n,t=mr(r,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Io(i,t,o),e!==null&&(Us(e,i,o,r),w0(e,i,o)),o}function N1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function WS(e,t){RC(e,t),(e=e.alternate)&&RC(e,t)}function kF(){return null}var lR=typeof reportError=="function"?reportError:function(e){console.error(e)};function GS(e){this._internalRoot=e}gx.prototype.render=GS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));mx(e,t,null,null)};gx.prototype.unmount=GS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jl(function(){mx(null,e,null,null)}),t[xr]=null}};function gx(e){this._internalRoot=e}gx.prototype.unstable_scheduleHydration=function(e){if(e){var t=j4();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Or.length&&t!==0&&t<Or[n].priority;n++);Or.splice(n,0,e),n===0&&B4(e)}};function XS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kC(){}function LF(e,t,n,s,i){if(i){if(typeof s=="function"){var r=s;s=function(){var c=N1(o);r.call(c)}}var o=aR(t,s,e,0,null,!1,!1,"",kC);return e._reactRootContainer=o,e[xr]=o.current,vf(e.nodeType===8?e.parentNode:e),Jl(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var a=s;s=function(){var c=N1(l);a.call(c)}}var l=HS(e,0,!1,null,null,!1,!1,"",kC);return e._reactRootContainer=l,e[xr]=l.current,vf(e.nodeType===8?e.parentNode:e),Jl(function(){mx(t,l,n,s)}),l}function vx(e,t,n,s,i){var r=n._reactRootContainer;if(r){var o=r;if(typeof i=="function"){var a=i;i=function(){var l=N1(o);a.call(l)}}mx(t,o,e,i)}else o=LF(n,t,e,i,s);return N1(o)}O4=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=wd(t.pendingLanes);n!==0&&(dS(t,n|1),Tn(t,Jt()),!(ft&6)&&($h=Jt()+500,Jo()))}break;case 13:Jl(function(){var s=wr(e,1);if(s!==null){var i=cn();Us(s,e,1,i)}}),WS(e,1)}};fS=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var n=cn();Us(t,e,134217728,n)}WS(e,134217728)}};V4=function(e){if(e.tag===13){var t=Fo(e),n=wr(e,t);if(n!==null){var s=cn();Us(n,e,t,s)}WS(e,t)}};j4=function(){return yt};$4=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}};v2=function(e,t,n){switch(t){case"input":if(h2(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=lx(s);if(!i)throw Error(z(90));y4(s),h2(s,i)}}}break;case"textarea":x4(e,n);break;case"select":t=n.value,t!=null&&zc(e,!!n.multiple,t,!1)}};C4=$S;P4=Jl;var DF={usingClientEntryPoint:!1,Events:[gg,Sc,lx,E4,T4,$S]},ld={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IF={bundleType:ld.bundleType,version:ld.version,rendererPackageName:ld.rendererPackageName,rendererConfig:ld.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=R4(e),e===null?null:e.stateNode},findFiberByHostInstance:ld.findFiberByHostInstance||kF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qg.isDisabled&&Qg.supportsFiber)try{ix=Qg.inject(IF),wi=Qg}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DF;qn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!XS(t))throw Error(z(200));return RF(e,t,null,n)};qn.createRoot=function(e,t){if(!XS(e))throw Error(z(299));var n=!1,s="",i=lR;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=HS(e,1,!1,null,null,n,!1,s,i),e[xr]=t.current,vf(e.nodeType===8?e.parentNode:e),new GS(t)};qn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=R4(t),e=e===null?null:e.stateNode,e};qn.flushSync=function(e){return Jl(e)};qn.hydrate=function(e,t,n){if(!yx(t))throw Error(z(200));return vx(null,e,t,!0,n)};qn.hydrateRoot=function(e,t,n){if(!XS(e))throw Error(z(405));var s=n!=null&&n.hydratedSources||null,i=!1,r="",o=lR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=aR(t,null,e,1,n??null,i,!1,r,o),e[xr]=t.current,vf(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new gx(t)};qn.render=function(e,t,n){if(!yx(t))throw Error(z(200));return vx(null,e,t,!1,n)};qn.unmountComponentAtNode=function(e){if(!yx(e))throw Error(z(40));return e._reactRootContainer?(Jl(function(){vx(null,null,e,!1,function(){e._reactRootContainer=null,e[xr]=null})}),!0):!1};qn.unstable_batchedUpdates=$S;qn.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!yx(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return vx(e,t,n,!1,s)};qn.version="18.3.1-next-f1338f8080-20240426";function cR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cR)}catch(e){console.error(e)}}cR(),c4.exports=qn;var NF=c4.exports,LC=NF;i2.createRoot=LC.createRoot,i2.hydrateRoot=LC.hydrateRoot;const uR=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),xx=M.createContext({}),wx=M.createContext(null),bx=typeof document<"u",YS=bx?M.useLayoutEffect:M.useEffect,hR=M.createContext({strict:!1}),qS=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),FF="framerAppearId",dR="data-"+qS(FF);function OF(e,t,n,s){const{visualElement:i}=M.useContext(xx),r=M.useContext(hR),o=M.useContext(wx),a=M.useContext(uR).reducedMotion,l=M.useRef();s=s||r.renderer,!l.current&&s&&(l.current=s(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;M.useInsertionEffect(()=>{c&&c.update(n,o)});const u=M.useRef(!!(n[dR]&&!window.HandoffComplete));return YS(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),M.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Rc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function VF(e,t,n){return M.useCallback(s=>{s&&e.mount&&e.mount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Rc(n)&&(n.current=s))},[t])}function Pf(e){return typeof e=="string"||Array.isArray(e)}function Ax(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const KS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QS=["initial",...KS];function Sx(e){return Ax(e.animate)||QS.some(t=>Pf(e[t]))}function fR(e){return!!(Sx(e)||e.variants)}function jF(e,t){if(Sx(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Pf(n)?n:void 0,animate:Pf(s)?s:void 0}}return e.inherit!==!1?t:{}}function $F(e){const{initial:t,animate:n}=jF(e,M.useContext(xx));return M.useMemo(()=>({initial:t,animate:n}),[DC(t),DC(n)])}function DC(e){return Array.isArray(e)?e.join(" "):e}const IC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_f={};for(const e in IC)_f[e]={isEnabled:t=>IC[e].some(n=>!!t[n])};function BF(e){for(const t in e)_f[t]={..._f[t],...e[t]}}const ZS=M.createContext({}),pR=M.createContext({}),zF=Symbol.for("motionComponentSymbol");function UF({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:s,Component:i}){e&&BF(e);function r(a,l){let c;const u={...M.useContext(uR),...a,layoutId:HF(a)},{isStatic:d}=u,f=$F(a),p=s(a,d);if(!d&&bx){f.visualElement=OF(i,p,u,t);const m=M.useContext(pR),g=M.useContext(hR).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,g,e,m))}return M.createElement(xx.Provider,{value:f},c&&f.visualElement?M.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,a,VF(p,f.visualElement,l),p,d,f.visualElement))}const o=M.forwardRef(r);return o[zF]=i,o}function HF({layoutId:e}){const t=M.useContext(ZS).id;return t&&e!==void 0?t+"-"+e:e}function WF(e){function t(s,i={}){return UF(e(s,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(s,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const GF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JS(e){return typeof e!="string"||e.includes("-")?!1:!!(GF.indexOf(e)>-1||/[A-Z]/.test(e))}const F1={};function XF(e){Object.assign(F1,e)}const vg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ic=new Set(vg);function mR(e,{layout:t,layoutId:n}){return ic.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!F1[e]||e==="opacity")}const Cn=e=>!!(e&&e.getVelocity),YF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qF=vg.length;function KF(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},s,i){let r="";for(let o=0;o<qF;o++){const a=vg[o];if(e[a]!==void 0){const l=YF[a]||a;r+=`${l}(${e[a]}) `}}return t&&!e.z&&(r+="translateZ(0)"),r=r.trim(),i?r=i(e,s?"":r):n&&s&&(r="none"),r}const gR=e=>t=>typeof t=="string"&&t.startsWith(e),yR=gR("--"),Q2=gR("var(--"),QF=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,ZF=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Wo=(e,t,n)=>Math.min(Math.max(n,e),t),rc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zd={...rc,transform:e=>Wo(0,1,e)},Zg={...rc,default:1},Jd=e=>Math.round(e*1e5)/1e5,Ex=/(-)?([\d]*\.?[\d])+/g,vR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,JF=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function xg(e){return typeof e=="string"}const wg=e=>({test:t=>xg(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kr=wg("deg"),Ai=wg("%"),Z=wg("px"),t8=wg("vh"),e8=wg("vw"),NC={...Ai,parse:e=>Ai.parse(e)/100,transform:e=>Ai.transform(e*100)},FC={...rc,transform:Math.round},xR={borderWidth:Z,borderTopWidth:Z,borderRightWidth:Z,borderBottomWidth:Z,borderLeftWidth:Z,borderRadius:Z,radius:Z,borderTopLeftRadius:Z,borderTopRightRadius:Z,borderBottomRightRadius:Z,borderBottomLeftRadius:Z,width:Z,maxWidth:Z,height:Z,maxHeight:Z,size:Z,top:Z,right:Z,bottom:Z,left:Z,padding:Z,paddingTop:Z,paddingRight:Z,paddingBottom:Z,paddingLeft:Z,margin:Z,marginTop:Z,marginRight:Z,marginBottom:Z,marginLeft:Z,rotate:kr,rotateX:kr,rotateY:kr,rotateZ:kr,scale:Zg,scaleX:Zg,scaleY:Zg,scaleZ:Zg,skew:kr,skewX:kr,skewY:kr,distance:Z,translateX:Z,translateY:Z,translateZ:Z,x:Z,y:Z,z:Z,perspective:Z,transformPerspective:Z,opacity:Zd,originX:NC,originY:NC,originZ:Z,zIndex:FC,fillOpacity:Zd,strokeOpacity:Zd,numOctaves:FC};function tE(e,t,n,s){const{style:i,vars:r,transform:o,transformOrigin:a}=e;let l=!1,c=!1,u=!0;for(const d in t){const f=t[d];if(yR(d)){r[d]=f;continue}const p=xR[d],m=ZF(f,p);if(ic.has(d)){if(l=!0,o[d]=m,!u)continue;f!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=m):i[d]=m}if(t.transform||(l||s?i.transform=KF(e.transform,n,u,s):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${d} ${f} ${p}`}}const eE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function wR(e,t,n){for(const s in t)!Cn(t[s])&&!mR(s,n)&&(e[s]=t[s])}function n8({transformTemplate:e},t,n){return M.useMemo(()=>{const s=eE();return tE(s,t,{enableHardwareAcceleration:!n},e),Object.assign({},s.vars,s.style)},[t])}function s8(e,t,n){const s=e.style||{},i={};return wR(i,s,e),Object.assign(i,n8(e,t,n)),e.transformValues?e.transformValues(i):i}function i8(e,t,n){const s={},i=s8(e,t,n);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=i,s}const r8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function O1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||r8.has(e)}let bR=e=>!O1(e);function o8(e){e&&(bR=t=>t.startsWith("on")?!O1(t):e(t))}try{o8(require("@emotion/is-prop-valid").default)}catch{}function a8(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(bR(i)||n===!0&&O1(i)||!t&&!O1(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}function OC(e,t,n){return typeof e=="string"?e:Z.transform(t+n*e)}function l8(e,t,n){const s=OC(t,e.x,e.width),i=OC(n,e.y,e.height);return`${s} ${i}`}const c8={offset:"stroke-dashoffset",array:"stroke-dasharray"},u8={offset:"strokeDashoffset",array:"strokeDasharray"};function h8(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?c8:u8;e[r.offset]=Z.transform(-s);const o=Z.transform(t),a=Z.transform(n);e[r.array]=`${o} ${a}`}function nE(e,{attrX:t,attrY:n,attrScale:s,originX:i,originY:r,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,d,f){if(tE(e,c,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:g}=e;p.transform&&(g&&(m.transform=p.transform),delete p.transform),g&&(i!==void 0||r!==void 0||m.transform)&&(m.transformOrigin=l8(g,i!==void 0?i:.5,r!==void 0?r:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),s!==void 0&&(p.scale=s),o!==void 0&&h8(p,o,a,l,!1)}const AR=()=>({...eE(),attrs:{}}),sE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function d8(e,t,n,s){const i=M.useMemo(()=>{const r=AR();return nE(r,t,{enableHardwareAcceleration:!1},sE(s),e.transformTemplate),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};wR(r,e.style,e),i.style={...r,...i.style}}return i}function f8(e=!1){return(n,s,i,{latestValues:r},o)=>{const l=(JS(n)?d8:i8)(s,r,o,n),u={...a8(s,typeof n=="string",e),...l,ref:i},{children:d}=s,f=M.useMemo(()=>Cn(d)?d.get():d,[d]);return M.createElement(n,{...u,children:f})}}function SR(e,{style:t,vars:n},s,i){Object.assign(e.style,t,i&&i.getProjectionStyles(s));for(const r in n)e.style.setProperty(r,n[r])}const ER=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TR(e,t,n,s){SR(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(ER.has(i)?i:qS(i),t.attrs[i])}function iE(e,t){const{style:n}=e,s={};for(const i in n)(Cn(n[i])||t.style&&Cn(t.style[i])||mR(i,e))&&(s[i]=n[i]);return s}function CR(e,t){const n=iE(e,t);for(const s in e)if(Cn(e[s])||Cn(t[s])){const i=vg.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}function rE(e,t,n,s={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,s,i)),t}function PR(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const V1=e=>Array.isArray(e),p8=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),m8=e=>V1(e)?e[e.length-1]||0:e;function P0(e){const t=Cn(e)?e.get():e;return p8(t)?t.toValue():t}function g8({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},s,i,r){const o={latestValues:y8(s,i,r,e),renderState:t()};return n&&(o.mount=a=>n(s,a,o)),o}const _R=e=>(t,n)=>{const s=M.useContext(xx),i=M.useContext(wx),r=()=>g8(e,t,s,i);return n?r():PR(r)};function y8(e,t,n,s){const i={},r=s(e,{});for(const f in r)i[f]=P0(r[f]);let{initial:o,animate:a}=e;const l=Sx(e),c=fR(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;return d&&typeof d!="boolean"&&!Ax(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const m=rE(e,p);if(!m)return;const{transitionEnd:g,transition:w,...y}=m;for(const x in y){let v=y[x];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(i[x]=v)}for(const x in g)i[x]=g[x]}),i}const Xt=e=>e;class VC{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function v8(e){let t=new VC,n=new VC,s=0,i=!1,r=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&i,f=d?t:n;return c&&o.add(l),f.add(l)&&d&&i&&(s=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){r=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),s=t.order.length,s)for(let c=0;c<s;c++){const u=t.order[c];u(l),o.has(u)&&(a.schedule(u),e())}i=!1,r&&(r=!1,a.process(l))}};return a}const Jg=["prepare","read","update","preRender","render","postRender"],x8=40;function w8(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=Jg.reduce((d,f)=>(d[f]=v8(()=>n=!0),d),{}),o=d=>r[d].process(i),a=()=>{const d=performance.now();n=!1,i.delta=s?1e3/60:Math.max(Math.min(d-i.timestamp,x8),1),i.timestamp=d,i.isProcessing=!0,Jg.forEach(o),i.isProcessing=!1,n&&t&&(s=!1,e(a))},l=()=>{n=!0,s=!0,i.isProcessing||e(a)};return{schedule:Jg.reduce((d,f)=>{const p=r[f];return d[f]=(m,g=!1,w=!1)=>(n||l(),p.schedule(m,g,w)),d},{}),cancel:d=>Jg.forEach(f=>r[f].cancel(d)),state:i,steps:r}}const{schedule:Ct,cancel:Ar,state:We,steps:gw}=w8(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xt,!0),b8={useVisualState:_R({scrapeMotionValuesFromProps:CR,createRenderState:AR,onMount:(e,t,{renderState:n,latestValues:s})=>{Ct.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ct.render(()=>{nE(n,s,{enableHardwareAcceleration:!1},sE(t.tagName),e.transformTemplate),TR(t,n)})}})},A8={useVisualState:_R({scrapeMotionValuesFromProps:iE,createRenderState:eE})};function S8(e,{forwardMotionProps:t=!1},n,s){return{...JS(e)?b8:A8,preloadedFeatures:n,useRender:f8(t),createVisualElement:s,Component:e}}function pr(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const MR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Tx(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const E8=e=>t=>MR(t)&&e(t,Tx(t));function gr(e,t,n,s){return pr(e,t,E8(n),s)}const T8=(e,t)=>n=>t(e(n)),Vo=(...e)=>e.reduce(T8);function RR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const jC=RR("dragHorizontal"),$C=RR("dragVertical");function kR(e){let t=!1;if(e==="y")t=$C();else if(e==="x")t=jC();else{const n=jC(),s=$C();n&&s?t=()=>{n(),s()}:(n&&n(),s&&s())}return t}function LR(){const e=kR(!0);return e?(e(),!1):!0}let ta=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function BC(e,t){const n="pointer"+(t?"enter":"leave"),s="onHover"+(t?"Start":"End"),i=(r,o)=>{if(r.pointerType==="touch"||LR())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[s]&&Ct.update(()=>a[s](r,o))};return gr(e.current,n,i,{passive:!e.getProps()[s]})}let C8=class extends ta{mount(){this.unmount=Vo(BC(this.node,!0),BC(this.node,!1))}unmount(){}},P8=class extends ta{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vo(pr(this.node.current,"focus",()=>this.onFocus()),pr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};const DR=(e,t)=>t?e===t?!0:DR(e,t.parentElement):!1;function yw(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Tx(n))}let _8=class extends ta{constructor(){super(...arguments),this.removeStartListeners=Xt,this.removeEndListeners=Xt,this.removeAccessibleListeners=Xt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),r=gr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Ct.update(()=>{!d&&!DR(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(s.onTap||s.onPointerUp)}),o=gr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=Vo(r,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=r=>{if(r.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||yw("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Ct.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=pr(this.node.current,"keyup",o),yw("down",(a,l)=>{this.startPress(a,l)})},n=pr(this.node.current,"keydown",t),s=()=>{this.isPressing&&yw("cancel",(r,o)=>this.cancelPress(r,o))},i=pr(this.node.current,"blur",s);this.removeAccessibleListeners=Vo(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:s,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ct.update(()=>s(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!LR()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ct.update(()=>s(t,n))}mount(){const t=this.node.getProps(),n=gr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),s=pr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vo(n,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}};const Z2=new WeakMap,vw=new WeakMap,M8=e=>{const t=Z2.get(e.target);t&&t(e)},R8=e=>{e.forEach(M8)};function k8({root:e,...t}){const n=e||document;vw.has(n)||vw.set(n,{});const s=vw.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(R8,{root:e,...t})),s[i]}function L8(e,t,n){const s=k8(t);return Z2.set(e,n),s.observe(e),()=>{Z2.delete(e),s.unobserve(e)}}const D8={some:0,all:1};let I8=class extends ta{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:D8[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return L8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(N8(t,n))&&this.startObserver()}unmount(){}};function N8({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const F8={inView:{Feature:I8},tap:{Feature:_8},focus:{Feature:P8},hover:{Feature:C8}};function IR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}function O8(e){const t={};return e.values.forEach((n,s)=>t[s]=n.get()),t}function V8(e){const t={};return e.values.forEach((n,s)=>t[s]=n.getVelocity()),t}function Cx(e,t,n){const s=e.getProps();return rE(s,t,n!==void 0?n:s.custom,O8(e),V8(e))}let j8=Xt,oE=Xt;const jo=e=>e*1e3,yr=e=>e/1e3,$8={current:!1},NR=e=>Array.isArray(e)&&typeof e[0]=="number";function FR(e){return!!(!e||typeof e=="string"&&OR[e]||NR(e)||Array.isArray(e)&&e.every(FR))}const Ad=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,OR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ad([0,.65,.55,1]),circOut:Ad([.55,0,1,.45]),backIn:Ad([.31,.01,.66,-.59]),backOut:Ad([.33,1.53,.69,.99])};function VR(e){if(e)return NR(e)?Ad(e):Array.isArray(e)?e.map(VR):OR[e]}function B8(e,t,n,{delay:s=0,duration:i,repeat:r=0,repeatType:o="loop",ease:a,times:l}={}){const c={[t]:n};l&&(c.offset=l);const u=VR(a);return Array.isArray(u)&&(c.easing=u),e.animate(c,{delay:s,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"})}function z8(e,{repeat:t,repeatType:n="loop"}){const s=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[s]}const jR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,U8=1e-7,H8=12;function W8(e,t,n,s,i){let r,o,a=0;do o=t+(n-t)/2,r=jR(o,s,i)-e,r>0?n=o:t=o;while(Math.abs(r)>U8&&++a<H8);return o}function bg(e,t,n,s){if(e===t&&n===s)return Xt;const i=r=>W8(r,0,1,e,n);return r=>r===0||r===1?r:jR(i(r),t,s)}const G8=bg(.42,0,1,1),X8=bg(0,0,.58,1),$R=bg(.42,0,.58,1),Y8=e=>Array.isArray(e)&&typeof e[0]!="number",BR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zR=e=>t=>1-e(1-t),aE=e=>1-Math.sin(Math.acos(e)),UR=zR(aE),q8=BR(aE),HR=bg(.33,1.53,.69,.99),lE=zR(HR),K8=BR(lE),Q8=e=>(e*=2)<1?.5*lE(e):.5*(2-Math.pow(2,-10*(e-1))),Z8={linear:Xt,easeIn:G8,easeInOut:$R,easeOut:X8,circIn:aE,circInOut:q8,circOut:UR,backIn:lE,backInOut:K8,backOut:HR,anticipate:Q8},zC=e=>{if(Array.isArray(e)){oE(e.length===4);const[t,n,s,i]=e;return bg(t,n,s,i)}else if(typeof e=="string")return Z8[e];return e},cE=(e,t)=>n=>!!(xg(n)&&JF.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),WR=(e,t,n)=>s=>{if(!xg(s))return s;const[i,r,o,a]=s.match(Ex);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},J8=e=>Wo(0,255,e),xw={...rc,transform:e=>Math.round(J8(e))},xa={test:cE("rgb","red"),parse:WR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+xw.transform(e)+", "+xw.transform(t)+", "+xw.transform(n)+", "+Jd(Zd.transform(s))+")"};function tO(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const J2={test:cE("#"),parse:tO,transform:xa.transform},kc={test:cE("hsl","hue"),parse:WR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ai.transform(Jd(t))+", "+Ai.transform(Jd(n))+", "+Jd(Zd.transform(s))+")"},rn={test:e=>xa.test(e)||J2.test(e)||kc.test(e),parse:e=>xa.test(e)?xa.parse(e):kc.test(e)?kc.parse(e):J2.parse(e),transform:e=>xg(e)?e:e.hasOwnProperty("red")?xa.transform(e):kc.transform(e)},$t=(e,t,n)=>-n*e+n*t+e;function ww(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function eO({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,o=0;if(!t)i=r=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=ww(l,a,e+1/3),r=ww(l,a,e),o=ww(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}const bw=(e,t,n)=>{const s=e*e;return Math.sqrt(Math.max(0,n*(t*t-s)+s))},nO=[J2,xa,kc],sO=e=>nO.find(t=>t.test(e));function UC(e){const t=sO(e);let n=t.parse(e);return t===kc&&(n=eO(n)),n}const GR=(e,t)=>{const n=UC(e),s=UC(t),i={...n};return r=>(i.red=bw(n.red,s.red,r),i.green=bw(n.green,s.green,r),i.blue=bw(n.blue,s.blue,r),i.alpha=$t(n.alpha,s.alpha,r),xa.transform(i))};function iO(e){var t,n;return isNaN(e)&&xg(e)&&(((t=e.match(Ex))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(vR))===null||n===void 0?void 0:n.length)||0)>0}const XR={regex:QF,countKey:"Vars",token:"${v}",parse:Xt},YR={regex:vR,countKey:"Colors",token:"${c}",parse:rn.parse},qR={regex:Ex,countKey:"Numbers",token:"${n}",parse:rc.parse};function Aw(e,{regex:t,countKey:n,token:s,parse:i}){const r=e.tokenised.match(t);r&&(e["num"+n]=r.length,e.tokenised=e.tokenised.replace(t,s),e.values.push(...r.map(i)))}function j1(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Aw(n,XR),Aw(n,YR),Aw(n,qR),n}function KR(e){return j1(e).values}function QR(e){const{values:t,numColors:n,numVars:s,tokenised:i}=j1(e),r=t.length;return o=>{let a=i;for(let l=0;l<r;l++)l<s?a=a.replace(XR.token,o[l]):l<s+n?a=a.replace(YR.token,rn.transform(o[l])):a=a.replace(qR.token,Jd(o[l]));return a}}const rO=e=>typeof e=="number"?0:e;function oO(e){const t=KR(e);return QR(e)(t.map(rO))}const Go={test:iO,parse:KR,createTransformer:QR,getAnimatableNone:oO},ZR=(e,t)=>n=>`${n>0?t:e}`;function JR(e,t){return typeof e=="number"?n=>$t(e,t,n):rn.test(e)?GR(e,t):e.startsWith("var(")?ZR(e,t):ek(e,t)}const tk=(e,t)=>{const n=[...e],s=n.length,i=e.map((r,o)=>JR(r,t[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}},aO=(e,t)=>{const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=JR(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}},ek=(e,t)=>{const n=Go.createTransformer(t),s=j1(e),i=j1(t);return s.numVars===i.numVars&&s.numColors===i.numColors&&s.numNumbers>=i.numNumbers?Vo(tk(s.values,i.values),n):ZR(e,t)},Mf=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s},HC=(e,t)=>n=>$t(e,t,n);function lO(e){return typeof e=="number"?HC:typeof e=="string"?rn.test(e)?GR:ek:Array.isArray(e)?tk:typeof e=="object"?aO:HC}function cO(e,t,n){const s=[],i=n||lO(e[0]),r=e.length-1;for(let o=0;o<r;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Xt:t;a=Vo(l,a)}s.push(a)}return s}function nk(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(oE(r===t.length),r===1)return()=>t[0];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=cO(t,s,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<e.length-2&&!(c<e[u+1]);u++);const d=Mf(e[u],e[u+1],c);return o[u](d)};return n?c=>l(Wo(e[0],e[r-1],c)):l}function uO(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Mf(0,t,s);e.push($t(n,1,i))}}function hO(e){const t=[0];return uO(t,e.length-1),t}function dO(e,t){return e.map(n=>n*t)}function fO(e,t){return e.map(()=>t||$R).splice(0,e.length-1)}function $1({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=Y8(s)?s.map(zC):zC(s),r={done:!1,value:t[0]},o=dO(n&&n.length===t.length?n:hO(t),e),a=nk(o,t,{ease:Array.isArray(i)?i:fO(t,i)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}function sk(e,t){return t?e*(1e3/t):0}const pO=5;function ik(e,t,n){const s=Math.max(t-pO,0);return sk(n-e(s),t-s)}const Sw=.001,mO=.01,WC=10,gO=.05,yO=1;function vO({duration:e=800,bounce:t=.25,velocity:n=0,mass:s=1}){let i,r;j8(e<=jo(WC));let o=1-t;o=Wo(gO,yO,o),e=Wo(mO,WC,yr(e)),o<1?(i=c=>{const u=c*o,d=u*e,f=u-n,p=tb(c,o),m=Math.exp(-d);return Sw-f/p*m},r=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),g=tb(Math.pow(c,2),o);return(-i(c)+Sw>0?-1:1)*((f-p)*m)/g}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Sw+u*d},r=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=wO(i,r,a);if(e=jo(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:o*2*Math.sqrt(s*c),duration:e}}}const xO=12;function wO(e,t,n){let s=n;for(let i=1;i<xO;i++)s=s-e(s)/t(s);return s}function tb(e,t){return e*Math.sqrt(1-t*t)}const bO=["duration","bounce"],AO=["stiffness","damping","mass"];function GC(e,t){return t.some(n=>e[n]!==void 0)}function SO(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!GC(e,AO)&&GC(e,bO)){const n=vO(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function rk({keyframes:e,restDelta:t,restSpeed:n,...s}){const i=e[0],r=e[e.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,duration:u,velocity:d,isResolvedFromDuration:f}=SO({...s,velocity:-yr(s.velocity||0)}),p=d||0,m=l/(2*Math.sqrt(a*c)),g=r-i,w=yr(Math.sqrt(a/c)),y=Math.abs(g)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let x;if(m<1){const v=tb(w,m);x=S=>{const E=Math.exp(-m*w*S);return r-E*((p+m*w*g)/v*Math.sin(v*S)+g*Math.cos(v*S))}}else if(m===1)x=v=>r-Math.exp(-w*v)*(g+(p+w*g)*v);else{const v=w*Math.sqrt(m*m-1);x=S=>{const E=Math.exp(-m*w*S),P=Math.min(v*S,300);return r-E*((p+m*w*g)*Math.sinh(P)+v*g*Math.cosh(P))/v}}return{calculatedDuration:f&&u||null,next:v=>{const S=x(v);if(f)o.done=v>=u;else{let E=p;v!==0&&(m<1?E=ik(x,v,S):E=0);const P=Math.abs(E)<=n,_=Math.abs(r-S)<=t;o.done=P&&_}return o.value=o.done?r:S,o}}}function XC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=R=>a!==void 0&&R<a||l!==void 0&&R>l,m=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let g=n*t;const w=d+g,y=o===void 0?w:o(w);y!==w&&(g=y-d);const x=R=>-g*Math.exp(-R/s),v=R=>y+x(R),S=R=>{const k=x(R),D=v(R);f.done=Math.abs(k)<=c,f.value=f.done?y:D};let E,P;const _=R=>{p(f.value)&&(E=R,P=rk({keyframes:[f.value,m(f.value)],velocity:ik(v,R,f.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:R=>{let k=!1;return!P&&E===void 0&&(k=!0,S(R),_(R)),E!==void 0&&R>E?P.next(R-E):(!k&&S(R),f)}}}const EO=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ct.update(t,!0),stop:()=>Ar(t),now:()=>We.isProcessing?We.timestamp:performance.now()}},YC=2e4;function qC(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<YC;)t+=n,s=e.next(t);return t>=YC?1/0:t}const TO={decay:XC,inertia:XC,tween:$1,keyframes:$1,spring:rk};function B1({autoplay:e=!0,delay:t=0,driver:n=EO,keyframes:s,type:i="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...f}){let p=1,m=!1,g,w;const y=()=>{w=new Promise(W=>{g=W})};y();let x;const v=TO[i]||$1;let S;v!==$1&&typeof s[0]!="number"&&(S=nk([0,100],s,{clamp:!1}),s=[0,100]);const E=v({...f,keyframes:s});let P;a==="mirror"&&(P=v({...f,keyframes:[...s].reverse(),velocity:-(f.velocity||0)}));let _="idle",R=null,k=null,D=null;E.calculatedDuration===null&&r&&(E.calculatedDuration=qC(E));const{calculatedDuration:I}=E;let N=1/0,V=1/0;I!==null&&(N=I+o,V=N*(r+1)-o);let L=0;const H=W=>{if(k===null)return;p>0&&(k=Math.min(k,W)),p<0&&(k=Math.min(W-V/p,k)),R!==null?L=R:L=Math.round(W-k)*p;const Q=L-t*(p>=0?1:-1),st=p>=0?Q<0:Q>V;L=Math.max(Q,0),_==="finished"&&R===null&&(L=V);let mt=L,St=E;if(r){const Qe=Math.min(L,V)/N;let vt=Math.floor(Qe),Ce=Qe%1;!Ce&&Qe>=1&&(Ce=1),Ce===1&&vt--,vt=Math.min(vt,r+1),!!(vt%2)&&(a==="reverse"?(Ce=1-Ce,o&&(Ce-=o/N)):a==="mirror"&&(St=P)),mt=Wo(0,1,Ce)*N}const ut=st?{done:!1,value:s[0]}:St.next(mt);S&&(ut.value=S(ut.value));let{done:it}=ut;!st&&I!==null&&(it=p>=0?L>=V:L<=0);const fn=R===null&&(_==="finished"||_==="running"&&it);return d&&d(ut.value),fn&&j(),ut},F=()=>{x&&x.stop(),x=void 0},O=()=>{_="idle",F(),g(),y(),k=D=null},j=()=>{_="finished",u&&u(),F(),g()},B=()=>{if(m)return;x||(x=n(H));const W=x.now();l&&l(),R!==null?k=W-R:(!k||_==="finished")&&(k=W),_==="finished"&&y(),D=k,R=null,_="running",x.start()};e&&B();const U={then(W,Q){return w.then(W,Q)},get time(){return yr(L)},set time(W){W=jo(W),L=W,R!==null||!x||p===0?R=W:k=x.now()-W/p},get duration(){const W=E.calculatedDuration===null?qC(E):E.calculatedDuration;return yr(W)},get speed(){return p},set speed(W){W===p||!x||(p=W,U.time=yr(L))},get state(){return _},play:B,pause:()=>{_="paused",R=L},stop:()=>{m=!0,_!=="idle"&&(_="idle",c&&c(),O())},cancel:()=>{D!==null&&H(D),O()},complete:()=>{_="finished"},sample:W=>(k=0,H(W))};return U}function CO(e){let t;return()=>(t===void 0&&(t=e()),t)}const PO=CO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_O=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),t0=10,MO=2e4,RO=(e,t)=>t.type==="spring"||e==="backgroundColor"||!FR(t.ease);function kO(e,t,{onUpdate:n,onComplete:s,...i}){if(!(PO()&&_O.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const u=()=>{l=new Promise(v=>{a=v})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=i;if(RO(t,i)){const v=B1({...i,repeat:0,delay:0});let S={done:!1,value:d[0]};const E=[];let P=0;for(;!S.done&&P<MO;)S=v.sample(P),E.push(S.value),P+=t0;m=void 0,d=E,f=P-t0,p="linear"}const g=B8(e.owner.current,t,d,{...i,duration:f,ease:p,times:m}),w=()=>{c=!1,g.cancel()},y=()=>{c=!0,Ct.update(w),a(),u()};return g.onfinish=()=>{c||(e.set(z8(d,i)),s&&s(),y())},{then(v,S){return l.then(v,S)},attachTimeline(v){return g.timeline=v,g.onfinish=null,Xt},get time(){return yr(g.currentTime||0)},set time(v){g.currentTime=jo(v)},get speed(){return g.playbackRate},set speed(v){g.playbackRate=v},get duration(){return yr(f)},play:()=>{o||(g.play(),Ar(w))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:v}=g;if(v){const S=B1({...i,autoplay:!1});e.setWithVelocity(S.sample(v-t0).value,S.sample(v).value,t0)}y()},complete:()=>{c||g.finish()},cancel:y}}function LO({keyframes:e,delay:t,onUpdate:n,onComplete:s}){const i=()=>(n&&n(e[e.length-1]),s&&s(),{time:0,speed:1,duration:0,play:Xt,pause:Xt,stop:Xt,then:r=>(r(),Promise.resolve()),cancel:Xt,complete:Xt});return t?B1({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const DO={type:"spring",stiffness:500,damping:25,restSpeed:10},IO=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),NO={type:"keyframes",duration:.8},FO={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OO=(e,{keyframes:t})=>t.length>2?NO:ic.has(e)?e.startsWith("scale")?IO(t[1]):DO:FO,eb=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Go.test(t)||t==="0")&&!t.startsWith("url(")),VO=new Set(["brightness","contrast","saturate","opacity"]);function jO(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(Ex)||[];if(!s)return e;const i=n.replace(s,"");let r=VO.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const $O=/([a-z-]*)\(.*?\)/g,nb={...Go,getAnimatableNone:e=>{const t=e.match($O);return t?t.map(jO).join(" "):e}},BO={...xR,color:rn,backgroundColor:rn,outlineColor:rn,fill:rn,stroke:rn,borderColor:rn,borderTopColor:rn,borderRightColor:rn,borderBottomColor:rn,borderLeftColor:rn,filter:nb,WebkitFilter:nb},uE=e=>BO[e];function ok(e,t){let n=uE(e);return n!==nb&&(n=Go),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ak=e=>/^0[^.\s]+$/.test(e);function zO(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||ak(e)}function UO(e,t,n,s){const i=eb(t,n);let r;Array.isArray(n)?r=[...n]:r=[null,n];const o=s.from!==void 0?s.from:e.get();let a;const l=[];for(let c=0;c<r.length;c++)r[c]===null&&(r[c]=c===0?o:r[c-1]),zO(r[c])&&l.push(c),typeof r[c]=="string"&&r[c]!=="none"&&r[c]!=="0"&&(a=r[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];r[u]=ok(t,a)}return r}function HO({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function hE(e,t){return e[t]||e.default||e}const WO={skipAnimations:!1},dE=(e,t,n,s={})=>i=>{const r=hE(s,e)||{},o=r.delay||s.delay||0;let{elapsed:a=0}=s;a=a-jo(o);const l=UO(t,e,n,r),c=l[0],u=l[l.length-1],d=eb(e,c),f=eb(e,u);let p={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...r,delay:-a,onUpdate:m=>{t.set(m),r.onUpdate&&r.onUpdate(m)},onComplete:()=>{i(),r.onComplete&&r.onComplete()}};if(HO(r)||(p={...p,...OO(e,p)}),p.duration&&(p.duration=jo(p.duration)),p.repeatDelay&&(p.repeatDelay=jo(p.repeatDelay)),!d||!f||$8.current||r.type===!1||WO.skipAnimations)return LO(p);if(!s.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=kO(t,e,p);if(m)return m}return B1(p)};function z1(e){return!!(Cn(e)&&e.add)}const lk=e=>/^\-?\d*\.?\d+$/.test(e);function fE(e,t){e.indexOf(t)===-1&&e.push(t)}function pE(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let mE=class{constructor(){this.subscriptions=[]}add(t){return fE(this.subscriptions,t),()=>pE(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}};const GO=e=>!isNaN(parseFloat(e));let XO=class{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,i=!0)=>{this.prev=this.current,this.current=s;const{delta:r,timestamp:o}=We;this.lastUpdated!==o&&(this.timeDelta=r,this.lastUpdated=o,Ct.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ct.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=GO(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new mE);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ct.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,s){this.set(n),this.prev=t,this.timeDelta=s}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sk(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}};function Bh(e,t){return new XO(e,t)}const ck=e=>t=>t.test(e),YO={test:e=>e==="auto",parse:e=>e},uk=[rc,Z,Ai,kr,e8,t8,YO],cd=e=>uk.find(ck(e)),qO=[...uk,rn,Go],KO=e=>qO.find(ck(e));function QO(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Bh(n))}function ZO(e,t){const n=Cx(e,t);let{transitionEnd:s={},transition:i={},...r}=n?e.makeTargetAnimatable(n,!1):{};r={...r,...s};for(const o in r){const a=m8(r[o]);QO(e,o,a)}}function JO(e,t,n){var s,i;const r=Object.keys(t).filter(a=>!e.hasValue(a)),o=r.length;if(o)for(let a=0;a<o;a++){const l=r[a],c=t[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(s=n[l])!==null&&s!==void 0?s:e.readValue(l))!==null&&i!==void 0?i:t[l]),u!=null&&(typeof u=="string"&&(lk(u)||ak(u))?u=parseFloat(u):!KO(u)&&Go.test(c)&&(u=ok(l,c)),e.addValue(l,Bh(u,{owner:e})),n[l]===void 0&&(n[l]=u),u!==null&&e.setBaseTarget(l,u))}}function tV(e,t){return t?(t[e]||t.default||t).from:void 0}function eV(e,t,n){const s={};for(const i in e){const r=tV(i,t);if(r!==void 0)s[i]=r;else{const o=n.getValue(i);o&&(s[i]=o.get())}}return s}function nV({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function sV(e,t){const n=e.get();if(Array.isArray(t)){for(let s=0;s<t.length;s++)if(t[s]!==n)return!0}else return n!==t}function hk(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");s&&(r=s);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d),p=a[d];if(!f||p===void 0||u&&nV(u,d))continue;const m={delay:n,elapsed:0,...hE(r||{},d)};if(window.HandoffAppearAnimations){const y=e.getProps()[dR];if(y){const x=window.HandoffAppearAnimations(y,d,f,Ct);x!==null&&(m.elapsed=x,m.isHandoff=!0)}}let g=!m.isHandoff&&!sV(f,p);if(m.type==="spring"&&(f.getVelocity()||m.velocity)&&(g=!1),f.animation&&(g=!1),g)continue;f.start(dE(d,f,p,e.shouldReduceMotion&&ic.has(d)?{type:!1}:m));const w=f.animation;z1(l)&&(l.add(d),w.then(()=>l.remove(d))),c.push(w)}return o&&Promise.all(c).then(()=>{o&&ZO(e,o)}),c}function sb(e,t,n={}){const s=Cx(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(hk(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=i;return iV(e,t,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[r,o]:[o,r];return l().then(()=>c())}else return Promise.all([r(),o(n.delay)])}function iV(e,t,n=0,s=0,i=1,r){const o=[],a=(e.variantChildren.size-1)*s,l=i===1?(c=0)=>c*s:(c=0)=>a-c*s;return Array.from(e.variantChildren).sort(rV).forEach((c,u)=>{c.notify("AnimationStart",t),o.push(sb(c,t,{...r,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(o)}function rV(e,t){return e.sortNodePosition(t)}function oV(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>sb(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=sb(e,t,n);else{const i=typeof t=="function"?Cx(e,t,n.custom):t;s=Promise.all(hk(e,i,n))}return s.then(()=>e.notify("AnimationComplete",t))}const aV=[...KS].reverse(),lV=KS.length;function cV(e){return t=>Promise.all(t.map(({animation:n,options:s})=>oV(e,n,s)))}function uV(e){let t=cV(e);const n=dV();let s=!0;const i=(l,c)=>{const u=Cx(e,c);if(u){const{transition:d,transitionEnd:f,...p}=u;l={...l,...p,...f}}return l};function r(l){t=l(e)}function o(l,c){const u=e.getProps(),d=e.getVariantContext(!0)||{},f=[],p=new Set;let m={},g=1/0;for(let y=0;y<lV;y++){const x=aV[y],v=n[x],S=u[x]!==void 0?u[x]:d[x],E=Pf(S),P=x===c?v.isActive:null;P===!1&&(g=y);let _=S===d[x]&&S!==u[x]&&E;if(_&&s&&e.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...m},!v.isActive&&P===null||!S&&!v.prevProp||Ax(S)||typeof S=="boolean")continue;let k=hV(v.prevProp,S)||x===c&&v.isActive&&!_&&E||y>g&&E,D=!1;const I=Array.isArray(S)?S:[S];let N=I.reduce(i,{});P===!1&&(N={});const{prevResolvedValues:V={}}=v,L={...V,...N},H=F=>{k=!0,p.has(F)&&(D=!0,p.delete(F)),v.needsAnimating[F]=!0};for(const F in L){const O=N[F],j=V[F];if(m.hasOwnProperty(F))continue;let B=!1;V1(O)&&V1(j)?B=!IR(O,j):B=O!==j,B?O!==void 0?H(F):p.add(F):O!==void 0&&p.has(F)?H(F):v.protectedKeys[F]=!0}v.prevProp=S,v.prevResolvedValues=N,v.isActive&&(m={...m,...N}),s&&e.blockInitialAnimation&&(k=!1),k&&(!_||D)&&f.push(...I.map(F=>({animation:F,options:{type:x,...l}})))}if(p.size){const y={};p.forEach(x=>{const v=e.getBaseTarget(x);v!==void 0&&(y[x]=v)}),f.push({animation:y})}let w=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(f):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const f=o(u,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n}}function hV(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IR(t,e):!1}function na(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dV(){return{animate:na(!0),whileInView:na(),whileHover:na(),whileTap:na(),whileDrag:na(),whileFocus:na(),exit:na()}}let fV=class extends ta{constructor(t){super(t),t.animationState||(t.animationState=uV(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ax(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}},pV=0,mV=class extends ta{constructor(){super(...arguments),this.id=pV++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const r=this.node.animationState.setActive("exit",!t,{custom:s??this.node.getProps().custom});n&&!t&&r.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}};const gV={animation:{Feature:fV},exit:{Feature:mV}},KC=(e,t)=>Math.abs(e-t);function yV(e,t){const n=KC(e.x,t.x),s=KC(e.y,t.y);return Math.sqrt(n**2+s**2)}let dk=class{constructor(t,n,{transformPagePoint:s,contextWindow:i,dragSnapToOrigin:r=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Tw(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,p=yV(d.offset,{x:0,y:0})>=3;if(!f&&!p)return;const{point:m}=d,{timestamp:g}=We;this.history.push({...m,timestamp:g});const{onStart:w,onMove:y}=this.handlers;f||(w&&w(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ew(f,this.transformPagePoint),Ct.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Tw(d.type==="pointercancel"?this.lastMoveEventInfo:Ew(f,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,w),m&&m(d,w)},!MR(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.contextWindow=i||window;const o=Tx(t),a=Ew(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=We;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(t,Tw(a,this.history)),this.removeListeners=Vo(gr(this.contextWindow,"pointermove",this.handlePointerMove),gr(this.contextWindow,"pointerup",this.handlePointerUp),gr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ar(this.updatePoint)}};function Ew(e,t){return t?{point:t(e.point)}:e}function QC(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tw({point:e},t){return{point:e,delta:QC(e,fk(t)),offset:QC(e,vV(t)),velocity:xV(t,.1)}}function vV(e){return e[0]}function fk(e){return e[e.length-1]}function xV(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=fk(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>jo(t)));)n--;if(!s)return{x:0,y:0};const r=yr(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Yn(e){return e.max-e.min}function ib(e,t=0,n=.01){return Math.abs(e-t)<=n}function ZC(e,t,n,s=.5){e.origin=s,e.originPoint=$t(t.min,t.max,e.origin),e.scale=Yn(n)/Yn(t),(ib(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=$t(n.min,n.max,e.origin)-e.originPoint,(ib(e.translate)||isNaN(e.translate))&&(e.translate=0)}function tf(e,t,n,s){ZC(e.x,t.x,n.x,s?s.originX:void 0),ZC(e.y,t.y,n.y,s?s.originY:void 0)}function JC(e,t,n){e.min=n.min+t.min,e.max=e.min+Yn(t)}function wV(e,t,n){JC(e.x,t.x,n.x),JC(e.y,t.y,n.y)}function tP(e,t,n){e.min=t.min-n.min,e.max=e.min+Yn(t)}function ef(e,t,n){tP(e.x,t.x,n.x),tP(e.y,t.y,n.y)}function bV(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?$t(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?$t(n,e,s.max):Math.min(e,n)),e}function eP(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function AV(e,{top:t,left:n,bottom:s,right:i}){return{x:eP(e.x,n,i),y:eP(e.y,t,s)}}function nP(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function SV(e,t){return{x:nP(e.x,t.x),y:nP(e.y,t.y)}}function EV(e,t){let n=.5;const s=Yn(e),i=Yn(t);return i>s?n=Mf(t.min,t.max-s,e.min):s>i&&(n=Mf(e.min,e.max-i,t.min)),Wo(0,1,n)}function TV(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const rb=.35;function CV(e=rb){return e===!1?e=0:e===!0&&(e=rb),{x:sP(e,"left","right"),y:sP(e,"top","bottom")}}function sP(e,t,n){return{min:iP(e,t),max:iP(e,n)}}function iP(e,t){return typeof e=="number"?e:e[t]||0}const rP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lc=()=>({x:rP(),y:rP()}),oP=()=>({min:0,max:0}),ne=()=>({x:oP(),y:oP()});function ts(e){return[e("x"),e("y")]}function pk({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function PV({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _V(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Cw(e){return e===void 0||e===1}function ob({scale:e,scaleX:t,scaleY:n}){return!Cw(e)||!Cw(t)||!Cw(n)}function aa(e){return ob(e)||mk(e)||e.z||e.rotate||e.rotateX||e.rotateY}function mk(e){return aP(e.x)||aP(e.y)}function aP(e){return e&&e!=="0%"}function U1(e,t,n){const s=e-n,i=t*s;return n+i}function lP(e,t,n,s,i){return i!==void 0&&(e=U1(e,i,s)),U1(e,n,s)+t}function ab(e,t=0,n=1,s,i){e.min=lP(e.min,t,n,s,i),e.max=lP(e.max,t,n,s,i)}function gk(e,{x:t,y:n}){ab(e.x,t.translate,t.scale,t.originPoint),ab(e.y,n.translate,n.scale,n.originPoint)}function MV(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,o;for(let a=0;a<i;a++){r=n[a],o=r.projectionDelta;const l=r.instance;l&&l.style&&l.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Dc(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,gk(e,o)),s&&aa(r.latestValues)&&Dc(e,r.latestValues))}t.x=cP(t.x),t.y=cP(t.y)}function cP(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Fr(e,t){e.min=e.min+t,e.max=e.max+t}function uP(e,t,[n,s,i]){const r=t[i]!==void 0?t[i]:.5,o=$t(e.min,e.max,r);ab(e,t[n],t[s],o,t.scale)}const RV=["x","scaleX","originX"],kV=["y","scaleY","originY"];function Dc(e,t){uP(e.x,t,RV),uP(e.y,t,kV)}function yk(e,t){return pk(_V(e.getBoundingClientRect(),t))}function LV(e,t,n){const s=yk(e,n),{scroll:i}=t;return i&&(Fr(s.x,i.offset.x),Fr(s.y,i.offset.y)),s}const vk=({current:e})=>e?e.ownerDocument.defaultView:null,DV=new WeakMap;let IV=class{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ne(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tx(u,"page").point)},r=(u,d)=>{const{drag:f,dragPropagation:p,onDragStart:m}=this.getProps();if(f&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=kR(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ts(w=>{let y=this.getAxisMotionValue(w).get()||0;if(Ai.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const v=x.layout.layoutBox[w];v&&(y=Yn(v)*(parseFloat(y)/100))}}this.originPoint[w]=y}),m&&Ct.update(()=>m(u,d),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:f,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:w}=d;if(p&&this.currentDirection===null){this.currentDirection=NV(w),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,w),this.updateAxis("y",d.point,w),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),l=()=>ts(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new dk(t,{onSessionStart:i,onStart:r,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:vk(this.visualElement)})}stop(t,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:r}=this.getProps();r&&Ct.update(()=>r(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!e0(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=bV(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,r=this.constraints;n&&Rc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=AV(i.layoutBox,n):this.constraints=!1,this.elastic=CV(s),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ts(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=TV(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Rc(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=LV(s,i.root,this.visualElement.getTransformPagePoint());let o=SV(i.layout.layoutBox,r);if(n){const a=n(PV(o));this.hasMutatedConstraints=!!a,a&&(o=pk(a))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=ts(u=>{if(!e0(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return s.start(dE(t,s,0,n))}stopAnimation(){ts(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ts(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){ts(n=>{const{drag:s}=this.getProps();if(!e0(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];r.set(t[n]-$t(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Rc(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ts(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=EV({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),ts(o=>{if(!e0(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set($t(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;DV.set(this.visualElement,this);const t=this.visualElement.current,n=gr(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();Rc(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),s();const o=pr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ts(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=rb,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}};function e0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function NV(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let FV=class extends ta{constructor(t){super(t),this.removeGroupControls=Xt,this.removeListeners=Xt,this.controls=new IV(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xt}unmount(){this.removeGroupControls(),this.removeListeners()}};const hP=e=>(t,n)=>{e&&Ct.update(()=>e(t,n))};let OV=class extends ta{constructor(){super(...arguments),this.removePointerDownListener=Xt}onPointerDown(t){this.session=new dk(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vk(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:hP(t),onStart:hP(n),onMove:s,onEnd:(r,o)=>{delete this.session,i&&Ct.update(()=>i(r,o))}}}mount(){this.removePointerDownListener=gr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};function VV(){const e=M.useContext(wx);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:s}=e,i=M.useId();return M.useEffect(()=>s(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const _0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function dP(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ud={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Z.test(e))e=parseFloat(e);else return e;const n=dP(e,t.target.x),s=dP(e,t.target.y);return`${n}% ${s}%`}},jV={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Go.parse(e);if(i.length>5)return s;const r=Go.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=$t(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),r(i)}};let $V=class extends Bs.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;XF(BV),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),_0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,o=s.projection;return o&&(o.isPresent=r,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Ct.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function xk(e){const[t,n]=VV(),s=M.useContext(ZS);return Bs.createElement($V,{...e,layoutGroup:s,switchLayoutGroup:M.useContext(pR),isPresent:t,safeToRemove:n})}const BV={borderRadius:{...ud,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ud,borderTopRightRadius:ud,borderBottomLeftRadius:ud,borderBottomRightRadius:ud,boxShadow:jV},wk=["TopLeft","TopRight","BottomLeft","BottomRight"],zV=wk.length,fP=e=>typeof e=="string"?parseFloat(e):e,pP=e=>typeof e=="number"||Z.test(e);function UV(e,t,n,s,i,r){i?(e.opacity=$t(0,n.opacity!==void 0?n.opacity:1,HV(s)),e.opacityExit=$t(t.opacity!==void 0?t.opacity:1,0,WV(s))):r&&(e.opacity=$t(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let o=0;o<zV;o++){const a=`border${wk[o]}Radius`;let l=mP(t,a),c=mP(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||pP(l)===pP(c)?(e[a]=Math.max($t(fP(l),fP(c),s),0),(Ai.test(c)||Ai.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=$t(t.rotate||0,n.rotate||0,s))}function mP(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HV=bk(0,.5,UR),WV=bk(.5,.95,Xt);function bk(e,t,n){return s=>s<e?0:s>t?1:n(Mf(e,t,s))}function gP(e,t){e.min=t.min,e.max=t.max}function Qn(e,t){gP(e.x,t.x),gP(e.y,t.y)}function yP(e,t,n,s,i){return e-=t,e=U1(e,1/n,s),i!==void 0&&(e=U1(e,1/i,s)),e}function GV(e,t=0,n=1,s=.5,i,r=e,o=e){if(Ai.test(t)&&(t=parseFloat(t),t=$t(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=$t(r.min,r.max,s);e===r&&(a-=t),e.min=yP(e.min,t,n,a,i),e.max=yP(e.max,t,n,a,i)}function vP(e,t,[n,s,i],r,o){GV(e,t[n],t[s],t[i],t.scale,r,o)}const XV=["x","scaleX","originX"],YV=["y","scaleY","originY"];function xP(e,t,n,s){vP(e.x,t,XV,n?n.x:void 0,s?s.x:void 0),vP(e.y,t,YV,n?n.y:void 0,s?s.y:void 0)}function wP(e){return e.translate===0&&e.scale===1}function Ak(e){return wP(e.x)&&wP(e.y)}function qV(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Sk(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function bP(e){return Yn(e.x)/Yn(e.y)}let KV=class{constructor(){this.members=[]}add(t){fE(this.members,t),t.scheduleRender()}remove(t){if(pE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function AP(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y;if((i||r)&&(s=`translate3d(${i}px, ${r}px, 0) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(s+=`rotate(${l}deg) `),c&&(s+=`rotateX(${c}deg) `),u&&(s+=`rotateY(${u}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(s+=`scale(${o}, ${a})`),s||"none"}const QV=(e,t)=>e.depth-t.depth;let ZV=class{constructor(){this.children=[],this.isDirty=!1}add(t){fE(this.children,t),this.isDirty=!0}remove(t){pE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QV),this.isDirty=!1,this.children.forEach(t)}};function JV(e,t){const n=performance.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(Ar(s),e(r-t))};return Ct.read(s,!0),()=>Ar(s)}function tj(e){window.MotionDebug&&window.MotionDebug.record(e)}function ej(e){return e instanceof SVGElement&&e.tagName!=="svg"}function nj(e,t,n){const s=Cn(e)?e:Bh(e);return s.start(dE("",s,t,n)),s.animation}const SP=["","X","Y","Z"],sj={visibility:"hidden"},EP=1e3;let ij=0;const la={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Ek({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=ij++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,la.totalNodes=la.resolvedTargetDeltas=la.recalculatedProjection=0,this.nodes.forEach(aj),this.nodes.forEach(dj),this.nodes.forEach(fj),this.nodes.forEach(lj),tj(la)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new mE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=ej(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=JV(f,250),_0.hasAnimatedSinceResize&&(_0.hasAnimatedSinceResize=!1,this.nodes.forEach(CP))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||vj,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=u.getProps(),x=!this.targetLayout||!Sk(this.targetLayout,m)||p,v=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const S={...hE(g,"layout"),onPlay:w,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else f||CP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ar(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pj),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TP);return}this.isUpdating||this.nodes.forEach(uj),this.isUpdating=!1,this.nodes.forEach(hj),this.nodes.forEach(rj),this.nodes.forEach(oj),this.clearAllSnapshots();const a=performance.now();We.delta=Wo(0,1e3/60,a-We.timestamp),We.timestamp=a,We.isProcessing=!0,gw.update.process(We),gw.preRender.process(We),gw.render.process(We),We.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(cj),this.sharedNodes.forEach(mj)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ct.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ct.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ne(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:s(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!Ak(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||aa(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),xj(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ne();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Fr(a.x,l.offset.x),Fr(a.y,l.offset.y)),a}removeElementScroll(o){const a=ne();Qn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){Qn(a,o);const{scroll:f}=this.root;f&&(Fr(a.x,-f.offset.x),Fr(a.y,-f.offset.y))}Fr(a.x,u.offset.x),Fr(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=ne();Qn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Dc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),aa(u.latestValues)&&Dc(l,u.latestValues)}return aa(this.latestValues)&&Dc(l,this.latestValues),l}removeTransform(o){const a=ne();Qn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!aa(c.latestValues))continue;ob(c.latestValues)&&c.updateSnapshot();const u=ne(),d=c.measurePageBox();Qn(u,d),xP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return aa(this.latestValues)&&xP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==We.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=We.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),ef(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ne(),this.targetWithTransforms=ne()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),wV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qn(this.target,this.layout.layoutBox),gk(this.target,this.targetDelta)):Qn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ne(),this.relativeTargetOrigin=ne(),ef(this.relativeTargetOrigin,this.target,p.target),Qn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}la.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ob(this.parent.latestValues)||mk(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===We.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Qn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;MV(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=Lc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lc(),this.projectionDeltaWithTransform=Lc());const g=this.projectionTransform;tf(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=AP(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),la.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=ne(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,w=this.getStack(),y=!w||w.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(yj));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const E=S/1e3;PP(d.x,o.x,E),PP(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ef(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gj(this.relativeTarget,this.relativeTargetOrigin,f,E),v&&qV(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ne()),Qn(v,this.relativeTarget)),g&&(this.animationValues=u,UV(u,c,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ar(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ct.update(()=>{_0.hasAnimatedSinceResize=!0,this.currentAnimation=nj(0,EP,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(EP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Tk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ne();const d=Yn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=Yn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Qn(a,l),Dc(a,u),tf(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<SP.length;u++){const d="rotate"+SP[u];l[d]&&(c[d]=l[d],o.setStaticValue(d,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return sj;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=P0(o==null?void 0:o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=P0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!aa(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=AP(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:p,y:m}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const g in F1){if(f[g]===void 0)continue;const{correct:w,applyTo:y}=F1[g],x=c.transform==="none"?f[g]:w(f[g],d);if(y){const v=y.length;for(let S=0;S<v;S++)c[y[S]]=x}else c[g]=x}return this.options.layoutId&&(c.pointerEvents=d===this?P0(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(TP),this.root.sharedNodes.clear()}}}function rj(e){e.updateLayout()}function oj(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,o=n.source!==e.layout.source;r==="size"?ts(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Yn(f);f.min=s[d].min,f.max=f.min+p}):Tk(r,n.layoutBox,s)&&ts(d=>{const f=o?n.measuredBox[d]:n.layoutBox[d],p=Yn(s[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=Lc();tf(a,s,n.layoutBox);const l=Lc();o?tf(l,e.applyTransform(i,!0),n.measuredBox):tf(l,s,n.layoutBox);const c=!Ak(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=ne();ef(m,n.layoutBox,f.layoutBox);const g=ne();ef(g,s,p.layoutBox),Sk(m,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function aj(e){la.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function lj(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function cj(e){e.clearSnapshot()}function TP(e){e.clearMeasurements()}function uj(e){e.isLayoutDirty=!1}function hj(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function CP(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function dj(e){e.resolveTargetDelta()}function fj(e){e.calcProjection()}function pj(e){e.resetRotation()}function mj(e){e.removeLeadSnapshot()}function PP(e,t,n){e.translate=$t(t.translate,0,n),e.scale=$t(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _P(e,t,n,s){e.min=$t(t.min,n.min,s),e.max=$t(t.max,n.max,s)}function gj(e,t,n,s){_P(e.x,t.x,n.x,s),_P(e.y,t.y,n.y,s)}function yj(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vj={duration:.45,ease:[.4,0,.1,1]},MP=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),RP=MP("applewebkit/")&&!MP("chrome/")?Math.round:Xt;function kP(e){e.min=RP(e.min),e.max=RP(e.max)}function xj(e){kP(e.x),kP(e.y)}function Tk(e,t,n){return e==="position"||e==="preserve-aspect"&&!ib(bP(t),bP(n),.2)}const wj=Ek({attachResizeListener:(e,t)=>pr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pw={current:void 0},Ck=Ek({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Pw.current){const e=new wj({});e.mount(window),e.setOptions({layoutScroll:!0}),Pw.current=e}return Pw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),bj={pan:{Feature:OV},drag:{Feature:FV,ProjectionNode:Ck,MeasureLayout:xk}},Aj=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Sj(e){const t=Aj.exec(e);if(!t)return[,];const[,n,s]=t;return[n,s]}function lb(e,t,n=1){const[s,i]=Sj(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const o=r.trim();return lk(o)?parseFloat(o):o}else return Q2(i)?lb(i,t,n+1):i}function Ej(e,{...t},n){const s=e.current;if(!(s instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const r=i.get();if(!Q2(r))return;const o=lb(r,s);o&&i.set(o)});for(const i in t){const r=t[i];if(!Q2(r))continue;const o=lb(r,s);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=r))}return{target:t,transitionEnd:n}}const Tj=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Pk=e=>Tj.has(e),Cj=e=>Object.keys(e).some(Pk),LP=e=>e===rc||e===Z,DP=(e,t)=>parseFloat(e.split(", ")[t]),IP=(e,t)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const i=s.match(/^matrix3d\((.+)\)$/);if(i)return DP(i[1],t);{const r=s.match(/^matrix\((.+)\)$/);return r?DP(r[1],e):0}},Pj=new Set(["x","y","z"]),_j=vg.filter(e=>!Pj.has(e));function Mj(e){const t=[];return _j.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const zh={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:IP(4,13),y:IP(5,14)};zh.translateX=zh.x;zh.translateY=zh.y;const Rj=(e,t,n)=>{const s=t.measureViewportBox(),i=t.current,r=getComputedStyle(i),{display:o}=r,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(c=>{a[c]=zh[c](s,r)}),t.render();const l=t.measureViewportBox();return n.forEach(c=>{const u=t.getValue(c);u&&u.jump(a[c]),e[c]=zh[c](l,r)}),e},kj=(e,t,n={},s={})=>{t={...t},s={...s};const i=Object.keys(t).filter(Pk);let r=[],o=!1;const a=[];if(i.forEach(l=>{const c=e.getValue(l);if(!e.hasValue(l))return;let u=n[l],d=cd(u);const f=t[l];let p;if(V1(f)){const m=f.length,g=f[0]===null?1:0;u=f[g],d=cd(u);for(let w=g;w<m&&f[w]!==null;w++)p?oE(cd(f[w])===p):p=cd(f[w])}else p=cd(f);if(d!==p)if(LP(d)&&LP(p)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof f=="string"?t[l]=parseFloat(f):Array.isArray(f)&&p===Z&&(t[l]=f.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||f===0)?u===0?c.set(p.transform(u)):t[l]=d.transform(f):(o||(r=Mj(e),o=!0),a.push(l),s[l]=s[l]!==void 0?s[l]:t[l],c.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=Rj(t,e,a);return r.length&&r.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),bx&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:s}}else return{target:t,transitionEnd:s}};function Lj(e,t,n,s){return Cj(t)?kj(e,t,n,s):{target:t,transitionEnd:s}}const Dj=(e,t,n,s)=>{const i=Ej(e,t,s);return t=i.target,s=i.transitionEnd,Lj(e,t,n,s)},cb={current:null},_k={current:!1};function Ij(){if(_k.current=!0,!!bx)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>cb.current=e.matches;e.addListener(t),t()}else cb.current=!1}function Nj(e,t,n){const{willChange:s}=t;for(const i in t){const r=t[i],o=n[i];if(Cn(r))e.addValue(i,r),z1(s)&&s.add(i);else if(Cn(o))e.addValue(i,Bh(r,{owner:e})),z1(s)&&s.remove(i);else if(o!==r)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(r)}else{const a=e.getStaticValue(i);e.addValue(i,Bh(a!==void 0?a:r,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const NP=new WeakMap,Mk=Object.keys(_f),Fj=Mk.length,FP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Oj=QS.length;let Vj=class{constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,visualState:r},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ct.render(this.render,!1,!0);const{latestValues:a,renderState:l}=r;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Sx(n),this.isVariantNode=fR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const f=u[d];a[d]!==void 0&&Cn(f)&&(f.set(a[d],!1),z1(c)&&c.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,NP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),_k.current||Ij(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){NP.delete(this.current),this.projection&&this.projection.unmount(),Ar(this.notifyUpdate),Ar(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const s=ic.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ct.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),r=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),r()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},s,i,r){let o,a;for(let l=0;l<Fj;l++){const c=Mk[l],{isEnabled:u,Feature:d,ProjectionNode:f,MeasureLayout:p}=_f[c];f&&(o=f),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&Rc(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ne()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<FP.length;s++){const i=FP[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r=t["on"+i];r&&(this.propEventSubscriptions[i]=this.on(i,r))}this.prevMotionValues=Nj(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const n={};for(let s=0;s<Oj;s++){const i=QS[s],r=this.props[i];(Pf(r)||r===!1)&&(n[i]=r)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Bh(n,{owner:this}),this.addValue(t,s)),s}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:s}=this.props,i=typeof s=="string"||typeof s=="object"?(n=rE(this.props,s))===null||n===void 0?void 0:n[t]:void 0;if(s&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Cn(r)?r:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new mE),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},Rk=class extends Vj{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...s},{transformValues:i},r){let o=eV(s,t||{},this);if(i&&(n&&(n=i(n)),s&&(s=i(s)),o&&(o=i(o))),r){JO(this,s,o);const a=Dj(this,s,o,n);n=a.transitionEnd,s=a.target}return{transition:t,transitionEnd:n,...s}}};function jj(e){return window.getComputedStyle(e)}let $j=class extends Rk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(ic.has(n)){const s=uE(n);return s&&s.default||0}else{const s=jj(t),i=(yR(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yk(t,n)}build(t,n,s,i){tE(t,n,s,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return iE(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,s,i){SR(t,n,s,i)}},Bj=class extends Rk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ic.has(n)){const s=uE(n);return s&&s.default||0}return n=ER.has(n)?n:qS(n),t.getAttribute(n)}measureInstanceViewportBox(){return ne()}scrapeMotionValuesFromProps(t,n){return CR(t,n)}build(t,n,s,i){nE(t,n,s,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,s,i){TR(t,n,s,i)}mount(t){this.isSVGTag=sE(t.tagName),super.mount(t)}};const zj=(e,t)=>JS(e)?new Bj(t,{enableHardwareAcceleration:!1}):new $j(t,{enableHardwareAcceleration:!0}),Uj={layout:{ProjectionNode:Ck,MeasureLayout:xk}},Hj={...gV,...F8,...bj,...Uj},dt=WF((e,t)=>S8(e,t,Hj,zj));function kk(){const e=M.useRef(!1);return YS(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Wj(){const e=kk(),[t,n]=M.useState(0),s=M.useCallback(()=>{e.current&&n(t+1)},[t]);return[M.useCallback(()=>Ct.postRender(s),[s]),t]}class Gj extends M.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xj({children:e,isPresent:t}){const n=M.useId(),s=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0});return M.useInsertionEffect(()=>{const{width:r,height:o,top:a,left:l}=i.current;if(t||!s.current||!r||!o)return;s.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${r}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),M.createElement(Gj,{isPresent:t,childRef:s,sizeRef:i},M.cloneElement(e,{ref:s}))}const _w=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:i,presenceAffectsLayout:r,mode:o})=>{const a=PR(Yj),l=M.useId(),c=M.useMemo(()=>({id:l,initial:t,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;s&&s()},register:u=>(a.set(u,!1),()=>a.delete(u))}),r?void 0:[n]);return M.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&s&&s()},[n]),o==="popLayout"&&(e=M.createElement(Xj,{isPresent:n},e)),M.createElement(wx.Provider,{value:c},e)};function Yj(){return new Map}function qj(e){return M.useEffect(()=>()=>e(),[])}const ca=e=>e.key||"";function Kj(e,t){e.forEach(n=>{const s=ca(n);t.set(s,n)})}function Qj(e){const t=[];return M.Children.forEach(e,n=>{M.isValidElement(n)&&t.push(n)}),t}const Hs=({children:e,custom:t,initial:n=!0,onExitComplete:s,exitBeforeEnter:i,presenceAffectsLayout:r=!0,mode:o="sync"})=>{const a=M.useContext(ZS).forceRender||Wj()[0],l=kk(),c=Qj(e);let u=c;const d=M.useRef(new Map).current,f=M.useRef(u),p=M.useRef(new Map).current,m=M.useRef(!0);if(YS(()=>{m.current=!1,Kj(c,p),f.current=u}),qj(()=>{m.current=!0,p.clear(),d.clear()}),m.current)return M.createElement(M.Fragment,null,u.map(x=>M.createElement(_w,{key:ca(x),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:r,mode:o},x)));u=[...u];const g=f.current.map(ca),w=c.map(ca),y=g.length;for(let x=0;x<y;x++){const v=g[x];w.indexOf(v)===-1&&!d.has(v)&&d.set(v,void 0)}return o==="wait"&&d.size&&(u=[]),d.forEach((x,v)=>{if(w.indexOf(v)!==-1)return;const S=p.get(v);if(!S)return;const E=g.indexOf(v);let P=x;if(!P){const _=()=>{d.delete(v);const R=Array.from(p.keys()).filter(k=>!w.includes(k));if(R.forEach(k=>p.delete(k)),f.current=c.filter(k=>{const D=ca(k);return D===v||R.includes(D)}),!d.size){if(l.current===!1)return;a(),s&&s()}};P=M.createElement(_w,{key:ca(S),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:r,mode:o},S),d.set(v,P)}u.splice(E,0,P)}),u=u.map(x=>{const v=x.key;return d.has(v)?x:M.createElement(_w,{key:ca(x),isPresent:!0,presenceAffectsLayout:r,mode:o},x)}),M.createElement(M.Fragment,null,d.size?u:u.map(x=>M.cloneElement(x)))};var Lk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},OP=Bs.createContext&&Bs.createContext(Lk),$o=globalThis&&globalThis.__assign||function(){return $o=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$o.apply(this,arguments)},Zj=globalThis&&globalThis.__rest||function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n};function Dk(e){return e&&e.map(function(t,n){return Bs.createElement(t.tag,$o({key:n},t.attr),Dk(t.child))})}function ct(e){return function(t){return Bs.createElement(Jj,$o({attr:$o({},e.attr)},t),Dk(e.child))}}function Jj(e){var t=function(n){var s=e.attr,i=e.size,r=e.title,o=Zj(e,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Bs.createElement("svg",$o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:l,style:$o($o({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),r&&Bs.createElement("title",null,r),e.children)};return OP!==void 0?Bs.createElement(OP.Consumer,null,function(n){return t(n)}):t(Lk)}function t$(e){return ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"}}]})(e)}function gE(e){return ct({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function Ik(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function yE(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function VP(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"}}]})(e)}function e$(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"}}]})(e)}function n$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320 336c0 8.84-7.16 16-16 16h-96c-8.84 0-16-7.16-16-16v-48H0v144c0 25.6 22.4 48 48 48h416c25.6 0 48-22.4 48-48V288H320v48zm144-208h-80V80c0-25.6-22.4-48-48-48H176c-25.6 0-48 22.4-48 48v48H48c-25.6 0-48 22.4-48 48v80h512v-80c0-25.6-22.4-48-48-48zm-144 0H192V96h128v32z"}}]})(e)}function s$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.622 255.92l45.985-45.005c13.708-12.977 7.316-36.039-10.664-40.339l-62.65-15.99 17.661-62.015c4.991-17.838-11.829-34.663-29.661-29.671l-61.994 17.667-15.984-62.671C337.085.197 313.765-6.276 300.99 7.228L256 53.57 211.011 7.229c-12.63-13.351-36.047-7.234-40.325 10.668l-15.984 62.671-61.995-17.667C74.87 57.907 58.056 74.738 63.046 92.572l17.661 62.015-62.65 15.99C.069 174.878-6.31 197.944 7.392 210.915l45.985 45.005-45.985 45.004c-13.708 12.977-7.316 36.039 10.664 40.339l62.65 15.99-17.661 62.015c-4.991 17.838 11.829 34.663 29.661 29.671l61.994-17.667 15.984 62.671c4.439 18.575 27.696 24.018 40.325 10.668L256 458.61l44.989 46.001c12.5 13.488 35.987 7.486 40.325-10.668l15.984-62.671 61.994 17.667c17.836 4.994 34.651-11.837 29.661-29.671l-17.661-62.015 62.65-15.99c17.987-4.302 24.366-27.367 10.664-40.339l-45.984-45.004z"}}]})(e)}function i$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"}}]})(e)}function vE(e){return ct({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"}}]})(e)}function xE(e){return ct({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"}}]})(e)}function wE(e){return ct({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"}}]})(e)}function r$(e){return ct({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"}}]})(e)}function o$(e){return ct({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M225.38 233.37c-12.5 12.5-12.5 32.76 0 45.25 12.49 12.5 32.76 12.5 45.25 0 12.5-12.5 12.5-32.76 0-45.25-12.5-12.49-32.76-12.49-45.25 0zM248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm126.14 148.05L308.17 300.4a31.938 31.938 0 0 1-15.77 15.77l-144.34 65.97c-16.65 7.61-33.81-9.55-26.2-26.2l65.98-144.35a31.938 31.938 0 0 1 15.77-15.77l144.34-65.97c16.65-7.6 33.8 9.55 26.19 26.2z"}}]})(e)}function a$(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 192H312c-13.3 0-24-10.7-24-24V44c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v84h84c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm-276-24V44c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v84H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24zm0 300V344c0-13.3-10.7-24-24-24H12c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12zm192 0v-84h84c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12H312c-13.3 0-24 10.7-24 24v124c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12z"}}]})(e)}function bE(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M239.1 6.3l-208 78c-18.7 7-31.1 25-31.1 45v225.1c0 18.2 10.3 34.8 26.5 42.9l208 104c13.5 6.8 29.4 6.8 42.9 0l208-104c16.3-8.1 26.5-24.8 26.5-42.9V129.3c0-20-12.4-37.9-31.1-44.9l-208-78C262 2.2 250 2.2 239.1 6.3zM256 68.4l192 72v1.1l-192 78-192-78v-1.1l192-72zm32 356V275.5l160-65v133.9l-160 80z"}}]})(e)}function AE(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"}}]})(e)}function l$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"}}]})(e)}function c$(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z"}}]})(e)}function u$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function h$(e){return ct({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}}]})(e)}function d$(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"}}]})(e)}function f$(e){return ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.92 462.7l-288-448C341.03 5.54 330.89 0 320 0s-21.03 5.54-26.92 14.7l-288 448a32.001 32.001 0 0 0-1.17 32.64A32.004 32.004 0 0 0 32 512h576c11.71 0 22.48-6.39 28.09-16.67a31.983 31.983 0 0 0-1.17-32.63zM320 91.18L405.39 224H320l-64 64-38.06-38.06L320 91.18z"}}]})(e)}function p$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"}}]})(e)}function m$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"}}]})(e)}function Nk(e){return ct({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M480 192H365.71L260.61 8.06A16.014 16.014 0 0 0 246.71 0h-65.5c-10.63 0-18.3 10.17-15.38 20.39L214.86 192H112l-43.2-57.6c-3.02-4.03-7.77-6.4-12.8-6.4H16.01C5.6 128-2.04 137.78.49 147.88L32 256 .49 364.12C-2.04 374.22 5.6 384 16.01 384H56c5.04 0 9.78-2.37 12.8-6.4L112 320h102.86l-49.03 171.6c-2.92 10.22 4.75 20.4 15.38 20.4h65.5c5.74 0 11.04-3.08 13.89-8.06L365.71 320H480c35.35 0 96-28.65 96-64s-60.65-64-96-64z"}}]})(e)}function SE(e){return ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"}}]})(e)}function g$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 192v32c0 6.6-5.4 12-12 12H124c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"}}]})(e)}function y$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 192v32c0 6.6-5.4 12-12 12h-56v56c0 6.6-5.4 12-12 12h-32c-6.6 0-12-5.4-12-12v-56h-56c-6.6 0-12-5.4-12-12v-32c0-6.6 5.4-12 12-12h56v-56c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v56h56c6.6 0 12 5.4 12 12zm201 284.7L476.7 505c-9.4 9.4-24.6 9.4-33.9 0L343 405.3c-4.5-4.5-7-10.6-7-17V372c-35.3 27.6-79.7 44-128 44C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 48.3-16.4 92.7-44 128h16.3c6.4 0 12.5 2.5 17 7l99.7 99.7c9.3 9.4 9.3 24.6 0 34zM344 208c0-75.2-60.8-136-136-136S72 132.8 72 208s60.8 136 136 136 136-60.8 136-136z"}}]})(e)}function v$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"}}]})(e)}function x$(e){return ct({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function w$(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"}}]})(e)}function EE(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"}}]})(e)}function Fk(e){return ct({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"}}]})(e)}function b$(e){return ct({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"}}]})(e)}function ub(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M181.986 23.803c-16.323-.428-17.824 35.266 6.703 47.611 17.074-41.51 91.76 3.27 81.506 21.332-8.48 14.94-46.323-9.947-49.625-5.96-8.974 10.835 25.097 31.978 55.448 45.96l30.187-30.187c10.459-10.46 21.69-17.505 33.002-21.653-33.48-19.082-97.109-51.439-156.432-57.054-.266-.026-.53-.042-.789-.05zM49.5 47.338c-9.199 16.433-19.965 32.102-8.08 82.387l47.209 193.818c3.722-5.93 8.336-11.744 13.93-17.338l39.203-39.203-48.826-148.857C82.873 89.377 66.722 64.11 49.5 47.338zm315.527 46.16c-14.54-.044-30.539 6.23-46.095 21.787L115.285 318.932c-31.113 31.112-25.102 63.994-5.656 83.44 19.445 19.445 52.327 25.456 83.44-5.657l203.646-203.647c31.113-31.112 25.102-63.994 5.656-83.44-9.723-9.722-22.804-16.086-37.344-16.13zm-295.011 22.16l14.953 53.432-17.334 4.851-14.953-53.433zm271.545 9.528l16.263 16.263 16.262-16.263 12.728 12.728-16.263 16.262 16.263 16.263-12.728 12.729-16.262-16.262-16.263 16.262-12.729-12.729 16.262-16.263-16.262-16.262zm81.863 63.189c-3.731 5.958-8.363 11.8-13.983 17.42l-25.896 25.896 18.338 12.38-12.592 19.144 21.979 12.144-12.823 19.666 21.576 13.9-16.746 22.415 22.862 9.894-11.028 20.198 20.233 14.687-7.893 35.412 56.138-29.733zM287.816 327.42l-12.726 12.726 14.084 13.881a9 9 0 0 0 8.662 2.28l13.002-3.51-12.313 27.574c-3.442 7.713 4.676 15.492 12.235 11.725l17.691-8.825-10.545 19.094c-4.299 7.788 4.1 16.427 12.006 12.35l16.725-8.63-7.172 12.997c-3.747 6.794 2.283 14.829 9.853 13.129l22.948-5.156c7.598.705 8.552.699 13.595-.634l-4.306-15.571a9 9 0 0 0-8.371-2.452l-8.293 1.864 11.81-21.4c4.291-7.787-4.103-16.419-12.006-12.346l-16.709 8.619 10.203-18.473c4.271-7.732-3.991-16.349-11.896-12.406l-21.092 10.521 9.795-21.933c3.088-6.924-3.242-14.33-10.562-12.358l-26.303 7.098zm-185.093 92.86l-83.924 69.415 112.773-55.672c-10.678-2.366-20.539-7.118-28.85-13.744z"}}]})(e)}const A$={FaCube:T.jsx(bE,{}),FaRobot:T.jsx(SE,{}),FaClipboardList:T.jsx(wE,{}),FaPlane:T.jsx(Nk,{}),FaUserTie:T.jsx(Fk,{}),FaUserAstronaut:T.jsx(EE,{})},S$=({blades:e,onLinkClick:t})=>{const[n,s]=M.useState(!1),i=M.useRef(null),r=M.useRef(null),o=M.useRef(null);if(!e)return null;const a=[{id:"about-me",title:"About Me",icon:"FaUserAstronaut"},...e,{id:"experience",title:"Experience",icon:"FaUserTie"}],l=()=>{var f,p;s(!n),n?(p=r.current)==null||p.play():(f=i.current)==null||f.play()};M.useEffect(()=>{const f=p=>{o.current&&!o.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",f),()=>{document.removeEventListener("mousedown",f)}},[n]);const c=f=>{var p;(p=r.current)==null||p.play(),s(!1),setTimeout(()=>{t&&t(f)},150)},u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.05}},exit:{opacity:0,transition:{staggerChildren:.05,staggerDirection:-1}}},d={hidden:{opacity:0,y:0,x:0,rotate:0,scale:.5,transformOrigin:"top right",transition:{duration:.2}},visible:f=>({opacity:1,y:f*25,x:f*-5,rotate:f*-20,scale:1,transition:{type:"spring",stiffness:400,damping:25}}),exit:{opacity:0,y:0,x:0,rotate:0,scale:.5,transition:{duration:.2,ease:"easeIn"}}};return T.jsxs(T.Fragment,{children:[T.jsx("audio",{ref:i,src:"/sounds/open.mp3",preload:"auto"}),T.jsx("audio",{ref:r,src:"/sounds/click.mp3",preload:"auto"}),T.jsx("nav",{className:"fixed top-0 left-0 w-full z-50 bg-black/50 backdrop-blur-sm border-b border-blue-500/30 shadow-lg shadow-blue-500/10",children:T.jsxs("div",{className:"container mx-auto px-4 py-2 flex justify-between items-center",children:[T.jsxs("a",{href:"#hero",onClick:()=>c("hero"),className:"text-xl font-bold text-white flex items-center gap-2 hover:text-blue-400 transition-colors",children:[T.jsx(ub,{className:"text-blue-400",style:{filter:"drop-shadow(0 0 5px #00aaff)"}}),"SwissArmyKnife"]}),T.jsx("div",{className:"flex items-center gap-4",children:T.jsxs("div",{className:"relative",ref:o,children:[T.jsx(dt.button,{onClick:l,"aria-label":"Open navigation tools",className:"glare-container p-3 rounded-xl text-white transition-colors duration-300 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20",animate:{rotate:n?90:0},transition:{type:"spring",stiffness:400,damping:25},children:T.jsx(ub,{size:24})}),T.jsx(Hs,{children:n&&T.jsx(dt.div,{variants:u,initial:"hidden",animate:"visible",exit:"exit",className:"absolute top-14 right-0 w-52 flex flex-col items-stretch origin-top-right gap-2",children:a.map((f,p)=>T.jsx(dt.div,{custom:p,variants:d,className:"absolute top-0 right-0",children:T.jsxs("button",{onClick:()=>c(f.id),className:"w-full flex items-center justify-between gap-2 px-4 py-2 rounded-md bg-slate-900/80 text-white shadow-lg hover:bg-blue-500/50 transition-colors duration-300 backdrop-blur-sm border border-slate-700 hover:border-blue-500",children:[T.jsx("span",{children:f.title}),T.jsx("span",{className:"text-lg",children:A$[f.icon]})]})},f.id))})})]})})]})})]})},jP={FaCube:T.jsx(bE,{}),FaRobot:T.jsx(SE,{}),FaClipboardList:T.jsx(wE,{}),FaPlane:T.jsx(Nk,{}),FaUserTie:T.jsx(Fk,{}),FaUserAstronaut:T.jsx(EE,{})},E$=({tools:e,onBladeClick:t,className:n="",bladeDirection:s="down",styleType:i="list"})=>{const[r,o]=M.useState(!1),a=M.useRef(null),l=M.useRef(null),c=M.useRef(null),u=()=>{var v,S;o(!r),r?(S=l.current)==null||S.play():(v=a.current)==null||v.play()};M.useEffect(()=>{const v=S=>{c.current&&!c.current.contains(S.target)&&o(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[r]);const d=v=>{var S;t(v),o(!1),(S=l.current)==null||S.play()},f={hidden:{opacity:1},visible:{opacity:1,transition:{staggerChildren:.1}},exit:{opacity:1,transition:{delayChildren:.1,staggerChildren:.05,staggerDirection:-1}}},p={hidden:{opacity:0,y:0,x:0,rotate:0,scale:.5,transformOrigin:"bottom center"},visible:v=>({opacity:1,y:(v+1)*-25,x:(v-(e.length-1)/2)*15,rotate:(v-(e.length-.5)/10)*15,scale:1,transition:{type:"spring",stiffness:400,damping:20}}),exit:{opacity:0,y:0,x:0,rotate:0,scale:.5,transition:{duration:.2,ease:"easeIn"}}},m={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}},exit:{opacity:0,transition:{staggerChildren:.05,staggerDirection:-1}}},g=v=>({hidden:{opacity:0,y:20,rotate:-20,scale:.8},visible:{opacity:1,y:0,rotate:(v-(e.length-1)/2)*15,scale:1,transition:{type:"spring",stiffness:300,damping:15}},exit:{opacity:0,y:20,rotate:-20,scale:.8}}),w=i==="arc",y=w?m:f,x=s==="down"?"top-full mt-2 right-0 origin-top-right":"bottom-full mb-4 left-1/2 -translate-x-1/2";return T.jsxs("div",{className:"relative inline-block",ref:c,children:[T.jsx("audio",{ref:a,src:"/sounds/open.mp3",preload:"auto"}),T.jsx("audio",{ref:l,src:"/sounds/click.mp3",preload:"auto"}),T.jsxs(dt.button,{onClick:u,"aria-label":"Open navigation tools",className:`glare-container flex items-center justify-center gap-2 rounded-xl text-white transition-all duration-100 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 ${n}`,animate:{rotate:r?90:0,x:r?120:0},transition:{type:"spring",stiffness:900,damping:30},children:[T.jsx(ub,{className:"text-blue-400"}),s==="up"&&T.jsx("span",{className:"font-bold",children:"Explore My Toolkit"})]}),T.jsx(Hs,{children:r&&T.jsx(dt.div,{variants:y,initial:"hidden",animate:"visible",exit:"exit",className:`absolute z-50 ${x} ${w?"flex gap-2":"w-64"}`,children:e.map((v,S)=>T.jsx(dt.div,{custom:S,className:w?"":"absolute bottom-0 left-1/2 -ml-[8rem] w-64",variants:w?g(S):p,children:w?T.jsxs("button",{onClick:()=>d(v.id),className:"glare-container bg-black/40 backdrop-blur-sm hover:bg-blue-600/50 w-32 h-32 rounded-lg shadow-lg flex flex-col items-center justify-center p-2 text-white transition-colors duration-300 border border-white/20",children:[T.jsx("span",{className:`text-4xl text-${v.color||"white"}-400`,children:jP[v.icon]}),T.jsx("span",{className:"font-semibold mt-2 text-sm text-center",children:v.title})]}):T.jsxs("button",{onClick:()=>d(v.id),className:"glare-container w-full flex items-center justify-between gap-2 px-4 py-3 rounded-lg bg-black/40 text-white shadow-lg hover:bg-blue-600/50 transition-colors duration-300 backdrop-blur-sm border border-white/20",children:[T.jsx("span",{children:v.title}),T.jsx("span",{className:"text-lg",children:jP[v.icon]})]})},v.id))})})]})},Ok=M.createContext({});function T$(e){const t=M.useRef(null);return t.current===null&&(t.current=e()),t.current}const TE=typeof window<"u",C$=TE?M.useLayoutEffect:M.useEffect,CE=M.createContext(null);function PE(e,t){e.indexOf(t)===-1&&e.push(t)}function _E(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Sr=(e,t,n)=>n>t?t:n<e?e:n;let ME=()=>{};const Er={},Vk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jk(e){return typeof e=="object"&&e!==null}const $k=e=>/^0[^.\s]+$/u.test(e);function RE(e){let t;return()=>(t===void 0&&(t=e()),t)}const ms=e=>e,P$=(e,t)=>n=>t(e(n)),Ag=(...e)=>e.reduce(P$),Rf=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class kE{constructor(){this.subscriptions=[]}add(t){return PE(this.subscriptions,t),()=>_E(this.subscriptions,t)}notify(t,n,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Si=e=>e*1e3,Ei=e=>e/1e3;function Bk(e,t){return t?e*(1e3/t):0}const zk=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_$=1e-7,M$=12;function R$(e,t,n,s,i){let r,o,a=0;do o=t+(n-t)/2,r=zk(o,s,i)-e,r>0?n=o:t=o;while(Math.abs(r)>_$&&++a<M$);return o}function Sg(e,t,n,s){if(e===t&&n===s)return ms;const i=r=>R$(r,0,1,e,n);return r=>r===0||r===1?r:zk(i(r),t,s)}const Uk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hk=e=>t=>1-e(1-t),Wk=Sg(.33,1.53,.69,.99),LE=Hk(Wk),Gk=Uk(LE),Xk=e=>(e*=2)<1?.5*LE(e):.5*(2-Math.pow(2,-10*(e-1))),DE=e=>1-Math.sin(Math.acos(e)),Yk=Hk(DE),qk=Uk(DE),k$=Sg(.42,0,1,1),L$=Sg(0,0,.58,1),Kk=Sg(.42,0,.58,1),D$=e=>Array.isArray(e)&&typeof e[0]!="number",Qk=e=>Array.isArray(e)&&typeof e[0]=="number",I$={linear:ms,easeIn:k$,easeInOut:Kk,easeOut:L$,circIn:DE,circInOut:qk,circOut:Yk,backIn:LE,backInOut:Gk,backOut:Wk,anticipate:Xk},N$=e=>typeof e=="string",$P=e=>{if(Qk(e)){ME(e.length===4);const[t,n,s,i]=e;return Sg(t,n,s,i)}else if(N$(e))return I$[e];return e},n0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],BP={value:null,addProjectionMetrics:null};function F$(e,t){let n=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),e()),l++,d(a)}const u={schedule:(d,f=!1,p=!1)=>{const g=p&&i?n:s;return f&&o.add(d),g.has(d)||g.add(d),d},cancel:d=>{s.delete(d),o.delete(d)},process:d=>{if(a=d,i){r=!0;return}i=!0,[n,s]=[s,n],n.forEach(c),t&&BP.value&&BP.value.frameloop[t].push(l),l=0,n.clear(),i=!1,r&&(r=!1,u.process(d))}};return u}const O$=40;function Zk(e,t){let n=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>n=!0,o=n0.reduce((v,S)=>(v[S]=F$(r,t?S:void 0),v),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:p,postRender:m}=o,g=()=>{const v=Er.useManualTiming?i.timestamp:performance.now();n=!1,Er.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(v-i.timestamp,O$),1)),i.timestamp=v,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&t&&(s=!1,e(g))},w=()=>{n=!0,s=!0,i.isProcessing||e(g)};return{schedule:n0.reduce((v,S)=>{const E=o[S];return v[S]=(P,_=!1,R=!1)=>(n||w(),E.schedule(P,_,R)),v},{}),cancel:v=>{for(let S=0;S<n0.length;S++)o[n0[S]].cancel(v)},state:i,steps:o}}const{schedule:Ft,cancel:Xo,state:Ie,steps:Mw}=Zk(typeof requestAnimationFrame<"u"?requestAnimationFrame:ms,!0);let M0;function V$(){M0=void 0}const An={now:()=>(M0===void 0&&An.set(Ie.isProcessing||Er.useManualTiming?Ie.timestamp:performance.now()),M0),set:e=>{M0=e,queueMicrotask(V$)}},Jk=e=>t=>typeof t=="string"&&t.startsWith(e),IE=Jk("--"),j$=Jk("var(--"),NE=e=>j$(e)?$$.test(e.split("/*")[0].trim()):!1,$$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Kh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kf={...Kh,transform:e=>Sr(0,1,e)},s0={...Kh,default:1},nf=e=>Math.round(e*1e5)/1e5,FE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B$(e){return e==null}const z$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,OE=(e,t)=>n=>!!(typeof n=="string"&&z$.test(n)&&n.startsWith(e)||t&&!B$(n)&&Object.prototype.hasOwnProperty.call(n,t)),tL=(e,t,n)=>s=>{if(typeof s!="string")return s;const[i,r,o,a]=s.match(FE);return{[e]:parseFloat(i),[t]:parseFloat(r),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},U$=e=>Sr(0,255,e),Rw={...Kh,transform:e=>Math.round(U$(e))},wa={test:OE("rgb","red"),parse:tL("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Rw.transform(e)+", "+Rw.transform(t)+", "+Rw.transform(n)+", "+nf(kf.transform(s))+")"};function H$(e){let t="",n="",s="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,s+=s,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const hb={test:OE("#"),parse:H$,transform:wa.transform},Eg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lr=Eg("deg"),Ti=Eg("%"),J=Eg("px"),W$=Eg("vh"),G$=Eg("vw"),zP=(()=>({...Ti,parse:e=>Ti.parse(e)/100,transform:e=>Ti.transform(e*100)}))(),Ic={test:OE("hsl","hue"),parse:tL("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ti.transform(nf(t))+", "+Ti.transform(nf(n))+", "+nf(kf.transform(s))+")"},ie={test:e=>wa.test(e)||hb.test(e)||Ic.test(e),parse:e=>wa.test(e)?wa.parse(e):Ic.test(e)?Ic.parse(e):hb.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wa.transform(e):Ic.transform(e),getAnimatableNone:e=>{const t=ie.parse(e);return t.alpha=0,ie.transform(t)}},X$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y$(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(FE))==null?void 0:t.length)||0)+(((n=e.match(X$))==null?void 0:n.length)||0)>0}const eL="number",nL="color",q$="var",K$="var(",UP="${}",Q$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Lf(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},i=[];let r=0;const a=t.replace(Q$,l=>(ie.test(l)?(s.color.push(r),i.push(nL),n.push(ie.parse(l))):l.startsWith(K$)?(s.var.push(r),i.push(q$),n.push(l)):(s.number.push(r),i.push(eL),n.push(parseFloat(l))),++r,UP)).split(UP);return{values:n,split:a,indexes:s,types:i}}function sL(e){return Lf(e).values}function iL(e){const{split:t,types:n}=Lf(e),s=t.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=t[o],i[o]!==void 0){const a=n[o];a===eL?r+=nf(i[o]):a===nL?r+=ie.transform(i[o]):r+=i[o]}return r}}const Z$=e=>typeof e=="number"?0:ie.test(e)?ie.getAnimatableNone(e):e;function J$(e){const t=sL(e);return iL(e)(t.map(Z$))}const Yo={test:Y$,parse:sL,createTransformer:iL,getAnimatableNone:J$};function kw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function t9({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let i=0,r=0,o=0;if(!t)i=r=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=kw(l,a,e+1/3),r=kw(l,a,e),o=kw(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function H1(e,t){return n=>n>0?t:e}const Bt=(e,t,n)=>e+(t-e)*n,Lw=(e,t,n)=>{const s=e*e,i=n*(t*t-s)+s;return i<0?0:Math.sqrt(i)},e9=[hb,wa,Ic],n9=e=>e9.find(t=>t.test(e));function HP(e){const t=n9(e);if(!t)return!1;let n=t.parse(e);return t===Ic&&(n=t9(n)),n}const WP=(e,t)=>{const n=HP(e),s=HP(t);if(!n||!s)return H1(e,t);const i={...n};return r=>(i.red=Lw(n.red,s.red,r),i.green=Lw(n.green,s.green,r),i.blue=Lw(n.blue,s.blue,r),i.alpha=Bt(n.alpha,s.alpha,r),wa.transform(i))},db=new Set(["none","hidden"]);function s9(e,t){return db.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function i9(e,t){return n=>Bt(e,t,n)}function VE(e){return typeof e=="number"?i9:typeof e=="string"?NE(e)?H1:ie.test(e)?WP:a9:Array.isArray(e)?rL:typeof e=="object"?ie.test(e)?WP:r9:H1}function rL(e,t){const n=[...e],s=n.length,i=e.map((r,o)=>VE(r)(r,t[o]));return r=>{for(let o=0;o<s;o++)n[o]=i[o](r);return n}}function r9(e,t){const n={...e,...t},s={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(s[i]=VE(e[i])(e[i],t[i]));return i=>{for(const r in s)n[r]=s[r](i);return n}}function o9(e,t){const n=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const r=t.types[i],o=e.indexes[r][s[r]],a=e.values[o]??0;n[i]=a,s[r]++}return n}const a9=(e,t)=>{const n=Yo.createTransformer(t),s=Lf(e),i=Lf(t);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?db.has(e)&&!i.values.length||db.has(t)&&!s.values.length?s9(e,t):Ag(rL(o9(s,i),i.values),n):H1(e,t)};function oL(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Bt(e,t,n):VE(e)(e,t)}const l9=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ft.update(t,n),stop:()=>Xo(t),now:()=>Ie.isProcessing?Ie.timestamp:An.now()}},aL=(e,t,n=10)=>{let s="";const i=Math.max(Math.round(t/n),2);for(let r=0;r<i;r++)s+=Math.round(e(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},W1=2e4;function jE(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<W1;)t+=n,s=e.next(t);return t>=W1?1/0:t}function c9(e,t=100,n){const s=n({...e,keyframes:[0,t]}),i=Math.min(jE(s),W1);return{type:"keyframes",ease:r=>s.next(i*r).value/t,duration:Ei(i)}}const u9=5;function lL(e,t,n){const s=Math.max(t-u9,0);return Bk(n-e(s),t-s)}const Wt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Dw=.001;function h9({duration:e=Wt.duration,bounce:t=Wt.bounce,velocity:n=Wt.velocity,mass:s=Wt.mass}){let i,r,o=1-t;o=Sr(Wt.minDamping,Wt.maxDamping,o),e=Sr(Wt.minDuration,Wt.maxDuration,Ei(e)),o<1?(i=c=>{const u=c*o,d=u*e,f=u-n,p=fb(c,o),m=Math.exp(-d);return Dw-f/p*m},r=c=>{const d=c*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(c,2)*e,m=Math.exp(-d),g=fb(Math.pow(c,2),o);return(-i(c)+Dw>0?-1:1)*((f-p)*m)/g}):(i=c=>{const u=Math.exp(-c*e),d=(c-n)*e+1;return-Dw+u*d},r=c=>{const u=Math.exp(-c*e),d=(n-c)*(e*e);return u*d});const a=5/e,l=f9(i,r,a);if(e=Si(e),isNaN(l))return{stiffness:Wt.stiffness,damping:Wt.damping,duration:e};{const c=Math.pow(l,2)*s;return{stiffness:c,damping:o*2*Math.sqrt(s*c),duration:e}}}const d9=12;function f9(e,t,n){let s=n;for(let i=1;i<d9;i++)s=s-e(s)/t(s);return s}function fb(e,t){return e*Math.sqrt(1-t*t)}const p9=["duration","bounce"],m9=["stiffness","damping","mass"];function GP(e,t){return t.some(n=>e[n]!==void 0)}function g9(e){let t={velocity:Wt.velocity,stiffness:Wt.stiffness,damping:Wt.damping,mass:Wt.mass,isResolvedFromDuration:!1,...e};if(!GP(e,m9)&&GP(e,p9))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),i=s*s,r=2*Sr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Wt.mass,stiffness:i,damping:r}}else{const n=h9(e);t={...t,...n,mass:Wt.mass},t.isResolvedFromDuration=!0}return t}function G1(e=Wt.visualDuration,t=Wt.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:i}=n;const r=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:r},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=g9({...n,velocity:-Ei(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),w=o-r,y=Ei(Math.sqrt(l/u)),x=Math.abs(w)<5;s||(s=x?Wt.restSpeed.granular:Wt.restSpeed.default),i||(i=x?Wt.restDelta.granular:Wt.restDelta.default);let v;if(g<1){const E=fb(y,g);v=P=>{const _=Math.exp(-g*y*P);return o-_*((m+g*y*w)/E*Math.sin(E*P)+w*Math.cos(E*P))}}else if(g===1)v=E=>o-Math.exp(-y*E)*(w+(m+y*w)*E);else{const E=y*Math.sqrt(g*g-1);v=P=>{const _=Math.exp(-g*y*P),R=Math.min(E*P,300);return o-_*((m+g*y*w)*Math.sinh(R)+E*w*Math.cosh(R))/E}}const S={calculatedDuration:p&&d||null,next:E=>{const P=v(E);if(p)a.done=E>=d;else{let _=E===0?m:0;g<1&&(_=E===0?Si(m):lL(v,E,P));const R=Math.abs(_)<=s,k=Math.abs(o-P)<=i;a.done=R&&k}return a.value=a.done?o:P,a},toString:()=>{const E=Math.min(jE(S),W1),P=aL(_=>S.next(E*_).value,E,30);return E+"ms "+P},toTransition:()=>{}};return S}G1.applyToOptions=e=>{const t=c9(e,100,G1);return e.ease=t.ease,e.duration=Si(t.duration),e.type="keyframes",e};function pb({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},p=R=>a!==void 0&&R<a||l!==void 0&&R>l,m=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let g=n*t;const w=d+g,y=o===void 0?w:o(w);y!==w&&(g=y-d);const x=R=>-g*Math.exp(-R/s),v=R=>y+x(R),S=R=>{const k=x(R),D=v(R);f.done=Math.abs(k)<=c,f.value=f.done?y:D};let E,P;const _=R=>{p(f.value)&&(E=R,P=G1({keyframes:[f.value,m(f.value)],velocity:lL(v,R,f.value),damping:i,stiffness:r,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:R=>{let k=!1;return!P&&E===void 0&&(k=!0,S(R),_(R)),E!==void 0&&R>=E?P.next(R-E):(!k&&S(R),f)}}}function y9(e,t,n){const s=[],i=n||Er.mix||oL,r=e.length-1;for(let o=0;o<r;o++){let a=i(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||ms:t;a=Ag(l,a)}s.push(a)}return s}function v9(e,t,{clamp:n=!0,ease:s,mixer:i}={}){const r=e.length;if(ME(r===t.length),r===1)return()=>t[0];if(r===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[r-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=y9(t,s,i),l=a.length,c=u=>{if(o&&u<e[0])return t[0];let d=0;if(l>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Rf(e[d],e[d+1],u);return a[d](f)};return n?u=>c(Sr(e[0],e[r-1],u)):c}function x9(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const i=Rf(0,t,s);e.push(Bt(n,1,i))}}function w9(e){const t=[0];return x9(t,e.length-1),t}function b9(e,t){return e.map(n=>n*t)}function A9(e,t){return e.map(()=>t||Kk).splice(0,e.length-1)}function sf({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const i=D$(s)?s.map($P):$P(s),r={done:!1,value:t[0]},o=b9(n&&n.length===t.length?n:w9(t),e),a=v9(o,t,{ease:Array.isArray(i)?i:A9(t,i)});return{calculatedDuration:e,next:l=>(r.value=a(l),r.done=l>=e,r)}}const S9=e=>e!==null;function $E(e,{repeat:t,repeatType:n="loop"},s,i=1){const r=e.filter(S9),a=i<0||t&&n!=="loop"&&t%2===1?0:r.length-1;return!a||s===void 0?r[a]:s}const E9={decay:pb,inertia:pb,tween:sf,keyframes:sf,spring:G1};function cL(e){typeof e.type=="string"&&(e.type=E9[e.type])}class BE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const T9=e=>e/100;class zE extends BE{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:n}=this.options;n&&n.updatedAt!==An.now()&&this.tick(An.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cL(t);const{type:n=sf,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=t;let{keyframes:a}=t;const l=n||sf;l!==sf&&typeof a[0]!="number"&&(this.mixKeyframes=Ag(T9,oL(a[0],a[1])),a=[0,100]);const c=l({...t,keyframes:a});r==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=jE(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=c}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return s.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:p,type:m,onUpdate:g,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let v=this.currentTime,S=s;if(d){const R=Math.min(this.currentTime,i)/a;let k=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&k--,k=Math.min(k,d+1),!!(k%2)&&(f==="reverse"?(D=1-D,p&&(D-=p/a)):f==="mirror"&&(S=o)),v=Sr(0,1,D)*a}const E=x?{done:!1,value:u[0]}:S.next(v);r&&(E.value=r(E.value));let{done:P}=E;!x&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return _&&m!==pb&&(E.value=$E(u,this.options,w,this.speed)),g&&g(E.value),_&&this.finish(),E}then(t,n){return this.finished.then(t,n)}get duration(){return Ei(this.calculatedDuration)}get time(){return Ei(this.currentTime)}set time(t){var n;t=Si(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(An.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ei(this.currentTime))}play(){var i,r;if(this.isStopped)return;const{driver:t=l9,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(r=(i=this.options).onPlay)==null||r.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(An.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function C9(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ba=e=>e*180/Math.PI,mb=e=>{const t=ba(Math.atan2(e[1],e[0]));return gb(t)},P9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mb,rotateZ:mb,skewX:e=>ba(Math.atan(e[1])),skewY:e=>ba(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gb=e=>(e=e%360,e<0&&(e+=360),e),XP=mb,YP=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),qP=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),_9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:YP,scaleY:qP,scale:e=>(YP(e)+qP(e))/2,rotateX:e=>gb(ba(Math.atan2(e[6],e[5]))),rotateY:e=>gb(ba(Math.atan2(-e[2],e[0]))),rotateZ:XP,rotate:XP,skewX:e=>ba(Math.atan(e[4])),skewY:e=>ba(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yb(e){return e.includes("scale")?1:0}function vb(e,t){if(!e||e==="none")return yb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(n)s=_9,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=P9,i=a}if(!i)return yb(t);const r=s[t],o=i[1].split(",").map(R9);return typeof r=="function"?r(o):o[r]}const M9=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return vb(n,t)};function R9(e){return parseFloat(e.trim())}const Qh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zh=(()=>new Set(Qh))(),KP=e=>e===Kh||e===J,k9=new Set(["x","y","z"]),L9=Qh.filter(e=>!k9.has(e));function D9(e){const t=[];return L9.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Xl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vb(t,"x"),y:(e,{transform:t})=>vb(t,"y")};Xl.translateX=Xl.x;Xl.translateY=Xl.y;const Yl=new Set;let xb=!1,wb=!1,bb=!1;function uL(){if(wb){const e=Array.from(Yl).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const i=D9(s);i.length&&(n.set(s,i),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const i=n.get(s);i&&i.forEach(([r,o])=>{var a;(a=s.getValue(r))==null||a.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}wb=!1,xb=!1,Yl.forEach(e=>e.complete(bb)),Yl.clear()}function hL(){Yl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wb=!0)})}function I9(){bb=!0,hL(),uL(),bb=!1}class UE{constructor(t,n,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Yl.add(this),xb||(xb=!0,Ft.read(hL),Ft.resolveKeyframes(uL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:i}=this;if(t[0]===null){const r=i==null?void 0:i.get(),o=t[t.length-1];if(r!==void 0)t[0]=r;else if(s&&n){const a=s.readValue(n,o);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=o),i&&r===void 0&&i.set(t[0])}C9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Yl.delete(this)}cancel(){this.state==="scheduled"&&(Yl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const N9=e=>e.startsWith("--");function F9(e,t,n){N9(t)?e.style.setProperty(t,n):e.style[t]=n}const O9=RE(()=>window.ScrollTimeline!==void 0),V9={};function j9(e,t){const n=RE(e);return()=>V9[t]??n()}const dL=j9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Sd=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,QP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sd([0,.65,.55,1]),circOut:Sd([.55,0,1,.45]),backIn:Sd([.31,.01,.66,-.59]),backOut:Sd([.33,1.53,.69,.99])};function fL(e,t){if(e)return typeof e=="function"?dL()?aL(e,t):"ease-out":Qk(e)?Sd(e):Array.isArray(e)?e.map(n=>fL(n,t)||QP.easeOut):QP[e]}function $9(e,t,n,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=fL(a,i);Array.isArray(d)&&(u.easing=d);const f={delay:s,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),e.animate(u,f)}function pL(e){return typeof e=="function"&&"applyToOptions"in e}function B9({type:e,...t}){return pL(e)&&dL()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class z9 extends BE{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=t,ME(typeof t.type!="string");const c=B9(t);this.animation=$9(n,s,i,c,r),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const u=$E(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):F9(n,s,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ei(Number(t))}get time(){return Ei(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Si(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&O9()?(this.animation.timeline=t,ms):n(this)}}const mL={anticipate:Xk,backInOut:Gk,circInOut:qk};function U9(e){return e in mL}function H9(e){typeof e.ease=="string"&&U9(e.ease)&&(e.ease=mL[e.ease])}const ZP=10;class W9 extends z9{constructor(t){H9(t),cL(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new zE({...o,autoplay:!1}),l=Si(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-ZP).value,a.sample(l).value,ZP),a.stop()}}const JP=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yo.test(e)||e==="0")&&!e.startsWith("url("));function G9(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function X9(e,t,n,s){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const r=e[e.length-1],o=JP(i,t),a=JP(r,t);return!o||!a?!1:G9(e)||(n==="spring"||pL(n))&&s}function Ab(e){e.duration=0,e.type}const Y9=new Set(["opacity","clipPath","filter","transform"]),q9=RE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K9(e){var u;const{motionValue:t,name:n,repeatDelay:s,repeatType:i,damping:r,type:o}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return q9()&&n&&Y9.has(n)&&(n!=="transform"||!c)&&!l&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const Q9=40;class Z9 extends BE{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var m;super(),this.stop=()=>{var g,w;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=An.now();const f={autoplay:t,delay:n,type:s,repeat:i,repeatDelay:r,repeatType:o,name:l,motionValue:c,element:u,...d},p=(u==null?void 0:u.KeyframeResolver)||UE;this.keyframeResolver=new p(a,(g,w,y)=>this.onKeyframesResolved(g,w,f,!y),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,n,s,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=s;this.resolvedAt=An.now(),X9(t,r,o,a)||((Er.instantAnimations||!l)&&(u==null||u($E(t,s,n))),t[0]=t[t.length-1],Ab(s),s.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Q9?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},p=!c&&K9(f)?new W9({...f,element:f.motionValue.owner.current}):new zE(f);p.finished.then(()=>this.notifyFinished()).catch(ms),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),I9()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const J9=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t7(e){const t=J9.exec(e);if(!t)return[,];const[,n,s,i]=t;return[`--${n??s}`,i]}function gL(e,t,n=1){const[s,i]=t7(e);if(!s)return;const r=window.getComputedStyle(t).getPropertyValue(s);if(r){const o=r.trim();return Vk(o)?parseFloat(o):o}return NE(i)?gL(i,t,n+1):i}function HE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const yL=new Set(["width","height","top","left","right","bottom",...Qh]),e7={test:e=>e==="auto",parse:e=>e},vL=e=>t=>t.test(e),xL=[Kh,J,Ti,Lr,G$,W$,e7],t_=e=>xL.find(vL(e));function n7(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$k(e):!0}const s7=new Set(["brightness","contrast","saturate","opacity"]);function i7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(FE)||[];if(!s)return e;const i=n.replace(s,"");let r=s7.has(t)?1:0;return s!==n&&(r*=100),t+"("+r+i+")"}const r7=/\b([a-z-]*)\(.*?\)/gu,Sb={...Yo,getAnimatableNone:e=>{const t=e.match(r7);return t?t.map(i7).join(" "):e}},e_={...Kh,transform:Math.round},o7={rotate:Lr,rotateX:Lr,rotateY:Lr,rotateZ:Lr,scale:s0,scaleX:s0,scaleY:s0,scaleZ:s0,skew:Lr,skewX:Lr,skewY:Lr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:kf,originX:zP,originY:zP,originZ:J},WE={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...o7,zIndex:e_,fillOpacity:kf,strokeOpacity:kf,numOctaves:e_},a7={...WE,color:ie,backgroundColor:ie,outlineColor:ie,fill:ie,stroke:ie,borderColor:ie,borderTopColor:ie,borderRightColor:ie,borderBottomColor:ie,borderLeftColor:ie,filter:Sb,WebkitFilter:Sb},wL=e=>a7[e];function bL(e,t){let n=wL(e);return n!==Sb&&(n=Yo),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const l7=new Set(["auto","none","0"]);function c7(e,t,n){let s=0,i;for(;s<e.length&&!i;){const r=e[s];typeof r=="string"&&!l7.has(r)&&Lf(r).values.length&&(i=e[s]),s++}if(i&&n)for(const r of t)e[r]=bL(n,i)}class u7 extends UE{constructor(t,n,s,i,r){super(t,n,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),NE(c))){const u=gL(c,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!yL.has(s)||t.length!==2)return;const[i,r]=t,o=t_(i),a=t_(r);if(o!==a)if(KP(o)&&KP(a))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Xl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let i=0;i<t.length;i++)(t[i]===null||n7(t[i]))&&s.push(i);s.length&&c7(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(s,i).jump(i,!1)}measureEndState(){var a;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=Xl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function h7(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;t&&(s=t.current);const i=(n==null?void 0:n[e])??s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const AL=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function d7(e){return jk(e)&&"offsetHeight"in e}const n_=30,f7=e=>!isNaN(parseFloat(e));class p7{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var r;const i=An.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((r=this.events.change)==null||r.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=f7(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kE);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ft.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>n_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,n_);return Bk(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uh(e,t){return new p7(e,t)}const{schedule:GE,cancel:WY}=Zk(queueMicrotask,!1),bs={x:!1,y:!1};function SL(){return bs.x||bs.y}function m7(e){return e==="x"||e==="y"?bs[e]?null:(bs[e]=!0,()=>{bs[e]=!1}):bs.x||bs.y?null:(bs.x=bs.y=!0,()=>{bs.x=bs.y=!1})}function EL(e,t){const n=h7(e),s=new AbortController,i={passive:!0,...t,signal:s.signal};return[n,i,()=>s.abort()]}function s_(e){return!(e.pointerType==="touch"||SL())}function g7(e,t,n={}){const[s,i,r]=EL(e,n),o=a=>{if(!s_(a))return;const{target:l}=a,c=t(l,a);if(typeof c!="function"||!l)return;const u=d=>{s_(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return s.forEach(a=>{a.addEventListener("pointerenter",o,i)}),r}const TL=(e,t)=>t?e===t?!0:TL(e,t.parentElement):!1,XE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,y7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v7(e){return y7.has(e.tagName)||e.tabIndex!==-1}const R0=new WeakSet;function i_(e){return t=>{t.key==="Enter"&&e(t)}}function Iw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const x7=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=i_(()=>{if(R0.has(n))return;Iw(n,"down");const i=i_(()=>{Iw(n,"up")}),r=()=>Iw(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",r,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function r_(e){return XE(e)&&!SL()}function w7(e,t,n={}){const[s,i,r]=EL(e,n),o=a=>{const l=a.currentTarget;if(!r_(a))return;R0.add(l);const c=t(l,a),u=(p,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),R0.has(l)&&R0.delete(l),r_(p)&&typeof c=="function"&&c(p,{success:m})},d=p=>{u(p,l===window||l===document||n.useGlobalTarget||TL(l,p.target))},f=p=>{u(p,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return s.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),d7(a)&&(a.addEventListener("focus",c=>x7(c,i)),!v7(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),r}function CL(e){return jk(e)&&"ownerSVGElement"in e}function b7(e){return CL(e)&&e.tagName==="svg"}const qe=e=>!!(e&&e.getVelocity),A7=[...xL,ie,Yo],S7=e=>A7.find(vL(e)),PL=M.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function E7(e=!0){const t=M.useContext(CE);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:i}=t,r=M.useId();M.useEffect(()=>{if(e)return i(r)},[e]);const o=M.useCallback(()=>e&&s&&s(r),[r,s,e]);return!n&&s?[!1,o]:[!0]}const _L=M.createContext({strict:!1}),o_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hh={};for(const e in o_)Hh[e]={isEnabled:t=>o_[e].some(n=>!!t[n])};function T7(e){for(const t in e)Hh[t]={...Hh[t],...e[t]}}const C7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function X1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||C7.has(e)}let ML=e=>!X1(e);function P7(e){typeof e=="function"&&(ML=t=>t.startsWith("on")?!X1(t):e(t))}try{P7(require("@emotion/is-prop-valid").default)}catch{}function _7(e,t,n){const s={};for(const i in e)i==="values"&&typeof e.values=="object"||(ML(i)||n===!0&&X1(i)||!t&&!X1(i)||e.draggable&&i.startsWith("onDrag"))&&(s[i]=e[i]);return s}const Px=M.createContext({});function _x(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Df(e){return typeof e=="string"||Array.isArray(e)}const YE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qE=["initial",...YE];function Mx(e){return _x(e.animate)||qE.some(t=>Df(e[t]))}function RL(e){return!!(Mx(e)||e.variants)}function M7(e,t){if(Mx(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Df(n)?n:void 0,animate:Df(s)?s:void 0}}return e.inherit!==!1?t:{}}function R7(e){const{initial:t,animate:n}=M7(e,M.useContext(Px));return M.useMemo(()=>({initial:t,animate:n}),[a_(t),a_(n)])}function a_(e){return Array.isArray(e)?e.join(" "):e}const If={};function k7(e){for(const t in e)If[t]=e[t],IE(t)&&(If[t].isCSSVariable=!0)}function kL(e,{layout:t,layoutId:n}){return Zh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!If[e]||e==="opacity")}const L7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D7=Qh.length;function I7(e,t,n){let s="",i=!0;for(let r=0;r<D7;r++){const o=Qh[r],a=e[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=AL(a,WE[o]);if(!l){i=!1;const u=L7[o]||o;s+=`${u}(${c}) `}n&&(t[o]=c)}}return s=s.trim(),n?s=n(t,i?"":s):i&&(s="none"),s}function KE(e,t,n){const{style:s,vars:i,transformOrigin:r}=e;let o=!1,a=!1;for(const l in t){const c=t[l];if(Zh.has(l)){o=!0;continue}else if(IE(l)){i[l]=c;continue}else{const u=AL(c,WE[l]);l.startsWith("origin")?(a=!0,r[l]=u):s[l]=u}}if(t.transform||(o||n?s.transform=I7(t,e.transform,n):s.transform&&(s.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=r;s.transformOrigin=`${l} ${c} ${u}`}}const QE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function LL(e,t,n){for(const s in t)!qe(t[s])&&!kL(s,n)&&(e[s]=t[s])}function N7({transformTemplate:e},t){return M.useMemo(()=>{const n=QE();return KE(n,t,e),Object.assign({},n.vars,n.style)},[t])}function F7(e,t){const n=e.style||{},s={};return LL(s,n,e),Object.assign(s,N7(e,t)),s}function O7(e,t){const n={},s=F7(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const V7={offset:"stroke-dashoffset",array:"stroke-dasharray"},j7={offset:"strokeDashoffset",array:"strokeDasharray"};function $7(e,t,n=1,s=0,i=!0){e.pathLength=1;const r=i?V7:j7;e[r.offset]=J.transform(-s);const o=J.transform(t),a=J.transform(n);e[r.array]=`${o} ${a}`}function DL(e,{attrX:t,attrY:n,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...a},l,c,u){if(KE(e,a,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),t!==void 0&&(d.x=t),n!==void 0&&(d.y=n),s!==void 0&&(d.scale=s),i!==void 0&&$7(d,i,r,o,!1)}const IL=()=>({...QE(),attrs:{}}),NL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function B7(e,t,n,s){const i=M.useMemo(()=>{const r=IL();return DL(r,t,NL(s),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const r={};LL(r,e.style,e),i.style={...r,...i.style}}return i}const z7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ZE(e){return typeof e!="string"||e.includes("-")?!1:!!(z7.indexOf(e)>-1||/[A-Z]/u.test(e))}function U7(e,t,n,{latestValues:s},i,r=!1){const a=(ZE(e)?B7:O7)(t,s,i,e),l=_7(t,typeof e=="string",r),c=e!==M.Fragment?{...l,...a,ref:n}:{},{children:u}=t,d=M.useMemo(()=>qe(u)?u.get():u,[u]);return M.createElement(e,{...c,children:d})}function l_(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function JE(e,t,n,s){if(typeof t=="function"){const[i,r]=l_(s);t=t(n!==void 0?n:e.custom,i,r)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,r]=l_(s);t=t(n!==void 0?n:e.custom,i,r)}return t}function k0(e){return qe(e)?e.get():e}function H7({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,i){return{latestValues:W7(n,s,i,e),renderState:t()}}function W7(e,t,n,s){const i={},r=s(e,{});for(const f in r)i[f]=k0(r[f]);let{initial:o,animate:a}=e;const l=Mx(e),c=RL(e);t&&c&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!_x(d)){const f=Array.isArray(d)?d:[d];for(let p=0;p<f.length;p++){const m=JE(e,f[p]);if(m){const{transitionEnd:g,transition:w,...y}=m;for(const x in y){let v=y[x];if(Array.isArray(v)){const S=u?v.length-1:0;v=v[S]}v!==null&&(i[x]=v)}for(const x in g)i[x]=g[x]}}}return i}const FL=e=>(t,n)=>{const s=M.useContext(Px),i=M.useContext(CE),r=()=>H7(e,t,s,i);return n?r():T$(r)};function tT(e,t,n){var r;const{style:s}=e,i={};for(const o in s)(qe(s[o])||t.style&&qe(t.style[o])||kL(o,e)||((r=n==null?void 0:n.getValue(o))==null?void 0:r.liveStyle)!==void 0)&&(i[o]=s[o]);return i}const G7=FL({scrapeMotionValuesFromProps:tT,createRenderState:QE});function OL(e,t,n){const s=tT(e,t,n);for(const i in e)if(qe(e[i])||qe(t[i])){const r=Qh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=e[i]}return s}const X7=FL({scrapeMotionValuesFromProps:OL,createRenderState:IL}),Y7=Symbol.for("motionComponentSymbol");function Nc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function q7(e,t,n){return M.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Nc(n)&&(n.current=s))},[t])}const eT=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K7="framerAppearId",VL="data-"+eT(K7),jL=M.createContext({});function Q7(e,t,n,s,i){var g,w;const{visualElement:r}=M.useContext(Px),o=M.useContext(_L),a=M.useContext(CE),l=M.useContext(PL).reducedMotion,c=M.useRef(null);s=s||o.renderer,!c.current&&s&&(c.current=s(e,{visualState:t,parent:r,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=M.useContext(jL);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&Z7(c.current,n,i,d);const f=M.useRef(!1);M.useInsertionEffect(()=>{u&&f.current&&u.update(n,a)});const p=n[VL],m=M.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,p)));return C$(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),M.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),m.current=!1),u.enteringChildren=void 0)}),u}function Z7(e,t,n,s){const{layoutId:i,layout:r,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$L(e.parent)),e.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||a&&Nc(a),visualElement:e,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:l,layoutRoot:c})}function $L(e){if(e)return e.options.allowProjection!==!1?e.projection:$L(e.parent)}function Nw(e,{forwardMotionProps:t=!1}={},n,s){n&&T7(n);const i=ZE(e)?X7:G7;function r(a,l){let c;const u={...M.useContext(PL),...a,layoutId:J7(a)},{isStatic:d}=u,f=R7(a),p=i(a,d);if(!d&&TE){tB();const m=eB(u);c=m.MeasureLayout,f.visualElement=Q7(e,p,u,s,m.ProjectionNode)}return T.jsxs(Px.Provider,{value:f,children:[c&&f.visualElement?T.jsx(c,{visualElement:f.visualElement,...u}):null,U7(e,a,q7(p,f.visualElement,l),p,d,t)]})}r.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=M.forwardRef(r);return o[Y7]=e,o}function J7({layoutId:e}){const t=M.useContext(Ok).id;return t&&e!==void 0?t+"-"+e:e}function tB(e,t){M.useContext(_L).strict}function eB(e){const{drag:t,layout:n}=Hh;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function nB(e,t){if(typeof Proxy>"u")return Nw;const n=new Map,s=(r,o)=>Nw(r,o,e,t),i=(r,o)=>s(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?s:(n.has(o)||n.set(o,Nw(o,void 0,e,t)),n.get(o))})}function BL({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function sB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function iB(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Fw(e){return e===void 0||e===1}function Eb({scale:e,scaleX:t,scaleY:n}){return!Fw(e)||!Fw(t)||!Fw(n)}function ua(e){return Eb(e)||zL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zL(e){return c_(e.x)||c_(e.y)}function c_(e){return e&&e!=="0%"}function Y1(e,t,n){const s=e-n,i=t*s;return n+i}function u_(e,t,n,s,i){return i!==void 0&&(e=Y1(e,i,s)),Y1(e,n,s)+t}function Tb(e,t=0,n=1,s,i){e.min=u_(e.min,t,n,s,i),e.max=u_(e.max,t,n,s,i)}function UL(e,{x:t,y:n}){Tb(e.x,t.translate,t.scale,t.originPoint),Tb(e.y,n.translate,n.scale,n.originPoint)}const h_=.999999999999,d_=1.0000000000001;function rB(e,t,n,s=!1){const i=n.length;if(!i)return;t.x=t.y=1;let r,o;for(let a=0;a<i;a++){r=n[a],o=r.projectionDelta;const{visualElement:l}=r.options;l&&l.props.style&&l.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&Oc(e,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,UL(e,o)),s&&ua(r.latestValues)&&Oc(e,r.latestValues))}t.x<d_&&t.x>h_&&(t.x=1),t.y<d_&&t.y>h_&&(t.y=1)}function Fc(e,t){e.min=e.min+t,e.max=e.max+t}function f_(e,t,n,s,i=.5){const r=Bt(e.min,e.max,i);Tb(e,t,n,r,s)}function Oc(e,t){f_(e.x,t.x,t.scaleX,t.scale,t.originX),f_(e.y,t.y,t.scaleY,t.scale,t.originY)}function HL(e,t){return BL(iB(e.getBoundingClientRect(),t))}function oB(e,t,n){const s=HL(e,n),{scroll:i}=t;return i&&(Fc(s.x,i.offset.x),Fc(s.y,i.offset.y)),s}const p_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vc=()=>({x:p_(),y:p_()}),m_=()=>({min:0,max:0}),Qt=()=>({x:m_(),y:m_()}),Cb={current:null},WL={current:!1};function aB(){if(WL.current=!0,!!TE)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cb.current=e.matches;e.addEventListener("change",t),t()}else Cb.current=!1}const lB=new WeakMap;function cB(e,t,n){for(const s in t){const i=t[s],r=n[s];if(qe(i))e.addValue(s,i);else if(qe(r))e.addValue(s,Uh(i,{owner:e}));else if(r!==i)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,Uh(o!==void 0?o:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const g_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uB{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=UE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=An.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ft.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=Mx(n),this.isVariantNode=RL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const p=d[f];l[f]!==void 0&&qe(p)&&p.set(l[f])}}mount(t){var n;this.current=t,lB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),WL.current||aB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cb.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Xo(this.notifyUpdate),Xo(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Zh.has(t);s&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Ft.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),r&&r(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hh){const n=Hh[t];if(!n)continue;const{isEnabled:s,Feature:i}=n;if(!this.features[t]&&i&&s(this.props)&&(this.features[t]=new i(this)),this.features[t]){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<g_.length;s++){const i=g_[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=t[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=cB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=Uh(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Vk(s)||$k(s))?s=parseFloat(s):!S7(s)&&Yo.test(n)&&(s=bL(t,n)),this.setBaseTarget(t,qe(s)?s.get():s)),qe(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=JE(this.props,n,(r=this.presenceContext)==null?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!qe(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kE),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){GE.render(this.render)}}class GL extends uB{constructor(){super(...arguments),this.KeyframeResolver=u7}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;qe(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function XL(e,{style:t,vars:n},s,i){const r=e.style;let o;for(o in t)r[o]=t[o];i==null||i.applyProjectionStyles(r,s);for(o in n)r.setProperty(o,n[o])}function hB(e){return window.getComputedStyle(e)}class dB extends GL{constructor(){super(...arguments),this.type="html",this.renderInstance=XL}readValueFromInstance(t,n){var s;if(Zh.has(n))return(s=this.projection)!=null&&s.isProjecting?yb(n):M9(t,n);{const i=hB(t),r=(IE(n)?i.getPropertyValue(n):i[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(t,{transformPagePoint:n}){return HL(t,n)}build(t,n,s){KE(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return tT(t,n,s)}}const YL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fB(e,t,n,s){XL(e,t,void 0,s);for(const i in t.attrs)e.setAttribute(YL.has(i)?i:eT(i),t.attrs[i])}class pB extends GL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qt}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zh.has(n)){const s=wL(n);return s&&s.default||0}return n=YL.has(n)?n:eT(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return OL(t,n,s)}build(t,n,s){DL(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,i){fB(t,n,s,i)}mount(t){this.isSVGTag=NL(t.tagName),super.mount(t)}}const mB=(e,t)=>ZE(e)?new pB(t):new dB(t,{allowProjection:e!==M.Fragment});function Yc(e,t,n){const s=e.getProps();return JE(s,t,n!==void 0?n:s.custom,e)}const Pb=e=>Array.isArray(e);function gB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Uh(n))}function yB(e){return Pb(e)?e[e.length-1]||0:e}function vB(e,t){const n=Yc(e,t);let{transitionEnd:s={},transition:i={},...r}=n||{};r={...r,...s};for(const o in r){const a=yB(r[o]);gB(e,o,a)}}function xB(e){return!!(qe(e)&&e.add)}function _b(e,t){const n=e.getValue("willChange");if(xB(n))return n.add(t);if(!n&&Er.WillChange){const s=new Er.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function qL(e){return e.props[VL]}const wB=e=>e!==null;function bB(e,{repeat:t,repeatType:n="loop"},s){const i=e.filter(wB),r=t&&n!=="loop"&&t%2===1?0:i.length-1;return!r||s===void 0?i[r]:s}const AB={type:"spring",stiffness:500,damping:25,restSpeed:10},SB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),EB={type:"keyframes",duration:.8},TB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CB=(e,{keyframes:t})=>t.length>2?EB:Zh.has(e)?e.startsWith("scale")?SB(t[1]):AB:TB;function PB({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const nT=(e,t,n,s={},i,r)=>o=>{const a=HE(s,e)||{},l=a.delay||s.delay||0;let{elapsed:c=0}=s;c=c-Si(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-c,onUpdate:f=>{t.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:r?void 0:i};PB(a)||Object.assign(u,CB(e,u)),u.duration&&(u.duration=Si(u.duration)),u.repeatDelay&&(u.repeatDelay=Si(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Ab(u),u.delay===0&&(d=!0)),(Er.instantAnimations||Er.skipAnimations)&&(d=!0,Ab(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!r&&t.get()!==void 0){const f=bB(u.keyframes,a);if(f!==void 0){Ft.update(()=>{u.onUpdate(f),u.onComplete()});return}}return a.isSync?new zE(u):new Z9(u)};function _B({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function KL(e,t,{delay:n=0,transitionOverride:s,type:i}={}){let{transition:r=e.getDefaultTransition(),transitionEnd:o,...a}=t;s&&(r=s);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in a){const d=e.getValue(u,e.latestValues[u]??null),f=a[u];if(f===void 0||c&&_B(c,u))continue;const p={delay:n,...HE(r||{},u)},m=d.get();if(m!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===m&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=qL(e);if(y){const x=window.MotionHandoffAnimation(y,u,Ft);x!==null&&(p.startTime=x,g=!0)}}_b(e,u),d.start(nT(u,d,f,e.shouldReduceMotion&&yL.has(u)?{type:!1}:p,e,g));const w=d.animation;w&&l.push(w)}return o&&Promise.all(l).then(()=>{Ft.update(()=>{o&&vB(e,o)})}),l}function QL(e,t,n,s=0,i=1){const r=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),o=e.size,a=(o-1)*s;return typeof n=="function"?n(r,o):i===1?r*s:a-r*s}function Mb(e,t,n={}){var l;const s=Yc(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(i=n.transitionOverride);const r=s?()=>Promise.all(KL(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return MB(e,t,c,u,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[r,o]:[o,r];return c().then(()=>u())}else return Promise.all([r(),o(n.delay)])}function MB(e,t,n=0,s=0,i=0,r=1,o){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push(Mb(l,t,{...o,delay:n+(typeof s=="function"?0:s)+QL(e.variantChildren,l,s,i,r)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function RB(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const i=t.map(r=>Mb(e,r,n));s=Promise.all(i)}else if(typeof t=="string")s=Mb(e,t,n);else{const i=typeof t=="function"?Yc(e,t,n.custom):t;s=Promise.all(KL(e,i,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function ZL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const kB=qE.length;function JL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?JL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<kB;n++){const s=qE[n],i=e.props[s];(Df(i)||i===!1)&&(t[s]=i)}return t}const LB=[...YE].reverse(),DB=YE.length;function IB(e){return t=>Promise.all(t.map(({animation:n,options:s})=>RB(e,n,s)))}function NB(e){let t=IB(e),n=y_(),s=!0;const i=l=>(c,u)=>{var f;const d=Yc(e,u,l==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:p,transitionEnd:m,...g}=d;c={...c,...g,...m}}return c};function r(l){t=l(e)}function o(l){const{props:c}=e,u=JL(e.parent)||{},d=[],f=new Set;let p={},m=1/0;for(let w=0;w<DB;w++){const y=LB[w],x=n[y],v=c[y]!==void 0?c[y]:u[y],S=Df(v),E=y===l?x.isActive:null;E===!1&&(m=w);let P=v===u[y]&&v!==c[y]&&S;if(P&&s&&e.manuallyAnimateOnMount&&(P=!1),x.protectedKeys={...p},!x.isActive&&E===null||!v&&!x.prevProp||_x(v)||typeof v=="boolean")continue;const _=FB(x.prevProp,v);let R=_||y===l&&x.isActive&&!P&&S||w>m&&S,k=!1;const D=Array.isArray(v)?v:[v];let I=D.reduce(i(y),{});E===!1&&(I={});const{prevResolvedValues:N={}}=x,V={...N,...I},L=O=>{R=!0,f.has(O)&&(k=!0,f.delete(O)),x.needsAnimating[O]=!0;const j=e.getValue(O);j&&(j.liveStyle=!1)};for(const O in V){const j=I[O],B=N[O];if(p.hasOwnProperty(O))continue;let U=!1;Pb(j)&&Pb(B)?U=!ZL(j,B):U=j!==B,U?j!=null?L(O):f.add(O):j!==void 0&&f.has(O)?L(O):x.protectedKeys[O]=!0}x.prevProp=v,x.prevResolvedValues=I,x.isActive&&(p={...p,...I}),s&&e.blockInitialAnimation&&(R=!1);const H=P&&_;R&&(!H||k)&&d.push(...D.map(O=>{const j={type:y};if(typeof O=="string"&&s&&!H&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,U=Yc(B,O);if(B.enteringChildren&&U){const{delayChildren:W}=U.transition||{};j.delay=QL(B.enteringChildren,e,W)}}return{animation:O,options:j}}))}if(f.size){const w={};if(typeof c.initial!="boolean"){const y=Yc(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(w.transition=y.transition)}f.forEach(y=>{const x=e.getBaseTarget(y),v=e.getValue(y);v&&(v.liveStyle=!0),w[y]=x??null}),d.push({animation:w})}let g=!!d.length;return s&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),s=!1,g?t(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=e.variantChildren)==null||d.forEach(f=>{var p;return(p=f.animationState)==null?void 0:p.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:r,getState:()=>n,reset:()=>{n=y_(),s=!0}}}function FB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZL(t,e):!1}function sa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y_(){return{animate:sa(!0),whileInView:sa(),whileHover:sa(),whileTap:sa(),whileDrag:sa(),whileFocus:sa(),exit:sa()}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class OB extends ea{constructor(t){super(t),t.animationState||(t.animationState=NB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_x(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let VB=0;class jB extends ea{constructor(){super(...arguments),this.id=VB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $B={animation:{Feature:OB},exit:{Feature:jB}};function Nf(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Tg(e){return{point:{x:e.pageX,y:e.pageY}}}const BB=e=>t=>XE(t)&&e(t,Tg(t));function rf(e,t,n,s){return Nf(e,t,BB(n),s)}const tD=1e-4,zB=1-tD,UB=1+tD,eD=.01,HB=0-eD,WB=0+eD;function ln(e){return e.max-e.min}function GB(e,t,n){return Math.abs(e-t)<=n}function v_(e,t,n,s=.5){e.origin=s,e.originPoint=Bt(t.min,t.max,e.origin),e.scale=ln(n)/ln(t),e.translate=Bt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=zB&&e.scale<=UB||isNaN(e.scale))&&(e.scale=1),(e.translate>=HB&&e.translate<=WB||isNaN(e.translate))&&(e.translate=0)}function of(e,t,n,s){v_(e.x,t.x,n.x,s?s.originX:void 0),v_(e.y,t.y,n.y,s?s.originY:void 0)}function x_(e,t,n){e.min=n.min+t.min,e.max=e.min+ln(t)}function XB(e,t,n){x_(e.x,t.x,n.x),x_(e.y,t.y,n.y)}function w_(e,t,n){e.min=t.min-n.min,e.max=e.min+ln(t)}function af(e,t,n){w_(e.x,t.x,n.x),w_(e.y,t.y,n.y)}function es(e){return[e("x"),e("y")]}const nD=({current:e})=>e?e.ownerDocument.defaultView:null,b_=(e,t)=>Math.abs(e-t);function YB(e,t){const n=b_(e.x,t.x),s=b_(e.y,t.y);return Math.sqrt(n**2+s**2)}class sD{constructor(t,n,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vw(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=YB(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:g}=f,{timestamp:w}=Ie;this.history.push({...g,timestamp:w});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Ow(p,this.transformPagePoint),Ft.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Vw(f.type==="pointercancel"?this.lastMoveEventInfo:Ow(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!XE(t))return;this.dragSnapToOrigin=r,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const a=Tg(t),l=Ow(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ie;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,Vw(l,this.history)),this.removeListeners=Ag(rf(this.contextWindow,"pointermove",this.handlePointerMove),rf(this.contextWindow,"pointerup",this.handlePointerUp),rf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xo(this.updatePoint)}}function Ow(e,t){return t?{point:t(e.point)}:e}function A_(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vw({point:e},t){return{point:e,delta:A_(e,iD(t)),offset:A_(e,qB(t)),velocity:KB(t,.1)}}function qB(e){return e[0]}function iD(e){return e[e.length-1]}function KB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const i=iD(e);for(;n>=0&&(s=e[n],!(i.timestamp-s.timestamp>Si(t)));)n--;if(!s)return{x:0,y:0};const r=Ei(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function QB(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Bt(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Bt(n,e,s.max):Math.min(e,n)),e}function S_(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ZB(e,{top:t,left:n,bottom:s,right:i}){return{x:S_(e.x,n,i),y:S_(e.y,t,s)}}function E_(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function JB(e,t){return{x:E_(e.x,t.x),y:E_(e.y,t.y)}}function tz(e,t){let n=.5;const s=ln(e),i=ln(t);return i>s?n=Rf(t.min,t.max-s,e.min):s>i&&(n=Rf(e.min,e.max-i,t.min)),Sr(0,1,n)}function ez(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Rb=.35;function nz(e=Rb){return e===!1?e=0:e===!0&&(e=Rb),{x:T_(e,"left","right"),y:T_(e,"top","bottom")}}function T_(e,t,n){return{min:C_(e,t),max:C_(e,n)}}function C_(e,t){return typeof e=="number"?e:e[t]||0}const sz=new WeakMap;class iz{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Tg(d).point)},o=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m7(p),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),es(y=>{let x=this.getAxisMotionValue(y).get()||0;if(Ti.test(x)){const{projection:v}=this.visualElement;if(v&&v.layout){const S=v.layout.layoutBox[y];S&&(x=ln(S)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Ft.postRender(()=>g(d,f)),_b(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:w}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=rz(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),w&&w(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>es(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new sD(t,{onSessionStart:r,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:nD(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,i=n||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Ft.postRender(()=>a(s,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:i}=this.getProps();if(!s||!i0(t,i,this.currentDirection))return;const r=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=QB(o,this.constraints[t],this.elastic[t])),r.set(o)}resolveConstraints(){var r;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(r=this.visualElement.projection)==null?void 0:r.layout,i=this.constraints;t&&Nc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=ZB(s.layoutBox,t):this.constraints=!1,this.elastic=nz(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&es(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ez(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Nc(t))return!1;const s=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=oB(s,i.root,this.visualElement.getTransformPagePoint());let o=JB(i.layout.layoutBox,r);if(n){const a=n(sB(o));this.hasMutatedConstraints=!!a,a&&(o=BL(a))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=es(u=>{if(!i0(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:s?t[u]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...r,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return _b(this.visualElement,t),s.start(nT(t,s,0,n,this.visualElement,!1))}stopAnimation(){es(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){es(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),i=s[n];return i||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){es(n=>{const{drag:s}=this.getProps();if(!i0(n,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];r.set(t[n]-Bt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Nc(n)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};es(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=tz({min:l,max:l},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),es(o=>{if(!i0(o,t,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Bt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;sz.set(this.visualElement,this);const t=this.visualElement.current,n=rf(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),s=()=>{const{dragConstraints:l}=this.getProps();Nc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ft.read(s);const o=Nf(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(es(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),r(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=Rb,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:a}}}function i0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function rz(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class oz extends ea{constructor(t){super(t),this.removeGroupControls=ms,this.removeListeners=ms,this.controls=new iz(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ms}unmount(){this.removeGroupControls(),this.removeListeners()}}const P_=e=>(t,n)=>{e&&Ft.postRender(()=>e(t,n))};class az extends ea{constructor(){super(...arguments),this.removePointerDownListener=ms}onPointerDown(t){this.session=new sD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:P_(t),onStart:P_(n),onMove:s,onEnd:(r,o)=>{delete this.session,i&&Ft.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=rf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const L0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function __(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const hd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(J.test(e))e=parseFloat(e);else return e;const n=__(e,t.target.x),s=__(e,t.target.y);return`${n}% ${s}%`}},lz={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,i=Yo.parse(e);if(i.length>5)return s;const r=Yo.createTransformer(e),o=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+o]/=a,i[1+o]/=l;const c=Bt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),r(i)}};let jw=!1;class cz extends M.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=t;k7(uz),r&&(n.group&&n.group.add(r),s&&s.register&&i&&s.register(r),jw&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),L0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,jw=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==r?o.willUpdate():this.safeToRemove(),t.isPresent!==r&&(r?o.promote():o.relegate()||Ft.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),GE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:i}=t;jw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rD(e){const[t,n]=E7(),s=M.useContext(Ok);return T.jsx(cz,{...e,layoutGroup:s,switchLayoutGroup:M.useContext(jL),isPresent:t,safeToRemove:n})}const uz={borderRadius:{...hd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hd,borderTopRightRadius:hd,borderBottomLeftRadius:hd,borderBottomRightRadius:hd,boxShadow:lz};function hz(e,t,n){const s=qe(e)?e:Uh(e);return s.start(nT("",s,t,n)),s.animation}const dz=(e,t)=>e.depth-t.depth;class fz{constructor(){this.children=[],this.isDirty=!1}add(t){PE(this.children,t),this.isDirty=!0}remove(t){_E(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dz),this.isDirty=!1,this.children.forEach(t)}}function pz(e,t){const n=An.now(),s=({timestamp:i})=>{const r=i-n;r>=t&&(Xo(s),e(r-t))};return Ft.setup(s,!0),()=>Xo(s)}const oD=["TopLeft","TopRight","BottomLeft","BottomRight"],mz=oD.length,M_=e=>typeof e=="string"?parseFloat(e):e,R_=e=>typeof e=="number"||J.test(e);function gz(e,t,n,s,i,r){i?(e.opacity=Bt(0,n.opacity??1,yz(s)),e.opacityExit=Bt(t.opacity??1,0,vz(s))):r&&(e.opacity=Bt(t.opacity??1,n.opacity??1,s));for(let o=0;o<mz;o++){const a=`border${oD[o]}Radius`;let l=k_(t,a),c=k_(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||R_(l)===R_(c)?(e[a]=Math.max(Bt(M_(l),M_(c),s),0),(Ti.test(c)||Ti.test(l))&&(e[a]+="%")):e[a]=c}(t.rotate||n.rotate)&&(e.rotate=Bt(t.rotate||0,n.rotate||0,s))}function k_(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const yz=aD(0,.5,Yk),vz=aD(.5,.95,ms);function aD(e,t,n){return s=>s<e?0:s>t?1:n(Rf(e,t,s))}function L_(e,t){e.min=t.min,e.max=t.max}function Zn(e,t){L_(e.x,t.x),L_(e.y,t.y)}function D_(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function I_(e,t,n,s,i){return e-=t,e=Y1(e,1/n,s),i!==void 0&&(e=Y1(e,1/i,s)),e}function xz(e,t=0,n=1,s=.5,i,r=e,o=e){if(Ti.test(t)&&(t=parseFloat(t),t=Bt(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=Bt(r.min,r.max,s);e===r&&(a-=t),e.min=I_(e.min,t,n,a,i),e.max=I_(e.max,t,n,a,i)}function N_(e,t,[n,s,i],r,o){xz(e,t[n],t[s],t[i],t.scale,r,o)}const wz=["x","scaleX","originX"],bz=["y","scaleY","originY"];function F_(e,t,n,s){N_(e.x,t,wz,n?n.x:void 0,s?s.x:void 0),N_(e.y,t,bz,n?n.y:void 0,s?s.y:void 0)}function O_(e){return e.translate===0&&e.scale===1}function lD(e){return O_(e.x)&&O_(e.y)}function V_(e,t){return e.min===t.min&&e.max===t.max}function Az(e,t){return V_(e.x,t.x)&&V_(e.y,t.y)}function j_(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function cD(e,t){return j_(e.x,t.x)&&j_(e.y,t.y)}function $_(e){return ln(e.x)/ln(e.y)}function B_(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Sz{constructor(){this.members=[]}add(t){PE(this.members,t),t.scheduleRender()}remove(t){if(_E(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let s;for(let i=n;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ez(e,t,n){let s="";const i=e.x.translate/t.x,r=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:p,skewY:m}=n;c&&(s=`perspective(${c}px) ${s}`),u&&(s+=`rotate(${u}deg) `),d&&(s+=`rotateX(${d}deg) `),f&&(s+=`rotateY(${f}deg) `),p&&(s+=`skewX(${p}deg) `),m&&(s+=`skewY(${m}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(s+=`scale(${a}, ${l})`),s||"none"}const $w=["","X","Y","Z"],Tz=1e3;let Cz=0;function Bw(e,t,n,s){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),s&&(s[e]=0))}function uD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=qL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ft,!(i||r))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&uD(s)}function hD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},a=t==null?void 0:t()){this.id=Cz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mz),this.nodes.forEach(Dz),this.nodes.forEach(Iz),this.nodes.forEach(Rz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fz)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=CL(o)&&!b7(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;Ft.read(()=>{d=window.innerWidth}),e(o,()=>{const p=window.innerWidth;p!==d&&(d=p,this.root.updateBlockedByResize=!0,u&&u(),u=pz(f,250),L0.hasAnimatedSinceResize&&(L0.hasAnimatedSinceResize=!1,this.nodes.forEach(H_)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||jz,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=c.getProps(),y=!this.targetLayout||!cD(this.targetLayout,p),x=!d&&f;if(this.options.layoutRoot||this.resumeFrom||x||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...HE(m,"layout"),onPlay:g,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(u,x)}else d||H_(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nz),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&uD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(z_);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(U_);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Lz),this.nodes.forEach(Pz),this.nodes.forEach(_z)):this.nodes.forEach(U_),this.clearAllSnapshots();const a=An.now();Ie.delta=Sr(0,1e3/60,a-Ie.timestamp),Ie.timestamp=a,Ie.isProcessing=!0,Mw.update.process(Ie),Mw.preRender.process(Ie),Mw.render.process(Ie),Ie.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,GE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kz),this.sharedNodes.forEach(Fz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ft.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ft.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!lD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||ua(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),$z(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Qt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Bz))){const{scroll:u}=this.root;u&&(Fc(a.x,u.offset.x),Fc(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=Qt();if(Zn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Zn(a,o),Fc(a.x,d.offset.x),Fc(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=Qt();Zn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Oc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ua(u.latestValues)&&Oc(l,u.latestValues)}return ua(this.latestValues)&&Oc(l,this.latestValues),l}removeTransform(o){const a=Qt();Zn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ua(c.latestValues))continue;Eb(c.latestValues)&&c.updateSnapshot();const u=Qt(),d=c.measurePageBox();Zn(u,d),F_(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ua(this.latestValues)&&F_(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ie.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Ie.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),af(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qt(),this.targetWithTransforms=Qt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zn(this.target,this.layout.layoutBox),UL(this.target,this.targetDelta)):Zn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qt(),this.relativeTargetOrigin=Qt(),af(this.relativeTargetOrigin,this.target,p.target),Zn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Eb(this.parent.latestValues)||zL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ie.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Zn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;rB(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Qt());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D_(this.prevProjectionDelta.x,this.projectionDelta.x),D_(this.prevProjectionDelta.y,this.projectionDelta.y)),of(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!B_(this.projectionDelta.x,this.prevProjectionDelta.x)||!B_(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vc(),this.projectionDelta=Vc(),this.projectionDeltaWithTransform=Vc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Vc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=Qt(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,w=this.getStack(),y=!w||w.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Vz));this.animationProgress=0;let v;this.mixTargetDelta=S=>{const E=S/1e3;W_(d.x,o.x,E),W_(d.y,o.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(af(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oz(this.relativeTarget,this.relativeTargetOrigin,f,E),v&&Az(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Qt()),Zn(v,this.relativeTarget)),g&&(this.animationValues=u,gz(u,c,this.latestValues,E,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Xo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ft.update(()=>{L0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uh(0)),this.currentAnimation=hz(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Tz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&dD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Qt();const d=ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const f=ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}Zn(a,l),Oc(a,u),of(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Sz),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Bw("z",o,c,this.animationValues);for(let u=0;u<$w.length;u++)Bw(`rotate${$w[u]}`,o,c,this.animationValues),Bw(`skew${$w[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=k0(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=k0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!ua(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=Ez(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:f,y:p}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${p.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in If){if(u[m]===void 0)continue;const{correct:g,applyTo:w,isCSSVariable:y}=If[m],x=d==="none"?u[m]:g(u[m],c);if(w){const v=w.length;for(let S=0;S<v;S++)o[w[S]]=x}else y?this.options.visualElement.renderState.vars[m]=x:o[m]=x}this.options.layoutId&&(o.pointerEvents=c===this?k0(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(z_),this.root.sharedNodes.clear()}}}function Pz(e){e.updateLayout()}function _z(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=e.layout,{animationType:r}=e.options,o=t.source!==e.layout.source;r==="size"?es(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],p=ln(f);f.min=s[d].min,f.max=f.min+p}):dD(r,t.layoutBox,s)&&es(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],p=ln(s[d]);f.max=f.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=Vc();of(a,s,t.layoutBox);const l=Vc();o?of(l,e.applyTransform(i,!0),t.measuredBox):of(l,s,t.layoutBox);const c=!lD(a);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:p}=d;if(f&&p){const m=Qt();af(m,t.layoutBox,f.layoutBox);const g=Qt();af(g,s,p.layoutBox),cD(m,g)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Mz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Rz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function kz(e){e.clearSnapshot()}function z_(e){e.clearMeasurements()}function U_(e){e.isLayoutDirty=!1}function Lz(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H_(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Dz(e){e.resolveTargetDelta()}function Iz(e){e.calcProjection()}function Nz(e){e.resetSkewAndRotation()}function Fz(e){e.removeLeadSnapshot()}function W_(e,t,n){e.translate=Bt(t.translate,0,n),e.scale=Bt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function G_(e,t,n,s){e.min=Bt(t.min,n.min,s),e.max=Bt(t.max,n.max,s)}function Oz(e,t,n,s){G_(e.x,t.x,n.x,s),G_(e.y,t.y,n.y,s)}function Vz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const jz={duration:.45,ease:[.4,0,.1,1]},X_=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Y_=X_("applewebkit/")&&!X_("chrome/")?Math.round:ms;function q_(e){e.min=Y_(e.min),e.max=Y_(e.max)}function $z(e){q_(e.x),q_(e.y)}function dD(e,t,n){return e==="position"||e==="preserve-aspect"&&!GB($_(t),$_(n),.2)}function Bz(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const zz=hD({attachResizeListener:(e,t)=>Nf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zw={current:void 0},fD=hD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zw.current){const e=new zz({});e.mount(window),e.setOptions({layoutScroll:!0}),zw.current=e}return zw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Uz={pan:{Feature:az},drag:{Feature:oz,ProjectionNode:fD,MeasureLayout:rD}};function K_(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,r=s[i];r&&Ft.postRender(()=>r(t,Tg(t)))}class Hz extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=g7(t,(n,s)=>(K_(this.node,s,"Start"),i=>K_(this.node,i,"End"))))}unmount(){}}class Wz extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ag(Nf(this.node.current,"focus",()=>this.onFocus()),Nf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q_(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),r=s[i];r&&Ft.postRender(()=>r(t,Tg(t)))}class Gz extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=w7(t,(n,s)=>(Q_(this.node,s,"Start"),(i,{success:r})=>Q_(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kb=new WeakMap,Uw=new WeakMap,Xz=e=>{const t=kb.get(e.target);t&&t(e)},Yz=e=>{e.forEach(Xz)};function qz({root:e,...t}){const n=e||document;Uw.has(n)||Uw.set(n,{});const s=Uw.get(n),i=JSON.stringify(t);return s[i]||(s[i]=new IntersectionObserver(Yz,{root:e,...t})),s[i]}function Kz(e,t,n){const s=qz(t);return kb.set(e,n),s.observe(e),()=>{kb.delete(e),s.unobserve(e)}}const Qz={some:0,all:1};class Zz extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:i="some",once:r}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:Qz[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,r&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return Kz(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Jz(t,n))&&this.startObserver()}unmount(){}}function Jz({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const tU={inView:{Feature:Zz},tap:{Feature:Gz},focus:{Feature:Wz},hover:{Feature:Hz}},eU={layout:{ProjectionNode:fD,MeasureLayout:rD}},nU={...$B,...tU,...Uz,...eU},sU=nB(nU,mB),iU=(e,t)=>{const n=new Set([...Object.keys(e),...t.flatMap(i=>Object.keys(i))]),s={};return n.forEach(i=>{s[i]=[e[i],...t.map(r=>r[i])]}),s},It=({text:e="",as:t="p",delay:n=200,className:s="",animateBy:i="words",direction:r="top",onAnimationComplete:o,stepDuration:a=.35})=>{const l=t,c=i==="words"?e.split(" "):e.split(""),[u,d]=M.useState(!1),f=M.useRef(null);M.useEffect(()=>{if(!f.current)return;const S=new IntersectionObserver(([E])=>{E.isIntersecting&&(d(!0),S.unobserve(f.current))},{threshold:.1,rootMargin:"0px"});return S.observe(f.current),()=>S.disconnect()},[]);const p=M.useMemo(()=>r==="top"?{filter:"blur(10px)",opacity:0,y:-50}:{filter:"blur(10px)",opacity:0,y:50},[r]),m=M.useMemo(()=>[{filter:"blur(5px)",opacity:.5,y:r==="top"?5:-5},{filter:"blur(0px)",opacity:1,y:0}],[r]),g=p,w=m,y=w.length+1,x=a*(y-1),v=Array.from({length:y},(S,E)=>y===1?0:E/(y-1));return T.jsx(l,{ref:f,className:s,children:c.map((S,E)=>{const P=iU(g,w),_={duration:x,times:v,delay:E*n/1e3};return _.ease=R=>R,T.jsxs(sU.span,{className:"inline-block will-change-[transform,filter,opacity]",initial:g,animate:u?P:g,transition:_,onAnimationComplete:E===c.length-1?o:void 0,children:[S===" "?"":S,i==="words"&&E<c.length-1&&""]},E)})})},sT=e=>{const[t,n]=M.useState(!1);return M.useEffect(()=>{const s=window.matchMedia(e);s.matches!==t&&n(s.matches);const i=()=>{n(s.matches)};return s.addEventListener("change",i),()=>s.removeEventListener("change",i)},[t,e]),t};const rU=({blades:e,onLinkClick:t})=>{if(sT("(min-width: 768px)"),!e)return null;const n=[{id:"about-me",title:"About Me",icon:"FaUserAstronaut",color:"cyan"},...e,{id:"experience",title:"Experience",icon:"FaUserTie",color:"red"}],s="blue",i={cyan:"#00ffff",purple:"#cc00ff",blue:"#00aaff",red:"#ff1111"},r={textShadow:`0 0 5px #fff, 0 0 10px ${i[s]}, 0 0 15px ${i[s]}`};return T.jsx("section",{id:"hero",className:"min-h-screen flex items-center justify-center text-white relative overflow-hidden bg-transparent",children:T.jsxs("div",{className:"container relative mx-auto px-4 text-center z-10",children:[T.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-4",style:r,children:[T.jsx(It,{as:"span",text:"I am a",delay:100,className:"text-white"})," ",T.jsx(It,{as:"span",text:"Swiss Army Knife",delay:100,className:`text-${s}-400`})]}),T.jsx(It,{text:"A multi-disciplinary professional blending creativity with technical expertise. Choose a tool to explore.",delay:50,className:"block max-w-2xl mx-auto text-lg text-slate-200 mb-10",style:{textShadow:"0 0 8px rgba(255, 255, 255, 0.3)"}}),T.jsx(dt.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.5,type:"spring"},className:"inline-block",children:T.jsx(E$,{tools:n,onBladeClick:t,className:"py-3 px-8 text-lg",bladeDirection:"up",styleType:"list"})})]})})};const oU="radial-gradient(farthest-side circle at var(--pointer-x) var(--pointer-y),hsla(266,100%,90%,var(--card-opacity)) 4%,hsla(266,50%,80%,calc(var(--card-opacity)*0.75)) 10%,hsla(266,25%,70%,calc(var(--card-opacity)*0.5)) 50%,hsla(266,0%,60%,0) 100%),radial-gradient(35% 52% at 55% 20%,#00ffaac4 0%,#073aff00 100%),radial-gradient(100% 100% at 50% 50%,#00c1ffff 1%,#073aff00 76%),conic-gradient(from 124deg at 50% 50%,#c137ffff 0%,#07c6ffff 40%,#07c6ffff 60%,#c137ffff 100%)",aU="linear-gradient(145deg,#60496e8c 0%,#71C4FF44 100%)",dd={SMOOTH_DURATION:600,INITIAL_DURATION:1500,INITIAL_X_OFFSET:70,INITIAL_Y_OFFSET:60,DEVICE_BETA_OFFSET:20},r0=(e,t=0,n=100)=>Math.min(Math.max(e,t),n),Lb=(e,t=3)=>parseFloat(e.toFixed(t)),o0=(e,t,n,s,i)=>Lb(s+(i-s)*(e-t)/(n-t)),lU=e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,cU=({avatarUrl:e="<Placeholder for avatar URL>",iconUrl:t="<Placeholder for icon URL>",grainUrl:n="<Placeholder for grain URL>",behindGradient:s,innerGradient:i,showBehindGradient:r=!0,className:o="",enableTilt:a=!0,enableMobileTilt:l=!1,mobileTiltSensitivity:c=5,miniAvatarUrl:u,name:d="Javi A. Torres",title:f="Software Engineer",handle:p="javicodes",status:m="Online",contactText:g="Contact",showUserInfo:w=!0,onContactClick:y})=>{const x=M.useRef(null),v=M.useRef(null),S=M.useMemo(()=>{if(!a)return null;let I=null;const N=(L,H,F,O)=>{const j=F.clientWidth,B=F.clientHeight,U=r0(100/j*L),W=r0(100/B*H),Q=U-50,st=W-50,mt={"--pointer-x":`${U}%`,"--pointer-y":`${W}%`,"--background-x":`${o0(U,0,100,35,65)}%`,"--background-y":`${o0(W,0,100,35,65)}%`,"--pointer-from-center":`${r0(Math.hypot(W-50,U-50)/50,0,1)}`,"--pointer-from-top":`${W/100}`,"--pointer-from-left":`${U/100}`,"--rotate-x":`${Lb(-(st/5))}deg`,"--rotate-y":`${Lb(Q/4)}deg`};Object.entries(mt).forEach(([St,ut])=>{O.style.setProperty(St,ut)})};return{updateCardTransform:N,createSmoothAnimation:(L,H,F,O,j)=>{const B=performance.now(),U=j.clientWidth/2,W=j.clientHeight/2,Q=st=>{const mt=st-B,St=r0(mt/L),ut=lU(St),it=o0(ut,0,1,H,U),fn=o0(ut,0,1,F,W);N(it,fn,O,j),St<1&&(I=requestAnimationFrame(Q))};I=requestAnimationFrame(Q)},cancelAnimation:()=>{I&&(cancelAnimationFrame(I),I=null)}}},[a]),E=M.useCallback(I=>{const N=v.current,V=x.current;if(!N||!V||!S)return;const L=N.getBoundingClientRect();S.updateCardTransform(I.clientX-L.left,I.clientY-L.top,N,V)},[S]),P=M.useCallback(()=>{const I=v.current,N=x.current;!I||!N||!S||(S.cancelAnimation(),N.classList.add("active"),I.classList.add("active"))},[S]),_=M.useCallback(I=>{const N=v.current,V=x.current;!N||!V||!S||(S.createSmoothAnimation(dd.SMOOTH_DURATION,I.offsetX,I.offsetY,N,V),V.classList.remove("active"),N.classList.remove("active"))},[S]),R=M.useCallback(I=>{const N=v.current,V=x.current;if(!N||!V||!S)return;const{beta:L,gamma:H}=I;!L||!H||S.updateCardTransform(N.clientWidth/2+H*c,N.clientHeight/2+(L-dd.DEVICE_BETA_OFFSET)*c,N,V)},[S,c]);M.useEffect(()=>{if(!a||!S)return;const I=v.current,N=x.current;if(!I||!N)return;const V=E,L=P,H=_,F=R,O=()=>{!l||location.protocol!=="https:"||(typeof window.DeviceMotionEvent.requestPermission=="function"?window.DeviceMotionEvent.requestPermission().then(U=>{U==="granted"&&window.addEventListener("deviceorientation",F)}).catch(U=>console.error(U)):window.addEventListener("deviceorientation",F))};I.addEventListener("pointerenter",L),I.addEventListener("pointermove",V),I.addEventListener("pointerleave",H),I.addEventListener("click",O);const j=N.clientWidth-dd.INITIAL_X_OFFSET,B=dd.INITIAL_Y_OFFSET;return S.updateCardTransform(j,B,I,N),S.createSmoothAnimation(dd.INITIAL_DURATION,j,B,I,N),()=>{I.removeEventListener("pointerenter",L),I.removeEventListener("pointermove",V),I.removeEventListener("pointerleave",H),I.removeEventListener("click",O),window.removeEventListener("deviceorientation",F),S.cancelAnimation()}},[a,l,S,E,P,_,R]);const k=M.useMemo(()=>({"--icon":t?`url(${t})`:"none","--grain":n?`url(${n})`:"none","--behind-gradient":r?s??oU:"none","--inner-gradient":i??aU}),[t,n,r,s,i]),D=M.useCallback(()=>{y==null||y()},[y]);return T.jsx("div",{ref:x,className:`pc-card-wrapper ${o}`.trim(),style:k,children:T.jsx("section",{ref:v,className:"pc-card",children:T.jsxs("div",{className:"pc-inside",children:[T.jsx("div",{className:"pc-shine"}),T.jsx("div",{className:"pc-glare"}),T.jsxs("div",{className:"pc-content pc-avatar-content",children:[T.jsx("img",{className:"avatar",src:e,alt:`${d||"User"} avatar`,loading:"lazy",onError:I=>{const N=I.target;N.style.display="none"}}),w&&T.jsxs("div",{className:"pc-user-info",children:[T.jsxs("div",{className:"pc-user-details",children:[T.jsx("div",{className:"pc-mini-avatar",children:T.jsx("img",{src:u||e,alt:`${d||"User"} mini avatar`,loading:"lazy",onError:I=>{const N=I.target;N.style.opacity="0.5",N.src=e}})}),T.jsxs("div",{className:"pc-user-text",children:[T.jsxs("div",{className:"pc-handle",children:["@",p]}),T.jsx("div",{className:"pc-status",children:m})]})]}),T.jsx("button",{className:"pc-contact-btn",onClick:D,style:{pointerEvents:"auto"},type:"button","aria-label":`Contact ${d||"user"}`,children:g})]})]}),T.jsx("div",{className:"pc-content",children:T.jsxs("div",{className:"pc-details",children:[T.jsx("h3",{children:d}),T.jsx("p",{children:f})]})})]})})})},uU=Bs.memo(cU),hU=({scrollToSection:e})=>{const t=()=>{e("contact")},n={cyan:"#00ffff",purple:"#cc00ff",blue:"#00aaff",red:"#ff1111"},s={textShadow:`0 0 5px #fff, 0 0 10px ${n.blue}, 0 0 15px ${n.blue}`},i={"--neon-red":n.blue};return T.jsx("section",{id:"about-me",className:"py-20 bg-transparent border-b-2 border-black overflow-hidden",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsx("div",{className:"neon-border-container",style:i,children:T.jsxs("div",{className:"neon-border-content p-8 md:p-12 space-y-16 backdrop-blur-sm",children:[T.jsxs(dt.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},style:s,className:"text-4xl font-bold text-center mb-12 flex items-center justify-center gap-3 text-white",children:[T.jsx("span",{className:"text-blue-400",children:T.jsx(EE,{})}),T.jsx(It,{as:"span",text:"About Me",delay:100})]}),T.jsxs(dt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:.5},className:"grid md:grid-cols-2 items-center justify-center gap-12 mt-12",children:[T.jsx("div",{className:"flex justify-center",children:T.jsx(uU,{name:"Muzahir Abbas",title:"The Digital SwissArmyKnife",handle:"muzahirabbas",status:"Building the future...",contactText:"Contact Me",avatarUrl:"https://helptayyaba.live/rbg.png",showUserInfo:!0,enableTilt:!0,enableMobileTilt:!1,onContactClick:t})}),T.jsxs("div",{className:"text-lg text-slate-300 space-y-4 max-w-xl mx-auto md:mx-0",children:[T.jsx(It,{text:"I design systems where AI and creativity collide. Starting out in 3D animation and game dev, I fell in love with building efficient workflows in Unreal Engine  pipelines that saved hours and unlocked new creative possibilities. That obsession with automation eventually pulled me into AI, where I now apply the same mindset to creative industries and business operations.",delay:25}),T.jsx(It,{text:"What I Do",className:"!font-bold mt-8 !text-white",as:"h3",delay:25}),T.jsx(It,{text:" For Creative Teams: AI-powered tools for asset creation, pipeline automation, and interactive experiences.",delay:25}),T.jsx(It,{text:" For Businesses: End-to-end automation, custom AI apps, and autonomous agents that cut down repetitive work.",delay:25}),T.jsx(It,{text:"My approach is simple: eliminate friction, automate complexity, and scale output  so people can focus on imagination and growth.",delay:25}),T.jsx(It,{text:"If youre exploring how to bring AI into your workflow, lets connect.",delay:25})]})]})]})})})})},D0={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},dU=(e,t,n)=>{M.useEffect(()=>{if(!window.ResizeObserver){const i=()=>e();return window.addEventListener("resize",i),e(),()=>window.removeEventListener("resize",i)}const s=t.map(i=>{if(!i.current)return null;const r=new ResizeObserver(e);return r.observe(i.current),r});return e(),()=>{s.forEach(i=>i==null?void 0:i.disconnect())}},n)},fU=(e,t,n)=>{M.useEffect(()=>{var o;const s=((o=e.current)==null?void 0:o.querySelectorAll("img"))??[];if(s.length===0){t();return}let i=s.length;const r=()=>{i-=1,i===0&&t()};return s.forEach(a=>{a.complete?r():(a.addEventListener("load",r,{once:!0}),a.addEventListener("error",r,{once:!0}))}),()=>{s.forEach(a=>{a.removeEventListener("load",r),a.removeEventListener("error",r)})}},n)},pU=(e,t,n,s,i)=>{const r=M.useRef(null),o=M.useRef(null),a=M.useRef(0),l=M.useRef(0);M.useEffect(()=>{const c=e.current;if(!c)return;n>0&&(a.current=(a.current%n+n)%n,c.style.transform=`translate3d(${-a.current}px, 0, 0)`);const u=d=>{o.current===null&&(o.current=d);const f=Math.max(0,d-o.current)/1e3;o.current=d;const p=i&&s?0:t,m=1-Math.exp(-f/D0.SMOOTH_TAU);if(l.current+=(p-l.current)*m,n>0){let g=a.current+l.current*f;g=(g%n+n)%n,a.current=g,c.style.transform=`translate3d(${-a.current}px, 0, 0)`}r.current=requestAnimationFrame(u)};return r.current=requestAnimationFrame(u),()=>{r.current!==null&&(cancelAnimationFrame(r.current),r.current=null),o.current=null}},[t,n,s,i,e])},pD=M.memo(({logos:e,speed:t=100,direction:n="left",logoHeight:s=40,gap:i=40,pauseOnHover:r=!0,fadeOut:o=!1,fadeOutColor:a,scaleOnHover:l=!0,className:c,style:u,neonColor:d})=>{const f=M.useRef(null),p=M.useRef(null),m=M.useRef(null),[g,w]=M.useState(0),[y,x]=M.useState(D0.MIN_COPIES),[v,S]=M.useState(!1),E=M.useMemo(()=>Math.abs(t)*(n==="left"?1:-1),[t,n]),P=M.useCallback(()=>{var F,O,j,B;const L=((F=f.current)==null?void 0:F.clientWidth)??0,H=((B=(j=(O=m.current)==null?void 0:O.getBoundingClientRect)==null?void 0:j.call(O))==null?void 0:B.width)??0;if(H>0){w(Math.ceil(H));const U=Math.ceil(L/H)+D0.COPY_HEADROOM;x(Math.max(D0.MIN_COPIES,U))}},[]);dU(P,[f,m],[e,i,s]),fU(m,P,[e,i,s]),pU(p,E,g,v,r);const _=M.useMemo(()=>({"--logoloop-gap":`${i}px`,"--logoloop-logoHeight":`${s}px`,...a&&{"--logoloop-fadeColor":a},"--logo-glow-color":d}),[i,s,a,d]),R=M.useMemo(()=>["logoloop",o&&"logoloop--fade",l&&"logoloop--scale-hover",c].filter(Boolean).join(" "),[o,l,c]),k=M.useMemo(()=>({width:"100%",..._,...u}),[_,u]),D=M.useCallback(()=>{r&&S(!0)},[r,S]),I=M.useCallback(()=>{r&&S(!1)},[r,S]),N=M.useCallback((L,H)=>T.jsx("li",{className:"logoloop__item",role:"listitem",children:T.jsx("img",{src:L.src,alt:L.alt??"",title:L.title,loading:"lazy",decoding:"async",draggable:!1})},H),[]),V=M.useMemo(()=>Array.from({length:y},(L,H)=>T.jsx("ul",{className:"logoloop__list",role:"list","aria-hidden":H>0,ref:H===0?m:void 0,children:e.map((F,O)=>N(F,`${H}-${O}`))},`copy-${H}`)),[y,e,N]);return T.jsx("div",{ref:f,className:R,style:k,onMouseEnter:D,onMouseLeave:I,children:T.jsx("div",{className:"logoloop__track",ref:p,children:V})})});pD.displayName="LogoLoop";function mU({items:e,onItemClick:t}){const n=M.useRef(null),[s,i]=M.useState(!1),[r,o]=M.useState(!1),[a,l]=M.useState(!1),c=[...e,...e];M.useEffect(()=>{const d=n.current;if(!d)return;let f;const p=()=>{s||(d.scrollLeft+=.5,d.scrollLeft>=d.scrollWidth/2&&(d.scrollLeft=0)),f=requestAnimationFrame(p)};return f=requestAnimationFrame(p),()=>cancelAnimationFrame(f)},[s]),M.useEffect(()=>{const d=n.current;if(!d)return;const f=()=>{const p=d.scrollWidth>d.clientWidth;o(p&&d.scrollLeft>10),l(p&&d.scrollWidth-d.scrollLeft>d.clientWidth+10)};return f(),d.addEventListener("scroll",f),window.addEventListener("resize",f),()=>{d.removeEventListener("scroll",f),window.removeEventListener("resize",f)}},[e]);const u=d=>{const f=n.current;if(!f)return;const p=f.clientWidth*.8;f.scrollTo({left:f.scrollLeft+(d==="right"?p:-p),behavior:"smooth"})};return T.jsxs("div",{className:"w-full relative",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[T.jsx("div",{className:"absolute top-0 left-0 w-24 h-full bg-gradient-to-r from-black to-transparent z-10 pointer-events-none"}),T.jsx("div",{className:"absolute top-0 right-0 w-24 h-full bg-gradient-to-l from-black to-transparent z-10 pointer-events-none"}),T.jsx(Hs,{children:r&&T.jsx(dt.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>u("left"),className:"absolute top-1/2 -translate-y-1/2 left-0 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-20 hover:bg-black/80 transition-colors","aria-label":"Scroll left",children:T.jsx(vE,{})})}),T.jsx("div",{ref:n,className:"flex gap-12 overflow-x-auto custom-scrollbar cursor-grab active:cursor-grabbing py-4",children:c.map((d,f)=>T.jsxs("div",{className:"flex-shrink-0 w-48 sm:w-64 h-80 bg-white/5 backdrop-blur-sm rounded-lg shadow-lg flex flex-col items-center justify-center border border-white/10 hover:border-white/40 transition-colors duration-300 p-4 glare-container select-none",onClick:()=>t(d),children:[T.jsx("div",{className:"w-full h-3/4 relative pointer-events-none",children:T.jsx("img",{src:d.image,alt:d.name,className:"w-full h-full object-contain"})}),T.jsx("div",{className:"w-full h-1/4 text-center flex items-center justify-center pt-2",children:T.jsx("h4",{className:"font-semibold text-white text-sm leading-tight pointer-events-none",children:d.name})})]},`${d.id}-${f}`))}),T.jsx(Hs,{children:a&&T.jsx(dt.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>u("right"),className:"absolute top-1/2 -translate-y-1/2 right-0 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-20 hover:bg-black/80 transition-colors","aria-label":"Scroll right",children:T.jsx(xE,{})})})]})}const I0={SMOOTH_TAU:.25,MIN_COPIES:2,COPY_HEADROOM:2},gU=(e,t,n)=>{M.useEffect(()=>{const s=t.map(i=>{if(!i.current)return null;const r=new ResizeObserver(e);return r.observe(i.current),r});return e(),()=>s.forEach(i=>i==null?void 0:i.disconnect())},n)},yU=(e,t,n,s,i)=>{const r=M.useRef(null),o=M.useRef(null),a=M.useRef(0),l=M.useRef(0);M.useEffect(()=>{const c=e.current;if(!c)return;n>0&&(a.current=(a.current%n+n)%n,c.style.transform=`translate3d(${-a.current}px, 0, 0)`);const u=d=>{o.current===null&&(o.current=d);const f=Math.max(0,d-o.current)/1e3;o.current=d;const p=i&&s?0:t,m=1-Math.exp(-f/I0.SMOOTH_TAU);if(l.current+=(p-l.current)*m,n>0){let g=a.current+l.current*f;g=(g%n+n)%n,a.current=g,c.style.transform=`translate3d(${-a.current}px, 0, 0)`}r.current=requestAnimationFrame(u)};return r.current=requestAnimationFrame(u),()=>{r.current!==null&&(cancelAnimationFrame(r.current),r.current=null),o.current=null}},[t,n,s,i,e])},mD=M.memo(({buttons:e,onButtonClick:t,speed:n=20,direction:s="left",gap:i=16,pauseOnHover:r=!0,neonColor:o="blue",className:a,style:l})=>{const c=M.useRef(null),u=M.useRef(null),d=M.useRef(null),[f,p]=M.useState(0),[m,g]=M.useState(I0.MIN_COPIES),[w,y]=M.useState(!1),x=M.useMemo(()=>Math.abs(n)*(s==="left"?1:-1),[n,s]),v=M.useCallback(()=>{var V,L,H,F;const I=((V=c.current)==null?void 0:V.clientWidth)??0,N=((F=(H=(L=d.current)==null?void 0:L.getBoundingClientRect)==null?void 0:H.call(L))==null?void 0:F.width)??0;if(N>0){p(Math.ceil(N));const O=Math.ceil(I/N)+I0.COPY_HEADROOM;g(Math.max(I0.MIN_COPIES,O))}},[]);gU(v,[c,d],[e,i]),yU(u,x,f,w,r);const S=M.useMemo(()=>({"--buttonloop-gap":`${i}px`}),[i]),E=M.useMemo(()=>["buttonloop","buttonloop--fade",a].filter(Boolean).join(" "),[a]),P=M.useMemo(()=>({width:"100%",...S,...l}),[S,l]),_=M.useCallback(()=>{r&&y(!0)},[r,y]),R=M.useCallback(()=>{r&&y(!1)},[r,y]),k=M.useCallback((I,N)=>T.jsx("li",{className:"buttonloop__item",role:"listitem",children:T.jsxs("button",{onClick:()=>t(I),className:`glare-container flex-shrink-0 inline-flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-${o}-500/30 hover:shadow-${o}-500/50`,children:[T.jsx(AE,{})," ",I.title]})},N),[o,t]),D=M.useMemo(()=>{const I=e&&e.length>0?e:[];return Array.from({length:m},(N,V)=>T.jsx("ul",{className:"buttonloop__list",role:"list","aria-hidden":V>0,ref:V===0?d:void 0,children:I.map((L,H)=>k(L,`${V}-${H}`))},`copy-${V}`))},[m,e,k]);return T.jsx("div",{ref:c,className:E,style:P,onMouseEnter:_,onMouseLeave:R,children:T.jsx("div",{className:"buttonloop__track",ref:u,children:D})})});mD.displayName="ButtonLoop";const vU={FaCube:T.jsx(bE,{}),FaRobot:T.jsx(SE,{}),FaClipboardList:T.jsx(wE,{})},xU=({skill:e,neonHex:t,accentColorClass:n})=>T.jsxs("div",{className:"w-full",children:[T.jsxs("div",{className:"flex justify-between items-center mb-2",children:[T.jsx("span",{className:"font-medium text-slate-200",children:e.name}),T.jsxs("span",{className:`font-medium text-sm ${n}`,children:[e.level,"%"]})]}),T.jsx("div",{className:"w-full bg-white/10 h-2 rounded-full overflow-hidden",children:T.jsx(dt.div,{className:"h-2 rounded-full",style:{background:t,boxShadow:`0 0 6px ${t}, 0 0 12px ${t}`},initial:{width:"0%"},whileInView:{width:`${e.level}%`},viewport:{once:!0},transition:{duration:1.5,ease:[.22,1,.36,1]}})})]}),wU=({data:e,openModal:t,neonColor:n})=>{if(!e)return null;const s=M.useRef(null),[i,r]=M.useState(!1),[o,a]=M.useState(!1),[l,c]=M.useState(null),[u,d]=M.useState(!1),f=_=>{c(_)},p=()=>{c(null),d(!1)},m=()=>{setTimeout(()=>{d(!0)},200)};M.useEffect(()=>{const _=s.current;if(!_)return;const R=()=>{const k=_.scrollWidth>_.clientWidth;r(k&&_.scrollLeft>10),a(k&&_.scrollWidth-_.scrollLeft>_.clientWidth+10)};return R(),_.addEventListener("scroll",R),window.addEventListener("resize",R),()=>{_.removeEventListener("scroll",R),window.removeEventListener("resize",R)}},[e.portfolio]);const g=_=>{const R=s.current;if(!R)return;const k=R.clientWidth*.8;R.scrollTo({left:R.scrollLeft+(_==="right"?k:-k),behavior:"smooth"})},w=e.technologies.map(_=>({src:_.logo,alt:_.name,title:_.name})),y=`text-${n}-400`,x={cyan:"#00ffff",purple:"#cc00ff",blue:"#00aaff",red:"#ff1111"},v={textShadow:`0 0 5px #fff, 0 0 10px ${x[n]}, 0 0 15px ${x[n]}`},S={"--neon-red":x[n]},E=_=>{t({type:"certification",item:_,color:n})},P=_=>{t({type:"cv",item:_,color:n})};return T.jsx("section",{id:e.id,className:"py-20 bg-transparent border-b-2 border-black overflow-hidden",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsx("div",{className:"neon-border-container",style:S,children:T.jsxs("div",{className:"neon-border-content p-8 md:p-12 space-y-16 backdrop-blur-sm",children:[T.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[T.jsxs("h2",{style:v,className:"text-4xl md:text-5xl font-bold text-center mb-2 flex items-center justify-center gap-4 text-white",children:[T.jsx("span",{className:y,children:vU[e.icon]}),T.jsx(It,{as:"span",text:e.title,delay:100})]}),T.jsx("h3",{className:"text-xl text-center text-slate-400 mb-4",children:e.subtitle}),T.jsx("p",{className:"text-lg text-slate-300 text-center max-w-3xl mx-auto mb-8",children:e.intro}),T.jsx("div",{className:"max-w-full mx-auto text-center",children:e.cv_files&&e.cv_files.length>0?T.jsxs(T.Fragment,{children:[T.jsx(It,{text:"Tailored Resumes for this Skillset",className:"text-xl font-semibold mb-4 text-slate-100 text-center block",delay:100}),T.jsx(mD,{buttons:e.cv_files,neonColor:n,onButtonClick:P})]}):e.cv_link?T.jsx("div",{className:"text-center",children:T.jsxs("a",{href:e.cv_link,download:!0,className:`glare-container inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 text-white font-bold py-3 px-8 rounded-xl transition-all duration-300 shadow-lg shadow-${n}-500/30 hover:shadow-${n}-500/50`,children:[T.jsx(AE,{})," Download CV"]})}):null})]}),T.jsxs("div",{children:[T.jsx(It,{text:"Core Skills",className:"text-3xl font-semibold mb-8 text-slate-100 text-center block",delay:100}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:e.skills.map(_=>T.jsx(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.1},children:T.jsx(xU,{skill:_,neonHex:x[n],accentColorClass:y})},_.name))})]}),T.jsxs("div",{children:[T.jsx(It,{text:"Portfolio Highlights",className:"text-3xl font-semibold mb-8 text-slate-100 text-center block",delay:100}),T.jsxs("div",{className:"w-full relative",children:[T.jsx(Hs,{children:i&&T.jsxs(dt.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>g("left"),className:"absolute top-1/2 -translate-y-1/2 left-0 -translate-x-1/4 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-20 hover:bg-black/80 transition-colors","aria-label":"Scroll left",children:[" ",T.jsx(vE,{})," "]})}),T.jsxs("div",{ref:s,className:"flex gap-8 pb-4 overflow-x-auto custom-scrollbar touch-pan-x snap-x snap-mandatory",children:[e.portfolio.map((_,R)=>{const k=_.videoUrl||_.demoVideoUrl,D=l===_.id&&k;return T.jsxs(dt.div,{onClick:()=>t({type:"portfolioItem",item:_}),onMouseEnter:()=>f(_.id),onMouseLeave:p,className:"glare-container group flex-shrink-0 w-80 snap-center bg-slate-900 rounded-lg shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden border border-slate-800 hover:border-red-500/50",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4},children:[T.jsx("div",{className:"relative overflow-hidden w-full h-40 bg-black",children:D?T.jsx("div",{className:"w-full h-full object-cover rounded-lg overflow-hidden",children:T.jsx("iframe",{src:`${k}?autoplay=1&mute=1&loop=1&controls=0&modestbranding=1&rel=0`,title:_.title,frameBorder:"0",allow:"autoplay; fullscreen",onLoad:m,className:`video-preview ${u?"video-preview-large":"video-preview-small"}`})}):T.jsx("img",{src:_.thumbnail,alt:_.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),T.jsxs("div",{className:"p-4",children:[T.jsx("h4",{className:"font-bold text-white text-lg",children:_.title}),T.jsx("p",{className:"text-sm text-slate-400 truncate mt-1",children:_.description}),T.jsx("span",{className:`${y} text-sm font-semibold mt-4 block group-hover:translate-x-1 transition-transform duration-300`,children:"View Details "})]})]},`${_.id}-${R}`)}),T.jsxs(dt.div,{className:"glare-container group flex-shrink-0 w-80 snap-center bg-slate-900/80 rounded-lg shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer overflow-hidden border border-slate-800 hover:border-red-500/50 flex flex-col items-center justify-center p-6 text-center space-y-4",initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.4,delay:e.portfolio.length*.1},children:[T.jsx("h4",{className:"font-bold text-white text-lg",children:"See more projects on"}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("a",{href:"https://www.linkedin.com/in/muzahirabbas14/details/projects/",target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn Projects",className:"h-14 w-14 flex items-center justify-center bg-white/5 hover:bg-white/10 border border-white/10 hover:border-red-500/50 rounded-full transition-all duration-300",children:T.jsx("div",{className:`text-white group-hover:text-${n}-400 transition-colors duration-300`,children:T.jsx(yE,{size:24})})}),T.jsx("a",{href:"https://github.com/muzahirabbas",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub Projects",className:"h-14 w-14 flex items-center justify-center bg-white/5 hover:bg-white/10 border border-white/10 hover:border-red-500/50 rounded-full transition-all duration-300",children:T.jsx("div",{className:`text-white group-hover:text-${n}-400 transition-colors duration-300`,children:T.jsx(gE,{size:24})})})]})]})]}),T.jsx(Hs,{children:o&&T.jsxs(dt.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>g("right"),className:"absolute top-1/2 -translate-y-1/2 right-0 translate-x-1/4 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-20 hover:bg-black/80 transition-colors","aria-label":"Scroll right",children:[" ",T.jsx(xE,{})," "]})})]})]}),T.jsxs("div",{className:"space-y-16",children:[T.jsxs("div",{children:[T.jsx(It,{text:"Tools & Technologies",className:"text-2xl font-semibold mb-6 text-slate-100 text-center block",delay:100}),T.jsx("div",{className:"p-6",children:T.jsx(pD,{logos:w,speed:40,fadeOut:!0,fadeOutColor:"rgba(10, 10, 10, 0)",neonColor:n,logoHeight:60,gap:80})})]}),e.certifications&&e.certifications.length>0&&T.jsxs("div",{children:[T.jsx(It,{text:"Certifications",className:"text-2xl font-semibold mb-12 text-slate-100 text-center block",delay:100}),T.jsx(mU,{items:e.certifications,onItemClick:E})]})]})]})})})})},bU=({data:e,openModal:t})=>{if(!e)return null;const n={textShadow:"0 0 5px #fff, 0 0 10px #00aaff, 0 0 15px #00aaff"},s={"--neon-red":"#00aaff"};return T.jsx("section",{id:"experience",className:"py-20 bg-transparent border-b-2 border-black overflow-hidden",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5},children:[T.jsxs("h2",{style:n,className:"text-4xl font-bold text-center mb-4 flex items-center justify-center gap-3 text-white",children:[T.jsx("span",{className:"text-white",children:T.jsx(n$,{})}),T.jsx(It,{as:"span",text:e.title,delay:100})]}),T.jsx("p",{className:"text-lg text-slate-400 text-center max-w-3xl mx-auto mb-16",children:e.intro})]}),T.jsx("div",{className:"neon-border-container",style:s,children:T.jsx("div",{className:"neon-border-content p-8 md:p-12 backdrop-blur-sm",children:T.jsxs("div",{className:"relative max-w-3xl mx-auto",children:[T.jsx("div",{className:"absolute left-4 top-2 h-full w-1 bg-slate-800 rounded-full md:left-1/2 md:-translate-x-1/2",style:{boxShadow:"0 0 10px #00aaff"}}),e.timeline.map((i,r)=>T.jsxs(dt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},className:"relative mb-12 pl-12 md:pl-0",children:[T.jsx("div",{className:"z-10 absolute left-4 top-2 md:left-1/2 -translate-x-1/2 flex items-center justify-center w-8 h-8 bg-blue-500 rounded-full ring-4 ring-black shadow-md shadow-blue-500/50",children:T.jsx(i$,{className:"text-white",size:16})}),T.jsxs("div",{className:`glare-container bg-slate-900/80 p-4 rounded-lg shadow-lg border border-slate-800 hover:border-blue-500/50 transition-all duration-300 cursor-pointer backdrop-blur-sm md:w-5/12 ${r%2===0?"md:ml-auto md:pl-8":"md:mr-auto md:pr-8 md:text-right"}`,onClick:()=>t({type:"experience",item:i}),children:[T.jsx("p",{className:"text-sm font-semibold text-blue-400 mb-1",children:i.year}),T.jsx("h4",{className:"text-lg font-bold text-white",children:i.role}),T.jsx("p",{className:"text-sm text-slate-400 mb-2",children:i.company}),T.jsx("p",{className:"text-sm text-slate-300",children:i.achievement})]})]},i.id))]})})})]})})},AU=({data:e})=>{if(!e||e.length===0)return null;const t=[...e,...e,...e],n=M.useRef(null),[s,i]=M.useState(!1),[r,o]=M.useState(!1),a=u=>{const d=n.current;if(!d)return;const f=d.clientWidth*.8;d.scrollTo({left:d.scrollLeft+(u==="right"?f:-f),behavior:"smooth"})};M.useEffect(()=>{const u=n.current;if(!u)return;const d=()=>{const f=u.scrollWidth>u.clientWidth;i(f&&u.scrollLeft>10),o(f&&u.scrollWidth-u.scrollLeft>u.clientWidth+10)};return d(),u.addEventListener("scroll",d),window.addEventListener("resize",d),()=>{u.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[e]),M.useEffect(()=>{const u=n.current;if(!u)return;let d=!1;const f=()=>{d=!0},p=()=>{d=!1};u.addEventListener("mouseenter",f),u.addEventListener("mouseleave",p),u.addEventListener("touchstart",f,{passive:!0}),u.addEventListener("touchend",p),u.addEventListener("touchcancel",p);let m;const g=()=>{d||(u.scrollLeft+=.5,u.scrollLeft>=u.scrollWidth/2&&(u.scrollLeft=0)),m=requestAnimationFrame(g)};return m=requestAnimationFrame(g),()=>{cancelAnimationFrame(m),u.removeEventListener("mouseenter",f),u.removeEventListener("mouseleave",p),u.removeEventListener("touchstart",f),u.removeEventListener("touchend",p),u.removeEventListener("touchcancel",p)}},[]);const l={color:"#fff",textShadow:"0 0 5px #fff, 0 0 10px #00aaff, 0 0 15px #00aaff"},c={"--neon-red":"#00aaff"};return T.jsx("section",{id:"testimonials",className:"py-20 bg-transparent border-b-2 border-black overflow-hidden",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[T.jsxs("h2",{style:l,className:"text-4xl font-bold text-center mb-4 flex items-center justify-center gap-3 text-white",children:[T.jsx("span",{className:"text-white",children:T.jsx(r$,{})}),T.jsx(It,{as:"span",text:"Recommendations",delay:100})]}),T.jsx("p",{className:"text-lg text-slate-400 text-center max-w-3xl mx-auto mb-16",children:"What my colleagues and clients say about my work."})]}),T.jsx("div",{className:"neon-border-container",style:c,children:T.jsx("div",{className:"neon-border-content p-8 backdrop-blur-sm",children:T.jsxs("div",{className:"w-full relative",children:[T.jsx("div",{className:"absolute top-0 left-0 w-24 h-full bg-gradient-to-r from-black/80 to-transparent z-20 pointer-events-none"}),T.jsx("div",{className:"absolute top-0 right-0 w-24 h-full bg-gradient-to-l from-black/80 to-transparent z-20 pointer-events-none"}),T.jsx(Hs,{children:s&&T.jsx(dt.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>a("left"),className:"absolute top-1/2 -translate-y-1/2 left-0 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-30 hover:bg-black/80 transition-colors","aria-label":"Scroll left",children:T.jsx(vE,{})})}),T.jsx("div",{ref:n,className:"flex overflow-x-auto custom-scrollbar cursor-grab active:cursor-grabbing",children:t.map((u,d)=>T.jsx("div",{className:"flex-shrink-0 w-[90vw] md:w-[450px] mx-4 select-none",children:T.jsxs("div",{className:"relative pt-16 pb-6 h-full",children:[T.jsx("img",{src:u.avatar,alt:u.name,className:"w-24 h-24 rounded-full mx-auto absolute top-0 left-1/2 -translate-x-1/2 border-4 border-slate-800 ring-2 ring-blue-500 z-10"}),T.jsxs("div",{className:"glare-container bg-slate-900/80 p-8 rounded-2xl shadow-lg flex flex-col text-center h-full border border-slate-800 backdrop-blur-sm",children:[T.jsxs("p",{className:"text-slate-300 italic text-lg mt-4 mb-6 flex-grow",children:[T.jsx("span",{className:"text-4xl text-blue-500/50 leading-none mr-2",children:""}),u.text,T.jsx("span",{className:"text-4xl text-blue-500/50 leading-none ml-2",children:""})]}),T.jsxs("div",{className:"mt-auto",children:[T.jsx("h4",{className:"font-bold text-white text-lg",children:u.name}),T.jsx("p",{className:"text-sm text-slate-400",children:u.role})]})]})]})},`${u.id}-${d}`))}),T.jsx(Hs,{children:r&&T.jsx(dt.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.5},onClick:()=>a("right"),className:"absolute top-1/2 -translate-y-1/2 right-0 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-30 hover:bg-black/80 transition-colors","aria-label":"Scroll right",children:T.jsx(xE,{})})})]})})})]})})};var SU=1e-6,un=typeof Float32Array<"u"?Float32Array:Array;function EU(){var e=new un(9);return un!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ws(){var e=new un(16);return un!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function TU(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function Z_(e,t){var n=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],w=t[14],y=t[15],x=n*a-s*o,v=n*l-i*o,S=n*c-r*o,E=s*l-i*a,P=s*c-r*a,_=i*c-r*l,R=u*g-d*m,k=u*w-f*m,D=u*y-p*m,I=d*w-f*g,N=d*y-p*g,V=f*y-p*w,L=x*V-v*N+S*I+E*D-P*k+_*R;return L?(L=1/L,e[0]=(a*V-l*N+c*I)*L,e[1]=(i*N-s*V-r*I)*L,e[2]=(g*_-w*P+y*E)*L,e[3]=(f*P-d*_-p*E)*L,e[4]=(l*D-o*V-c*k)*L,e[5]=(n*V-i*D+r*k)*L,e[6]=(w*S-m*_-y*v)*L,e[7]=(u*_-f*S+p*v)*L,e[8]=(o*N-a*D+c*R)*L,e[9]=(s*D-n*N-r*R)*L,e[10]=(m*P-g*S+y*x)*L,e[11]=(d*S-u*P-p*x)*L,e[12]=(a*k-o*I-l*R)*L,e[13]=(n*I-s*k+i*R)*L,e[14]=(g*v-m*E-w*x)*L,e[15]=(u*E-d*v+f*x)*L,e):null}function a0(e,t,n){var s=t[0],i=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],g=t[12],w=t[13],y=t[14],x=t[15],v=n[0],S=n[1],E=n[2],P=n[3];return e[0]=v*s+S*a+E*d+P*g,e[1]=v*i+S*l+E*f+P*w,e[2]=v*r+S*c+E*p+P*y,e[3]=v*o+S*u+E*m+P*x,v=n[4],S=n[5],E=n[6],P=n[7],e[4]=v*s+S*a+E*d+P*g,e[5]=v*i+S*l+E*f+P*w,e[6]=v*r+S*c+E*p+P*y,e[7]=v*o+S*u+E*m+P*x,v=n[8],S=n[9],E=n[10],P=n[11],e[8]=v*s+S*a+E*d+P*g,e[9]=v*i+S*l+E*f+P*w,e[10]=v*r+S*c+E*p+P*y,e[11]=v*o+S*u+E*m+P*x,v=n[12],S=n[13],E=n[14],P=n[15],e[12]=v*s+S*a+E*d+P*g,e[13]=v*i+S*l+E*f+P*w,e[14]=v*r+S*c+E*p+P*y,e[15]=v*o+S*u+E*m+P*x,e}function J_(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t[0],e[13]=t[1],e[14]=t[2],e[15]=1,e}function CU(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function PU(e,t,n,s,i){var r=1/Math.tan(t/2);if(e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,i!=null&&i!==1/0){var o=1/(s-i);e[10]=(i+s)*o,e[14]=2*i*s*o}else e[10]=-1,e[14]=-2*s;return e}var _U=PU;function t3(e,t,n,s){var i=t[0],r=t[1],o=t[2],a=s[0],l=s[1],c=s[2],u=i-n[0],d=r-n[1],f=o-n[2],p=u*u+d*d+f*f;p>0&&(p=1/Math.sqrt(p),u*=p,d*=p,f*=p);var m=l*f-c*d,g=c*u-a*f,w=a*d-l*u;return p=m*m+g*g+w*w,p>0&&(p=1/Math.sqrt(p),m*=p,g*=p,w*=p),e[0]=m,e[1]=g,e[2]=w,e[3]=0,e[4]=d*w-f*g,e[5]=f*m-u*w,e[6]=u*g-d*m,e[7]=0,e[8]=u,e[9]=d,e[10]=f,e[11]=0,e[12]=i,e[13]=r,e[14]=o,e[15]=1,e}function $s(){var e=new un(3);return un!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function MU(e){var t=e[0],n=e[1],s=e[2];return Math.sqrt(t*t+n*n+s*s)}function Bo(e,t,n){var s=new un(3);return s[0]=e,s[1]=t,s[2]=n,s}function RU(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function kU(e,t){var n=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return n*n+s*s+i*i}function LU(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function qc(e,t){var n=t[0],s=t[1],i=t[2],r=n*n+s*s+i*i;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function iT(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function N0(e,t,n){var s=t[0],i=t[1],r=t[2],o=n[0],a=n[1],l=n[2];return e[0]=i*l-r*a,e[1]=r*o-s*l,e[2]=s*a-i*o,e}function Hw(e,t,n){var s=n[0],i=n[1],r=n[2],o=n[3],a=t[0],l=t[1],c=t[2],u=i*c-r*l,d=r*a-s*c,f=s*l-i*a;return u=u+u,d=d+d,f=f+f,e[0]=a+o*u+i*f-r*d,e[1]=l+o*d+r*u-s*f,e[2]=c+o*f+s*d-i*u,e}var DU=MU;(function(){var e=$s();return function(t,n,s,i,r,o){var a,l;for(n||(n=3),s||(s=0),i?l=Math.min(i*n+s,t.length):l=t.length,a=s;a<l;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],r(e,e,o),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2];return t}})();function IU(){var e=new un(4);return un!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function NU(e,t){var n=t[0],s=t[1],i=t[2],r=t[3],o=n*n+s*s+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=s*o,e[2]=i*o,e[3]=r*o,e}(function(){var e=IU();return function(t,n,s,i,r,o){var a,l;for(n||(n=4),s||(s=0),i?l=Math.min(i*n+s,t.length):l=t.length,a=s;a<l;a+=n)e[0]=t[a],e[1]=t[a+1],e[2]=t[a+2],e[3]=t[a+3],r(e,e,o),t[a]=e[0],t[a+1]=e[1],t[a+2]=e[2],t[a+3]=e[3];return t}})();function Js(){var e=new un(4);return un!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function gD(e,t,n){n=n*.5;var s=Math.sin(n);return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=Math.cos(n),e}function e3(e,t,n){var s=t[0],i=t[1],r=t[2],o=t[3],a=n[0],l=n[1],c=n[2],u=n[3];return e[0]=s*u+o*a+i*c-r*l,e[1]=i*u+o*l+r*a-s*c,e[2]=r*u+o*c+s*l-i*a,e[3]=o*u-s*a-i*l-r*c,e}function Kc(e,t,n,s){var i=t[0],r=t[1],o=t[2],a=t[3],l=n[0],c=n[1],u=n[2],d=n[3],f,p,m,g,w;return p=i*l+r*c+o*u+a*d,p<0&&(p=-p,l=-l,c=-c,u=-u,d=-d),1-p>SU?(f=Math.acos(p),m=Math.sin(f),g=Math.sin((1-s)*f)/m,w=Math.sin(s*f)/m):(g=1-s,w=s),e[0]=g*i+w*l,e[1]=g*r+w*c,e[2]=g*o+w*u,e[3]=g*a+w*d,e}function FU(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function OU(e,t){var n=t[0]+t[4]+t[8],s;if(n>0)s=Math.sqrt(n+1),e[3]=.5*s,s=.5/s,e[0]=(t[5]-t[7])*s,e[1]=(t[6]-t[2])*s,e[2]=(t[1]-t[3])*s;else{var i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);var r=(i+1)%3,o=(i+2)%3;s=Math.sqrt(t[i*3+i]-t[r*3+r]-t[o*3+o]+1),e[i]=.5*s,s=.5/s,e[3]=(t[r*3+o]-t[o*3+r])*s,e[r]=(t[r*3+i]+t[i*3+r])*s,e[o]=(t[o*3+i]+t[i*3+o])*s}return e}var q1=NU;(function(){var e=$s(),t=Bo(1,0,0),n=Bo(0,1,0);return function(s,i,r){var o=iT(i,r);return o<-.999999?(N0(e,t,i),DU(e)<1e-6&&N0(e,n,i),qc(e,e),gD(s,e,Math.PI),s):o>.999999?(s[0]=0,s[1]=0,s[2]=0,s[3]=1,s):(N0(e,i,r),s[0]=e[0],s[1]=e[1],s[2]=e[2],s[3]=1+o,q1(s,s))}})();(function(){var e=Js(),t=Js();return function(n,s,i,r,o,a){return Kc(e,s,o,a),Kc(t,i,r,a),Kc(n,e,t,2*a*(1-a)),n}})();(function(){var e=EU();return function(t,n,s,i){return e[0]=s[0],e[3]=s[1],e[6]=s[2],e[1]=i[0],e[4]=i[1],e[7]=i[2],e[2]=-n[0],e[5]=-n[1],e[8]=-n[2],q1(t,OU(t,e))}})();function Qc(){var e=new un(2);return un!=Float32Array&&(e[0]=0,e[1]=0),e}function VU(e){var t=new un(2);return t[0]=e[0],t[1]=e[1],t}function jU(e,t){var n=new un(2);return n[0]=e,n[1]=t,n}function n3(e,t){return e[0]=t[0],e[1]=t[1],e}function Db(e,t,n){return e[0]=t,e[1]=n,e}function $U(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function BU(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e}function zU(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}function UU(e){var t=e[0],n=e[1];return t*t+n*n}var HU=BU,WU=UU;(function(){var e=Qc();return function(t,n,s,i,r,o){var a,l;for(n||(n=2),s||(s=0),i?l=Math.min(i*n+s,t.length):l=t.length,a=s;a<l;a+=n)e[0]=t[a],e[1]=t[a+1],r(e,e,o),t[a]=e[0],t[a+1]=e[1];return t}})();const GU=`#version 300 es 
uniform mat4 uWorldMatrix; 
uniform mat4 uViewMatrix; 
uniform mat4 uProjectionMatrix; 
uniform vec3 uCameraPosition; 
uniform vec4 uRotationAxisVelocity; 
in vec3 aModelPosition; 
in vec3 aModelNormal; 
in vec2 aModelUvs; 
in mat4 aInstanceMatrix; 
out vec2 vUvs; 
out float vAlpha; 
flat out int vInstanceId; 
#define PI 3.141593 
void main() { 
    vec4 worldPosition = uWorldMatrix * aInstanceMatrix * vec4(aModelPosition, 1.); 
    vec3 centerPos = (uWorldMatrix * aInstanceMatrix * vec4(0., 0., 0., 1.)).xyz; 
    float radius = length(centerPos.xyz); 
    if (gl_VertexID > 0) { 
        vec3 rotationAxis = uRotationAxisVelocity.xyz; 
        float rotationVelocity = min(.15, uRotationAxisVelocity.w * 15.); 
        vec3 stretchDir = normalize(cross(centerPos, rotationAxis)); 
        vec3 relativeVertexPos = normalize(worldPosition.xyz - centerPos); 
        float strength = dot(stretchDir, relativeVertexPos); 
        float invAbsStrength = min(0., abs(strength) - 1.); 
        strength = rotationVelocity * sign(strength) * abs(invAbsStrength * invAbsStrength * invAbsStrength + 1.); 
        worldPosition.xyz += stretchDir * strength; 
    } 
    worldPosition.xyz = radius * normalize(worldPosition.xyz); 
    gl_Position = uProjectionMatrix * uViewMatrix * worldPosition; 
    vAlpha = smoothstep(0.5, 1., normalize(worldPosition.xyz).z) * .9 + .1; 
    vUvs = aModelUvs; 
    vInstanceId = gl_InstanceID; 
}`,XU=`#version 300 es 
precision highp float; 
uniform sampler2D uTex; 
uniform int uItemCount; 
uniform int uAtlasSize; 
out vec4 outColor; 
in vec2 vUvs; 
in float vAlpha; 
flat in int vInstanceId; 
void main() { 
    int itemIndex = vInstanceId % uItemCount; 
    int cellsPerRow = uAtlasSize; 
    int cellX = itemIndex % cellsPerRow; 
    int cellY = itemIndex / cellsPerRow; 
    vec2 cellSize = vec2(1.0) / vec2(float(cellsPerRow)); 
    vec2 cellOffset = vec2(float(cellX), float(cellY)) * cellSize; 
    ivec2 texSize = textureSize(uTex, 0); 
    float imageAspect = float(texSize.x) / float(texSize.y); 
    float containerAspect = 1.0; 
    float scaleX = 1.0;
    float scaleY = 1.0;

    if (imageAspect > containerAspect) {
        // image is wider  crop sides
        scaleX = containerAspect / imageAspect;
    } else {
        // image is taller  crop top/bottom
        scaleY = imageAspect / containerAspect;
    }

    vec2 st = vec2(vUvs.x, 1.0 - vUvs.y);
    st = (st - 0.5) * vec2(scaleX, scaleY) + 0.5;

    st = st * cellSize + cellOffset; 
    outColor = texture(uTex, st); 
    outColor.a *= vAlpha; 
}`;class fd{constructor(t,n,s){this.a=t,this.b=n,this.c=s}}class YU{constructor(t,n,s){this.position=Bo(t,n,s),this.normal=$s(),this.uv=Qc()}}let yD=class{constructor(){this.vertices=[],this.faces=[]}addVertex(...t){for(let n=0;n<t.length;n+=3)this.vertices.push(new YU(t[n],t[n+1],t[n+2]));return this}addFace(...t){for(let n=0;n<t.length;n+=3)this.faces.push(new fd(t[n],t[n+1],t[n+2]));return this}get lastVertex(){return this.vertices[this.vertices.length-1]}subdivide(t=1){const n={};let s=this.faces;for(let i=0;i<t;++i){const r=new Array(s.length*4);s.forEach((o,a)=>{const l=this.getMidPoint(o.a,o.b,n),c=this.getMidPoint(o.b,o.c,n),u=this.getMidPoint(o.c,o.a,n),d=a*4;r[d+0]=new fd(o.a,l,u),r[d+1]=new fd(o.b,c,l),r[d+2]=new fd(o.c,u,c),r[d+3]=new fd(l,c,u)}),s=r}return this.faces=s,this}spherize(t=1){return this.vertices.forEach(n=>{qc(n.normal,n.position),RU(n.position,n.normal,t)}),this}get data(){return{vertices:this.vertexData,indices:this.indexData,normals:this.normalData,uvs:this.uvData}}get vertexData(){return new Float32Array(this.vertices.flatMap(t=>Array.from(t.position)))}get normalData(){return new Float32Array(this.vertices.flatMap(t=>Array.from(t.normal)))}get uvData(){return new Float32Array(this.vertices.flatMap(t=>Array.from(t.uv)))}get indexData(){return new Uint16Array(this.faces.flatMap(t=>[t.a,t.b,t.c]))}getMidPoint(t,n,s){const i=t<n?`k_${n}_${t}`:`k_${t}_${n}`;if(Object.prototype.hasOwnProperty.call(s,i))return s[i];const r=this.vertices[t].position,o=this.vertices[n].position,a=this.vertices.length;return s[i]=a,this.addVertex((r[0]+o[0])*.5,(r[1]+o[1])*.5,(r[2]+o[2])*.5),a}};class qU extends yD{constructor(){super();const t=Math.sqrt(5)*.5+.5;this.addVertex(-1,t,0,1,t,0,-1,-t,0,1,-t,0,0,-1,t,0,1,t,0,-1,-t,0,1,-t,t,0,-1,t,0,1,-t,0,-1,-t,0,1).addFace(0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1)}}class KU extends yD{constructor(t=4,n=1){super(),t=Math.max(4,t);const s=2*Math.PI/t;this.addVertex(0,0,0),this.lastVertex.uv[0]=.5,this.lastVertex.uv[1]=.5;for(let i=0;i<t;++i){const r=Math.cos(s*i),o=Math.sin(s*i);this.addVertex(n*r,n*o,0),this.lastVertex.uv[0]=r*.5+.5,this.lastVertex.uv[1]=o*.5+.5,i>0&&this.addFace(0,i,i+1)}this.addFace(0,t,1)}}function QU(e,t,n){const s=e.createShader(t);return e.shaderSource(s,n),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS)?s:(console.error(e.getShaderInfoLog(s)),e.deleteShader(s),null)}function ZU(e,t,n,s){const i=e.createProgram();if([e.VERTEX_SHADER,e.FRAGMENT_SHADER].forEach((o,a)=>{const l=QU(e,o,t[a]);l&&e.attachShader(i,l)}),n&&e.transformFeedbackVaryings(i,n,e.SEPARATE_ATTRIBS),s)for(const o in s)e.bindAttribLocation(i,s[o],o);return e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)?i:(console.error(e.getProgramInfoLog(i)),e.deleteProgram(i),null)}function JU(e,t,n){const s=e.createVertexArray();e.bindVertexArray(s);for(const[i,r,o]of t)r!==-1&&(e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,o,e.FLOAT,!1,0,0));if(n){const i=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,i),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),e.STATIC_DRAW)}return e.bindVertexArray(null),s}function tH(e){const t=Math.min(2,window.devicePixelRatio),n=Math.round(e.clientWidth*t),s=Math.round(e.clientHeight*t),i=e.width!==n||e.height!==s;return i&&(e.width=n,e.height=s),i}function s3(e,t,n){const s=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,t,n),e.bindBuffer(e.ARRAY_BUFFER,null),s}function eH(e,t,n,s,i){const r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,s),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,n),r}var Uf,Ib;class nH{constructor(t,n){b(this,Uf);$(this,"isPointerDown",!1);$(this,"orientation",Js());$(this,"pointerRotation",Js());$(this,"rotationVelocity",0);$(this,"rotationAxis",Bo(1,0,0));$(this,"snapDirection",Bo(0,0,-1));$(this,"snapTargetDirection");$(this,"EPSILON",.1);$(this,"IDENTITY_QUAT",Js());this.canvas=t,this.updateCallback=n||(()=>null),this.pointerPos=Qc(),this.previousPointerPos=Qc(),this._rotationVelocity=0,this._combinedQuat=Js(),t.addEventListener("pointerdown",s=>{Db(this.pointerPos,s.clientX,s.clientY),n3(this.previousPointerPos,this.pointerPos),this.isPointerDown=!0}),t.addEventListener("pointerup",()=>{this.isPointerDown=!1}),t.addEventListener("pointerleave",()=>{this.isPointerDown=!1}),t.addEventListener("pointermove",s=>{this.isPointerDown&&Db(this.pointerPos,s.clientX,s.clientY)}),t.style.touchAction="none"}update(t,n=16){const s=t/n+1e-5;let i=s,r=Js();if(this.isPointerDown){const f=.3*s,p=5/s,m=HU(Qc(),this.pointerPos,this.previousPointerPos);if(zU(m,m,f),WU(m)>this.EPSILON){$U(m,this.previousPointerPos,m);const g=C(this,Uf,Ib).call(this,m),w=C(this,Uf,Ib).call(this,this.previousPointerPos),y=qc($s(),g),x=qc($s(),w);n3(this.previousPointerPos,m),i*=p,this.quatFromVectors(y,x,this.pointerRotation,i)}else Kc(this.pointerRotation,this.pointerRotation,this.IDENTITY_QUAT,f)}else{const f=.1*s;if(Kc(this.pointerRotation,this.pointerRotation,this.IDENTITY_QUAT,f),this.snapTargetDirection){const m=this.snapTargetDirection,g=this.snapDirection,w=kU(m,g),y=Math.max(.1,1-w*10);i*=.2*y,this.quatFromVectors(m,g,r,i)}}const o=e3(Js(),r,this.pointerRotation);this.orientation=e3(Js(),o,this.orientation),q1(this.orientation,this.orientation);const a=.8*s;Kc(this._combinedQuat,this._combinedQuat,o,a),q1(this._combinedQuat,this._combinedQuat);const l=Math.acos(this._combinedQuat[3])*2,c=Math.sin(l/2);let u=0;c>1e-6&&(u=l/(2*Math.PI),this.rotationAxis[0]=this._combinedQuat[0]/c,this.rotationAxis[1]=this._combinedQuat[1]/c,this.rotationAxis[2]=this._combinedQuat[2]/c);const d=.5*s;this._rotationVelocity+=(u-this._rotationVelocity)*d,this.rotationVelocity=this._rotationVelocity/s,this.updateCallback(t)}quatFromVectors(t,n,s,i=1){const r=N0($s(),t,n);qc(r,r);const o=Math.max(-1,Math.min(1,iT(t,n))),a=Math.acos(o)*i;return gD(s,r,a),{q:s,axis:r,angle:a}}}Uf=new WeakSet,Ib=function(t){const s=this.canvas.clientWidth,i=this.canvas.clientHeight,r=Math.max(s,i)-1,o=(2*t[0]-s-1)/r,a=(2*t[1]-i-1)/r;let l=0;const c=o*o+a*a,u=2*2;return c<=u/2?l=Math.sqrt(u-c):l=u/Math.sqrt(c),Bo(-o,a,l)};var Hf,eu,Wf,Gf,iy,vD,ry,xD,oy,wD,ay,bD,ly,AD,Xf,Nb,Yf,Fb,cy,SD,uy,ED,hy,TD;class sH{constructor(t,n,s,i,r=null){b(this,iy);b(this,ry);b(this,oy);b(this,ay);b(this,ly);b(this,Xf);b(this,Yf);b(this,cy);b(this,uy);b(this,hy);$(this,"TARGET_FRAME_DURATION",1e3/60);$(this,"SPHERE_RADIUS",2);b(this,Hf,0);b(this,eu,0);b(this,Wf,0);b(this,Gf,0);$(this,"camera",{matrix:ws(),near:.1,far:40,fov:Math.PI/4,aspect:1,position:Bo(0,0,3),up:Bo(0,1,0),matrices:{view:ws(),projection:ws(),inversProjection:ws()}});$(this,"nearestVertexIndex",null);$(this,"smoothRotationVelocity",0);$(this,"scaleFactor",1);$(this,"movementActive",!1);this.canvas=t,this.items=n||[],this.onActiveItemChange=s||(()=>{}),this.onMovementChange=i||(()=>{}),C(this,iy,vD).call(this,r)}resize(){this.viewportSize=Db(this.viewportSize||Qc(),this.canvas.clientWidth,this.canvas.clientHeight);const t=this.gl;tH(t.canvas)&&t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),C(this,Yf,Fb).call(this,t)}run(t=0){A(this,eu,Math.min(32,t-h(this,Hf))),A(this,Hf,t),A(this,Wf,h(this,eu)/this.TARGET_FRAME_DURATION),A(this,Gf,h(this,Gf)+h(this,Wf)),C(this,ay,bD).call(this,h(this,eu)),C(this,ly,AD).call(this),requestAnimationFrame(n=>this.run(n))}}Hf=new WeakMap,eu=new WeakMap,Wf=new WeakMap,Gf=new WeakMap,iy=new WeakSet,vD=function(t){this.gl=this.canvas.getContext("webgl2",{antialias:!0,alpha:!0});const n=this.gl;if(!n)throw new Error("No WebGL 2 context!");this.viewportSize=jU(this.canvas.clientWidth,this.canvas.clientHeight),this.drawBufferSize=VU(this.viewportSize),this.discProgram=ZU(n,[GU,XU],null,{aModelPosition:0,aModelNormal:1,aModelUvs:2,aInstanceMatrix:3}),this.discLocations={aModelPosition:n.getAttribLocation(this.discProgram,"aModelPosition"),aModelUvs:n.getAttribLocation(this.discProgram,"aModelUvs"),aInstanceMatrix:n.getAttribLocation(this.discProgram,"aInstanceMatrix"),uWorldMatrix:n.getUniformLocation(this.discProgram,"uWorldMatrix"),uViewMatrix:n.getUniformLocation(this.discProgram,"uViewMatrix"),uProjectionMatrix:n.getUniformLocation(this.discProgram,"uProjectionMatrix"),uCameraPosition:n.getUniformLocation(this.discProgram,"uCameraPosition"),uScaleFactor:n.getUniformLocation(this.discProgram,"uScaleFactor"),uRotationAxisVelocity:n.getUniformLocation(this.discProgram,"uRotationAxisVelocity"),uTex:n.getUniformLocation(this.discProgram,"uTex"),uFrames:n.getUniformLocation(this.discProgram,"uFrames"),uItemCount:n.getUniformLocation(this.discProgram,"uItemCount"),uAtlasSize:n.getUniformLocation(this.discProgram,"uAtlasSize")},this.discGeo=new KU(56,1),this.discBuffers=this.discGeo.data,this.discVAO=JU(n,[[s3(n,this.discBuffers.vertices,n.STATIC_DRAW),this.discLocations.aModelPosition,3],[s3(n,this.discBuffers.uvs,n.STATIC_DRAW),this.discLocations.aModelUvs,2]],this.discBuffers.indices),this.icoGeo=new qU,this.icoGeo.subdivide(1).spherize(this.SPHERE_RADIUS),this.instancePositions=this.icoGeo.vertices.map(s=>s.position),this.DISC_INSTANCE_COUNT=this.icoGeo.vertices.length,C(this,oy,wD).call(this,this.DISC_INSTANCE_COUNT),this.worldMatrix=ws(),C(this,ry,xD).call(this),this.control=new nH(this.canvas,s=>C(this,cy,SD).call(this,s)),C(this,Xf,Nb).call(this),C(this,Yf,Fb).call(this,n),this.resize(),t&&t(this)},ry=new WeakSet,xD=function(){const t=this.gl;this.tex=eH(t,t.LINEAR,t.LINEAR,t.CLAMP_TO_EDGE,t.CLAMP_TO_EDGE);const n=Math.max(1,this.items.length);this.atlasSize=Math.ceil(Math.sqrt(n));const s=document.createElement("canvas"),i=s.getContext("2d"),r=512;s.width=this.atlasSize*r,s.height=this.atlasSize*r,Promise.all(this.items.map(o=>new Promise(a=>{const l=new Image;l.crossOrigin="anonymous",l.onload=()=>a(l),l.onerror=()=>a(new Image),l.src=o.image}))).then(o=>{o.forEach((a,l)=>{const c=l%this.atlasSize*r,u=Math.floor(l/this.atlasSize)*r;if(!a||!a.width||!a.height)i.fillStyle="#000",i.fillRect(c,u,r,r);else{const d=a.width/a.height,f=1;let p=0,m=0,g=a.width,w=a.height;d>f?(w=a.height,g=Math.floor(a.height*f),p=Math.floor((a.width-g)/2),m=0):(g=a.width,w=Math.floor(a.width/f),p=0,m=Math.floor((a.height-w)/2)),i.drawImage(a,p,m,g,w,c,u,r,r)}}),t.bindTexture(t.TEXTURE_2D,this.tex),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,s),t.generateMipmap(t.TEXTURE_2D)})},oy=new WeakSet,wD=function(t){const n=this.gl;this.discInstances={matricesArray:new Float32Array(t*16),matrices:[],buffer:n.createBuffer()};for(let r=0;r<t;++r){const o=new Float32Array(this.discInstances.matricesArray.buffer,r*16*4,16);o.set(ws()),this.discInstances.matrices.push(o)}n.bindVertexArray(this.discVAO),n.bindBuffer(n.ARRAY_BUFFER,this.discInstances.buffer),n.bufferData(n.ARRAY_BUFFER,this.discInstances.matricesArray.byteLength,n.DYNAMIC_DRAW);const s=4,i=16*4;for(let r=0;r<s;++r){const o=this.discLocations.aInstanceMatrix+r;n.enableVertexAttribArray(o),n.vertexAttribPointer(o,4,n.FLOAT,!1,i,r*4*4),n.vertexAttribDivisor(o,1)}n.bindBuffer(n.ARRAY_BUFFER,null),n.bindVertexArray(null)},ay=new WeakSet,bD=function(t){const n=this.gl;this.control.update(t,this.TARGET_FRAME_DURATION);let s=this.instancePositions.map(o=>Hw($s(),o,this.control.orientation));const i=.25,r=.6;s.forEach((o,a)=>{const c=(Math.abs(o[2])/this.SPHERE_RADIUS*r+(1-r))*i,u=ws();a0(u,u,J_(ws(),LU($s(),o))),a0(u,u,t3(ws(),[0,0,0],o,[0,1,0])),a0(u,u,CU(ws(),[c,c,c])),a0(u,u,J_(ws(),[0,0,-this.SPHERE_RADIUS])),TU(this.discInstances.matrices[a],u)}),n.bindBuffer(n.ARRAY_BUFFER,this.discInstances.buffer),n.bufferSubData(n.ARRAY_BUFFER,0,this.discInstances.matricesArray),n.bindBuffer(n.ARRAY_BUFFER,null),this.smoothRotationVelocity=this.control.rotationVelocity},ly=new WeakSet,AD=function(){const t=this.gl;t.useProgram(this.discProgram),t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.uniformMatrix4fv(this.discLocations.uWorldMatrix,!1,this.worldMatrix),t.uniformMatrix4fv(this.discLocations.uViewMatrix,!1,this.camera.matrices.view),t.uniformMatrix4fv(this.discLocations.uProjectionMatrix,!1,this.camera.matrices.projection),t.uniform3f(this.discLocations.uCameraPosition,this.camera.position[0],this.camera.position[1],this.camera.position[2]),t.uniform4f(this.discLocations.uRotationAxisVelocity,this.control.rotationAxis[0],this.control.rotationAxis[1],this.control.rotationAxis[2],this.smoothRotationVelocity*1.1),t.uniform1i(this.discLocations.uItemCount,this.items.length),t.uniform1i(this.discLocations.uAtlasSize,this.atlasSize),t.uniform1f(this.discLocations.uFrames,h(this,Gf)),t.uniform1f(this.discLocations.uScaleFactor,this.scaleFactor),t.uniform1i(this.discLocations.uTex,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.tex),t.bindVertexArray(this.discVAO),t.drawElementsInstanced(t.TRIANGLES,this.discBuffers.indices.length,t.UNSIGNED_SHORT,0,this.DISC_INSTANCE_COUNT)},Xf=new WeakSet,Nb=function(){t3(this.camera.matrix,this.camera.position,[0,0,0],this.camera.up),Z_(this.camera.matrices.view,this.camera.matrix)},Yf=new WeakSet,Fb=function(t){this.camera.aspect=t.canvas.clientWidth/t.canvas.clientHeight;const n=this.SPHERE_RADIUS*.35,s=this.camera.position[2];this.camera.aspect>1?this.camera.fov=2*Math.atan(n/s):this.camera.fov=2*Math.atan(n/this.camera.aspect/s),_U(this.camera.matrices.projection,this.camera.fov,this.camera.aspect,this.camera.near,this.camera.far),Z_(this.camera.matrices.inversProjection,this.camera.matrices.projection)},cy=new WeakSet,SD=function(t){const n=t/this.TARGET_FRAME_DURATION+1e-4;let s=5/n,i=3;const r=this.control.isPointerDown||Math.abs(this.smoothRotationVelocity)>.01;if(r!==this.movementActive&&(this.movementActive=r,this.onMovementChange(r)),this.control.isPointerDown)i+=this.control.rotationVelocity*80+2.5,s=7/n;else{const o=C(this,uy,ED).call(this),a=o%Math.max(1,this.items.length);this.onActiveItemChange(a);const l=qc($s(),C(this,hy,TD).call(this,o));this.control.snapTargetDirection=l}this.camera.position[2]+=(i-this.camera.position[2])/s,C(this,Xf,Nb).call(this)},uy=new WeakSet,ED=function(){const t=this.control.snapDirection,n=FU(Js(),this.control.orientation),s=Hw($s(),t,n);let i=-1,r;for(let o=0;o<this.instancePositions.length;++o){const a=iT(s,this.instancePositions[o]);a>i&&(i=a,r=o)}return r},hy=new WeakSet,TD=function(t){const n=this.instancePositions[t];return Hw($s(),n,this.control.orientation)};const iH=[{image:"",description:"Loading..."}];function rH({items:e=[]}){const t=M.useRef(null),[n,s]=M.useState(null),[i,r]=M.useState(!0);return M.useEffect(()=>{const o=t.current;if(!o)return;const a=e.map(d=>({image:d.image,description:d.description})),l=d=>{const f=d%a.length;s(a[f])},c=new sH(o,a.length?a:iH,l,r,d=>d.run()),u=()=>{c&&c.resize()};return window.addEventListener("resize",u),u(),()=>{window.removeEventListener("resize",u)}},[e]),T.jsxs("div",{className:"infinite-menu-container",children:[T.jsx("div",{className:"infinite-menu-canvas-wrapper",children:T.jsx("canvas",{id:"infinite-grid-menu-canvas",ref:t})}),T.jsx("div",{className:"infinite-menu-description-wrapper",children:n&&T.jsx("div",{className:`infinite-menu-description ${i?"":"active"}`,children:T.jsx(It,{as:"p",text:n.description,delay:20},n.description)})})]})}const oH=({data:e})=>{if(!e||!e.trips)return null;const t="#00aaff",n={textShadow:`0 0 5px #fff, 0 0 10px ${t}, 0 0 15px ${t}`},s={"--neon-red":t},i=[{icon:T.jsx(o$,{}),name:"Logistics & Planning"},{icon:T.jsx(b$,{}),name:"Leadership"},{icon:T.jsx(h$,{}),name:"Adaptability"},{icon:T.jsx(w$,{}),name:"Problem-Solving"}];return T.jsx("section",{id:"travel",className:"py-20 bg-transparent border-b-2 border-black overflow-hidden",children:T.jsx("div",{className:"container mx-auto px-4",children:T.jsx("div",{className:"neon-border-container",style:s,children:T.jsxs("div",{className:"neon-border-content p-8 md:p-12 space-y-16 backdrop-blur-sm",children:[T.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[T.jsxs("h2",{style:n,className:"text-4xl font-bold text-center mb-4 flex items-center justify-center gap-3 text-white",children:[T.jsx("span",{style:{color:t},children:T.jsx(f$,{})}),T.jsx(It,{as:"span",text:"The Adventurous Side",delay:100})]}),T.jsx(It,{text:"Beyond the screen, my journey as a co-founder of Zenith Adventures took me across the vast landscapes of Pakistan. Leading over 25 expeditions wasn't just about exploring nature; it was a real-world masterclass in leadership, logistics, and human connection.",delay:15,className:"block text-lg text-slate-400 text-center max-w-3xl mx-auto"})]}),T.jsxs("div",{children:[T.jsx(It,{text:"Skills Forged in the Wild",className:"text-2xl font-semibold mb-8 text-slate-100 text-center block",delay:100}),T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto",children:i.map((r,o)=>T.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:o*.15},className:"glare-container flex flex-col items-center text-center p-4 rounded-lg bg-slate-900/80 border border-slate-800 hover:border-blue-500/50",children:[T.jsx("div",{className:"text-4xl mb-3",style:{color:t,filter:`drop-shadow(0 0 4px ${t})`},children:r.icon}),T.jsx("h4",{className:"font-semibold text-white",children:r.name})]},r.name))})]}),T.jsxs("div",{children:[T.jsx(It,{text:"A Glimpse Into the Journey",className:"text-3xl font-semibold mb-8 text-slate-100 text-center block",delay:100}),T.jsx("div",{style:{height:"70vh",minHeight:"500px",position:"relative"},children:T.jsx(rH,{items:e.trips})})]})]})})})})},aH=({data:e})=>{if(!e)return null;const[t,n]=M.useState(""),s=[{icon:T.jsx(l$,{}),title:"Email",value:e.email,href:`mailto:${e.email}`},{icon:T.jsx(m$,{}),title:"Phone",value:e.phone,href:`tel:${e.phone.replace(/\s/g,"")}`},{icon:T.jsx(gE,{}),title:"GitHub",value:"View Profile",href:e.socials.github,target:"_blank"},{icon:T.jsx(yE,{}),title:"LinkedIn",value:"View Profile",href:e.socials.linkedin,target:"_blank"},{icon:T.jsx(t$,{}),title:"Discord",value:"Join Community",href:e.socials.discord,target:"_blank"},{icon:T.jsx(Ik,{}),title:"Instagram",value:"View Profile",href:e.socials.instagram,target:"_blank"}],i=async a=>{a.preventDefault(),n("Sending...");const l={name:a.target.name.value,email:a.target.email.value,message:a.target.message.value};try{const c=await fetch("https://portfolio-contact-worker.abbasmuzahir92.workers.dev",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(c.ok)n("Thank you for your message!"),a.target.reset();else{const u=await c.json();n(`Error: ${u.message||"Something went wrong."}`)}}catch{n("Error: Could not connect. Please try again later.")}},r={color:"#fff",textShadow:"0 0 5px #fff, 0 0 10px #00aaff, 0 0 15px #00aaff"},o={"--neon-red":"#00aaff"};return T.jsx("section",{id:"contact",className:"py-20 bg-transparent border-b-2 border-black overflow-hidden",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs(dt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[T.jsxs("h2",{style:r,className:"text-4xl font-bold text-center mb-4 flex items-center justify-center gap-3 text-white",children:[T.jsx("span",{className:"text-white",children:T.jsx(p$,{})}),T.jsx(It,{as:"span",text:"Get In Touch",delay:100})]}),T.jsx("p",{className:"text-lg text-slate-400 text-center max-w-3xl mx-auto mb-12",children:"Have a project, a question, or just want to connect? Heres how you can reach me."})]}),T.jsx("div",{className:"neon-border-container",style:o,children:T.jsx("div",{className:"neon-border-content p-8 md-p-12 backdrop-blur-sm",children:T.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:s.map((a,l)=>T.jsxs(dt.a,{href:a.href,target:a.target,rel:"noopener noreferrer",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1},className:"glare-container bg-slate-900/80 p-6 rounded-lg shadow-lg hover:shadow-blue-500/20 hover:-translate-y-1 transition-all flex flex-col items-center text-center border border-slate-800 hover:border-blue-500/50",children:[T.jsx("div",{className:"text-3xl text-blue-400 mb-3 transition-all duration-300",style:{filter:"drop-shadow(0 0 4px #00aaff)"},children:a.icon}),T.jsx("h3",{className:"font-bold text-lg text-white",children:a.title}),T.jsx("p",{className:"text-sm text-slate-400 break-all",children:a.value})]},a.title))}),T.jsx(dt.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},children:T.jsxs("div",{className:"bg-slate-900/80 p-8 rounded-lg shadow-lg h-full border border-slate-800",children:[T.jsx("h3",{className:"text-2xl font-bold mb-6 text-white",children:"Send a Direct Message"}),T.jsxs("form",{onSubmit:i,className:"space-y-4",children:[T.jsx("input",{name:"name",type:"text",placeholder:"Your Name",required:!0,className:"w-full bg-slate-800 text-white border-slate-700 rounded-md py-2 px-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all"}),T.jsx("input",{name:"email",type:"email",placeholder:"Your Email",required:!0,className:"w-full bg-slate-800 text-white border-slate-700 rounded-md py-2 px-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all"}),T.jsx("textarea",{name:"message",placeholder:"Your Message",rows:"5",required:!0,className:"w-full bg-slate-800 text-white border-slate-700 rounded-md py-2 px-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:outline-none transition-all"}),T.jsx("button",{type:"submit",className:"glare-container w-full bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50",disabled:t==="Sending...",children:t==="Sending..."?"Sending...":"Send Message"}),t&&T.jsx("p",{className:`text-center mt-4 ${t.includes("Error")?"text-red-400":"text-slate-300"}`,children:t})]})]})})]})})})]})})},lH=({data:e})=>{if(!e)return null;const t=[{href:e.socials.github,label:"GitHub",icon:T.jsx(gE,{size:24})},{href:e.socials.linkedin,label:"LinkedIn",icon:T.jsx(yE,{size:24})},{href:e.socials.instagram,label:"Instagram",icon:T.jsx(Ik,{size:24})}];return T.jsx("footer",{className:"py-12 text-center bg-transparent text-slate-400",children:T.jsxs("div",{className:"container mx-auto px-4",children:[T.jsxs("p",{className:"mb-8 text-slate-300",style:{textShadow:"0 0 8px rgba(255, 255, 255, 0.3)"},children:["Made by ",e.name,"  SwissArmyKnife Portfolio"]}),T.jsx("div",{className:"flex justify-center items-center space-x-4 mb-8",children:t.map(n=>T.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer","aria-label":n.label,className:"glare-container group h-14 w-14 flex items-center justify-center bg-white/5 hover:bg-white/10 border border-white/10 hover:border-blue-500/50 rounded-full transition-all duration-300",children:T.jsx("div",{className:"text-white group-hover:text-blue-400 transition-colors duration-300",children:n.icon})},n.label))}),T.jsxs("p",{className:"text-xs",children:[" ",new Date().getFullYear()," All Rights Reserved."]})]})})},cH="modulepreload",uH=function(e){return"/"+e},i3={},hH=function(t,n,s){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(r=>{if(r=uH(r),r in i3)return;i3[r]=!0;const o=r.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===r&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":cH,o||(c.as="script",c.crossOrigin=""),c.href=r,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=r,window.dispatchEvent(o),!o.defaultPrevented)throw r})},on=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Ob=[.001,0,0,.001,0,0],Ww=1.35,zn={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},xi={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},CD="pdfjs_internal_editor_",tt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},lt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},PD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},$e={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},lf={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Yt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Cg={ERRORS:0,WARNINGS:1,INFOS:5},Ff={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},l0={moveTo:0,lineTo:1,curveTo:2,closePath:3},_D={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Rx=Cg.WARNINGS;function dH(e){Number.isInteger(e)&&(Rx=e)}function fH(){return Rx}function kx(e){Rx>=Cg.INFOS&&console.log(`Info: ${e}`)}function et(e){Rx>=Cg.WARNINGS&&console.log(`Warning: ${e}`)}function wt(e){throw new Error(e)}function ae(e,t){e||wt(t)}function pH(e){switch(e==null?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function rT(e,t=null,n=null){if(!e)return null;if(n&&typeof e=="string"){if(n.addDefaultProtocol&&e.startsWith("www.")){const i=e.match(/\./g);(i==null?void 0:i.length)>=2&&(e=`http://${e}`)}if(n.tryConvertEncoding)try{e=xH(e)}catch{}}const s=t?URL.parse(e,t):URL.parse(e);return pH(s)?s:null}function oT(e,t,n=!1){const s=URL.parse(e);return s?(s.hash=t,s.href):n&&rT(e,"http://example.com")?e.split("#",1)[0]+`${t?`#${t}`:""}`:""}function ot(e,t,n,s=!1){return Object.defineProperty(e,t,{value:n,enumerable:!s,configurable:!0,writable:!1}),n}const oc=function(){function t(n,s){this.message=n,this.name=s}return t.prototype=new Error,t.constructor=t,t}();class r3 extends oc{constructor(t,n){super(t,"PasswordException"),this.code=n}}class Gw extends oc{constructor(t,n){super(t,"UnknownErrorException"),this.details=n}}class K1 extends oc{constructor(t){super(t,"InvalidPDFException")}}class Of extends oc{constructor(t,n,s){super(t,"ResponseException"),this.status=n,this.missing=s}}class mH extends oc{constructor(t){super(t,"FormatError")}}class Tr extends oc{constructor(t){super(t,"AbortException")}}function MD(e){(typeof e!="object"||(e==null?void 0:e.length)===void 0)&&wt("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const s=[];for(let i=0;i<t;i+=n){const r=Math.min(i+n,t),o=e.subarray(i,r);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function Pg(e){typeof e!="string"&&wt("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let s=0;s<t;++s)n[s]=e.charCodeAt(s)&255;return n}function gH(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function yH(){const e=new Uint8Array(4);return e[0]=1,new Uint32Array(e.buffer,0,1)[0]===1}function vH(){try{return new Function(""),!0}catch{return!1}}class Te{static get isLittleEndian(){return ot(this,"isLittleEndian",yH())}static get isEvalSupported(){return ot(this,"isEvalSupported",vH())}static get isOffscreenCanvasSupported(){return ot(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return ot(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:t,userAgent:n}=navigator;return ot(this,"platform",{isAndroid:n.includes("Android"),isLinux:t.includes("Linux"),isMac:t.includes("Mac"),isWindows:t.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var t,n;return ot(this,"isCSSRoundSupported",(n=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:n.call(t,"width: round(1.5px, 1px)"))}}const Xw=Array.from(Array(256).keys(),e=>e.toString(16).padStart(2,"0"));var nu,F0,qf,Vb;class K{static makeHexColor(t,n,s){return`#${Xw[t]}${Xw[n]}${Xw[s]}`}static scaleMinMax(t,n){let s;t[0]?(t[0]<0&&(s=n[0],n[0]=n[2],n[2]=s),n[0]*=t[0],n[2]*=t[0],t[3]<0&&(s=n[1],n[1]=n[3],n[3]=s),n[1]*=t[3],n[3]*=t[3]):(s=n[0],n[0]=n[1],n[1]=s,s=n[2],n[2]=n[3],n[3]=s,t[1]<0&&(s=n[1],n[1]=n[3],n[3]=s),n[1]*=t[1],n[3]*=t[1],t[2]<0&&(s=n[0],n[0]=n[2],n[2]=s),n[0]*=t[2],n[2]*=t[2]),n[0]+=t[4],n[1]+=t[5],n[2]+=t[4],n[3]+=t[5]}static transform(t,n){return[t[0]*n[0]+t[2]*n[1],t[1]*n[0]+t[3]*n[1],t[0]*n[2]+t[2]*n[3],t[1]*n[2]+t[3]*n[3],t[0]*n[4]+t[2]*n[5]+t[4],t[1]*n[4]+t[3]*n[5]+t[5]]}static applyTransform(t,n,s=0){const i=t[s],r=t[s+1];t[s]=i*n[0]+r*n[2]+n[4],t[s+1]=i*n[1]+r*n[3]+n[5]}static applyTransformToBezier(t,n,s=0){const i=n[0],r=n[1],o=n[2],a=n[3],l=n[4],c=n[5];for(let u=0;u<6;u+=2){const d=t[s+u],f=t[s+u+1];t[s+u]=d*i+f*o+l,t[s+u+1]=d*r+f*a+c}}static applyInverseTransform(t,n){const s=t[0],i=t[1],r=n[0]*n[3]-n[1]*n[2];t[0]=(s*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/r,t[1]=(-s*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/r}static axialAlignedBoundingBox(t,n,s){const i=n[0],r=n[1],o=n[2],a=n[3],l=n[4],c=n[5],u=t[0],d=t[1],f=t[2],p=t[3];let m=i*u+l,g=m,w=i*f+l,y=w,x=a*d+c,v=x,S=a*p+c,E=S;if(r!==0||o!==0){const P=r*u,_=r*f,R=o*d,k=o*p;m+=R,y+=R,w+=k,g+=k,x+=P,E+=P,S+=_,v+=_}s[0]=Math.min(s[0],m,w,g,y),s[1]=Math.min(s[1],x,S,v,E),s[2]=Math.max(s[2],m,w,g,y),s[3]=Math.max(s[3],x,S,v,E)}static inverseTransform(t){const n=t[0]*t[3]-t[1]*t[2];return[t[3]/n,-t[1]/n,-t[2]/n,t[0]/n,(t[2]*t[5]-t[4]*t[3])/n,(t[4]*t[1]-t[5]*t[0])/n]}static singularValueDecompose2dScale(t,n){const s=t[0],i=t[1],r=t[2],o=t[3],a=s**2+i**2,l=s*r+i*o,c=r**2+o**2,u=(a+c)/2,d=Math.sqrt(u**2-(a*c-l**2));n[0]=Math.sqrt(u+d||1),n[1]=Math.sqrt(u-d||1)}static normalizeRect(t){const n=t.slice(0);return t[0]>t[2]&&(n[0]=t[2],n[2]=t[0]),t[1]>t[3]&&(n[1]=t[3],n[3]=t[1]),n}static intersect(t,n){const s=Math.max(Math.min(t[0],t[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(t[0],t[2]),Math.max(n[0],n[2]));if(s>i)return null;const r=Math.max(Math.min(t[1],t[3]),Math.min(n[1],n[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(n[1],n[3]));return r>o?null:[s,r,i,o]}static pointBoundingBox(t,n,s){s[0]=Math.min(s[0],t),s[1]=Math.min(s[1],n),s[2]=Math.max(s[2],t),s[3]=Math.max(s[3],n)}static rectBoundingBox(t,n,s,i,r){r[0]=Math.min(r[0],t,s),r[1]=Math.min(r[1],n,i),r[2]=Math.max(r[2],t,s),r[3]=Math.max(r[3],n,i)}static bezierBoundingBox(t,n,s,i,r,o,a,l,c){c[0]=Math.min(c[0],t,a),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],t,a),c[3]=Math.max(c[3],n,l),C(this,qf,Vb).call(this,t,s,r,a,n,i,o,l,3*(-t+3*(s-r)+a),6*(t-2*s+r),3*(s-t),c),C(this,qf,Vb).call(this,t,s,r,a,n,i,o,l,3*(-n+3*(i-o)+l),6*(n-2*i+o),3*(i-n),c)}}nu=new WeakSet,F0=function(t,n,s,i,r,o,a,l,c,u){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,m=d*(d*(d*t+3*c*n)+3*f*s)+p*i,g=d*(d*(d*r+3*c*o)+3*f*a)+p*l;u[0]=Math.min(u[0],m),u[1]=Math.min(u[1],g),u[2]=Math.max(u[2],m),u[3]=Math.max(u[3],g)},qf=new WeakSet,Vb=function(t,n,s,i,r,o,a,l,c,u,d,f){if(Math.abs(c)<1e-12){Math.abs(u)>=1e-12&&C(this,nu,F0).call(this,t,n,s,i,r,o,a,l,-d/u,f);return}const p=u**2-4*d*c;if(p<0)return;const m=Math.sqrt(p),g=2*c;C(this,nu,F0).call(this,t,n,s,i,r,o,a,l,(-u+m)/g,f),C(this,nu,F0).call(this,t,n,s,i,r,o,a,l,(-u-m)/g,f)},b(K,nu),b(K,qf);function xH(e){return decodeURIComponent(escape(e))}let Yw=null,o3=null;function RD(e){return Yw||(Yw=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,o3=new Map([["","t"]])),e.replaceAll(Yw,(t,n,s)=>n?n.normalize("NFKC"):o3.get(s))}function aT(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const e=new Uint8Array(32);return crypto.getRandomValues(e),MD(e)}const lT="pdfjs_internal_id_";function wH(e,t,n){if(!Array.isArray(n)||n.length<2)return!1;const[s,i,...r]=n;if(!e(s)&&!Number.isInteger(s)||!t(i))return!1;const o=r.length;let a=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const l of r)if(!(typeof l=="number"||a&&l===null))return!1;return!0}function Ge(e,t,n){return Math.min(Math.max(e,t),n)}function kD(e){return Uint8Array.prototype.toBase64?e.toBase64():btoa(MD(e))}function bH(e){return Uint8Array.fromBase64?Uint8Array.fromBase64(e):Pg(atob(e))}typeof Promise.try!="function"&&(Promise.try=function(e,...t){return new Promise(n=>{n(e(...t))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(e){return e.reduce((t,n)=>t+n,0)});const Ci="http://www.w3.org/2000/svg",pa=class pa{};$(pa,"CSS",96),$(pa,"PDF",72),$(pa,"PDF_TO_CSS_UNITS",pa.CSS/pa.PDF);let Cr=pa;async function Jh(e,t="text"){if(Ed(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,s)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(t){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class _g{constructor({viewBox:t,userUnit:n,scale:s,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=t,this.userUnit=n,this.scale=s,this.rotation=i,this.offsetX=r,this.offsetY=o,s*=n;const l=(t[2]+t[0])/2,c=(t[3]+t[1])/2;let u,d,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:u=-1,d=0,f=0,p=1;break;case 90:u=0,d=1,f=1,p=0;break;case 270:u=0,d=-1,f=-1,p=0;break;case 0:u=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let m,g,w,y;u===0?(m=Math.abs(c-t[1])*s+r,g=Math.abs(l-t[0])*s+o,w=(t[3]-t[1])*s,y=(t[2]-t[0])*s):(m=Math.abs(l-t[0])*s+r,g=Math.abs(c-t[1])*s+o,w=(t[2]-t[0])*s,y=(t[3]-t[1])*s),this.transform=[u*s,d*s,f*s,p*s,m-u*s*l-f*s*c,g-d*s*l-p*s*c],this.width=w,this.height=y}get rawDims(){const t=this.viewBox;return ot(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:n=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new _g({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:t,rotation:n,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(t,n){const s=[t,n];return K.applyTransform(s,this.transform),s}convertToViewportRectangle(t){const n=[t[0],t[1]];K.applyTransform(n,this.transform);const s=[t[2],t[3]];return K.applyTransform(s,this.transform),[n[0],n[1],s[0],s[1]]}convertToPdfPoint(t,n){const s=[t,n];return K.applyInverseTransform(s,this.transform),s}}class Lx extends oc{constructor(t,n=0){super(t,"RenderingCancelledException"),this.extraDelay=n}}function Mg(e){const t=e.length;let n=0;for(;n<t&&e[n].trim()==="";)n++;return e.substring(n,n+5).toLowerCase()==="data:"}function Dx(e){return typeof e=="string"&&/\.pdf$/i.test(e)}function LD(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function DD(e,t="document.pdf"){if(typeof e!="string")return t;if(Mg(e))return et('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const s=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(e);if(!s)return t;const i=a=>{try{let l=decodeURIComponent(a);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:a):l}catch{return a}},r=/\.pdf$/i,o=s.pathname.split("/").at(-1);if(r.test(o))return i(o);if(s.searchParams.size>0){const a=Array.from(s.searchParams.values()).reverse();for(const c of a)if(r.test(c))return i(c);const l=Array.from(s.searchParams.keys()).reverse();for(const c of l)if(r.test(c))return i(c)}if(s.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(l)return i(l[0])}return t}class a3{constructor(){$(this,"started",Object.create(null));$(this,"times",[])}time(t){t in this.started&&et(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||et(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let n=0;for(const{name:s}of this.times)n=Math.max(s.length,n);for(const{name:s,start:i,end:r}of this.times)t.push(`${s.padEnd(n)} ${r-i}ms
`);return t.join("")}}function Ed(e,t){const n=t?URL.parse(e,t):URL.parse(e);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function vs(e){e.preventDefault()}function Zt(e){e.preventDefault(),e.stopPropagation()}function AH(e){console.log("Deprecated API usage: "+e)}var Kf;class Ix{static toDateObject(t){if(!t||typeof t!="string")return null;h(this,Kf)||A(this,Kf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=h(this,Kf).exec(t);if(!n)return null;const s=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(n[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(n[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(n[5],10);a=a>=0&&a<=59?a:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let u=parseInt(n[8],10);u=u>=0&&u<=23?u:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=u,a+=d):c==="+"&&(o-=u,a-=d),new Date(Date.UTC(s,i,r,o,a,l))}}Kf=new WeakMap,b(Ix,Kf,void 0);function ID(e,{scale:t=1,rotation:n=0}){const{width:s,height:i}=e.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new _g({viewBox:r,userUnit:1,scale:t,rotation:n})}function cT(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map(t=>parseInt(t)):e.startsWith("rgba(")?e.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(et(`Not a valid color format: "${e}"`),[0,0,0])}function SH(e){const t=document.createElement("span");t.style.visibility="hidden",t.style.colorScheme="only light",document.body.append(t);for(const n of e.keys()){t.style.color=n;const s=window.getComputedStyle(t).color;e.set(n,cT(s))}t.remove()}function Vt(e){const{a:t,b:n,c:s,d:i,e:r,f:o}=e.getTransform();return[t,n,s,i,r,o]}function qs(e){const{a:t,b:n,c:s,d:i,e:r,f:o}=e.getTransform().invertSelf();return[t,n,s,i,r,o]}function qo(e,t,n=!1,s=!0){if(t instanceof _g){const{pageWidth:i,pageHeight:r}=t.rawDims,{style:o}=e,a=Te.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${r}px`,u=a?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||t.rotation%180===0?(o.width=u,o.height=d):(o.width=d,o.height=u)}s&&e.setAttribute("data-main-rotation",t.rotation)}class Gs{constructor(){const{pixelRatio:t}=Gs;this.sx=t,this.sy=t}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(t,n,s,i,r=-1){let o=1/0,a=1/0,l=1/0;s=Gs.capPixels(s,r),s>0&&(o=Math.sqrt(s/(t*n))),i!==-1&&(a=i/t,l=i/n);const c=Math.min(o,a,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(t,n){if(n>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return t>0?Math.min(t,s):s}return t}}const Q1=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];var jr,Aa,ns,$r,Qf,su,Zf,dy,ND,fy,FD,py,OD,Sa,Td,iu,O0;const Ri=class Ri{constructor(t){b(this,fy);b(this,py);b(this,Sa);b(this,iu);b(this,jr,null);b(this,Aa,null);b(this,ns,void 0);b(this,$r,null);b(this,Qf,null);b(this,su,null);A(this,ns,t),h(Ri,Zf)||A(Ri,Zf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const t=A(this,jr,document.createElement("div"));t.classList.add("editToolbar","hidden"),t.setAttribute("role","toolbar");const n=h(this,ns)._uiManager._signal;t.addEventListener("contextmenu",vs,{signal:n}),t.addEventListener("pointerdown",C(Ri,dy,ND),{signal:n});const s=A(this,$r,document.createElement("div"));s.className="buttons",t.append(s);const i=h(this,ns).toolbarPosition;if(i){const{style:r}=t,o=h(this,ns)._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return t}get div(){return h(this,jr)}hide(){var t;h(this,jr).classList.add("hidden"),(t=h(this,Aa))==null||t.hideDropdown()}show(){var t;h(this,jr).classList.remove("hidden"),(t=h(this,Qf))==null||t.shown()}addDeleteButton(){const{editorType:t,_uiManager:n}=h(this,ns),s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",h(Ri,Zf)[t]),C(this,Sa,Td).call(this,s),s.addEventListener("click",i=>{n.delete()},{signal:n._signal}),h(this,$r).append(s)}async addAltText(t){const n=await t.render();C(this,Sa,Td).call(this,n),h(this,$r).append(n,h(this,iu,O0)),A(this,Qf,t)}addColorPicker(t){A(this,Aa,t);const n=t.renderButton();C(this,Sa,Td).call(this,n),h(this,$r).append(n,h(this,iu,O0))}async addEditSignatureButton(t){const n=A(this,su,await t.renderEditButton(h(this,ns)));C(this,Sa,Td).call(this,n),h(this,$r).append(n,h(this,iu,O0))}async addButton(t,n){switch(t){case"colorPicker":this.addColorPicker(n);break;case"altText":await this.addAltText(n);break;case"editSignature":await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(t){h(this,su)&&(h(this,su).title=t)}remove(){var t;h(this,jr).remove(),(t=h(this,Aa))==null||t.destroy(),A(this,Aa,null)}};jr=new WeakMap,Aa=new WeakMap,ns=new WeakMap,$r=new WeakMap,Qf=new WeakMap,su=new WeakMap,Zf=new WeakMap,dy=new WeakSet,ND=function(t){t.stopPropagation()},fy=new WeakSet,FD=function(t){h(this,ns)._focusEventsAllowed=!1,Zt(t)},py=new WeakSet,OD=function(t){h(this,ns)._focusEventsAllowed=!0,Zt(t)},Sa=new WeakSet,Td=function(t){const n=h(this,ns)._uiManager._signal;t.addEventListener("focusin",C(this,fy,FD).bind(this),{capture:!0,signal:n}),t.addEventListener("focusout",C(this,py,OD).bind(this),{capture:!0,signal:n}),t.addEventListener("contextmenu",vs,{signal:n})},iu=new WeakSet,O0=function(){const t=document.createElement("div");return t.className="divider",t},b(Ri,dy),b(Ri,Zf,null);let jb=Ri;var Jf,Ea,Ta,my,VD,gy,jD,yy,$D;class EH{constructor(t){b(this,my);b(this,gy);b(this,yy);b(this,Jf,null);b(this,Ea,null);b(this,Ta,void 0);A(this,Ta,t)}show(t,n,s){const[i,r]=C(this,gy,jD).call(this,n,s),{style:o}=h(this,Ea)||A(this,Ea,C(this,my,VD).call(this));t.append(h(this,Ea)),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,Ea).remove()}}Jf=new WeakMap,Ea=new WeakMap,Ta=new WeakMap,my=new WeakSet,VD=function(){const t=A(this,Ea,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",vs,{signal:h(this,Ta)._signal});const n=A(this,Jf,document.createElement("div"));return n.className="buttons",t.append(n),C(this,yy,$D).call(this),t},gy=new WeakSet,jD=function(t,n){let s=0,i=0;for(const r of t){const o=r.y+r.height;if(o<s)continue;const a=r.x+(n?r.width:0);if(o>s){i=a,s=o;continue}n?a>i&&(i=a):a<i&&(i=a)}return[n?1-i:i,s]},yy=new WeakSet,$D=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const n=document.createElement("span");t.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=h(this,Ta)._signal;t.addEventListener("contextmenu",vs,{signal:s}),t.addEventListener("click",()=>{h(this,Ta).highlightSelection("floating_button")},{signal:s}),h(this,Jf).append(t)};function BD(e,t,n){for(const s of n)t.addEventListener(s,e[s].bind(e))}var vy;class TH{constructor(){b(this,vy,0)}get id(){return`${CD}${Ze(this,vy)._++}`}}vy=new WeakMap;var ru,tp,ze,ou,V0;const wT=class wT{constructor(){b(this,ou);b(this,ru,aT());b(this,tp,0);b(this,ze,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=t;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return ot(this,"_isSVGFittingCanvas",r)}async getFromFile(t){const{lastModified:n,name:s,size:i,type:r}=t;return C(this,ou,V0).call(this,`${n}_${s}_${i}_${r}`,t)}async getFromUrl(t){return C(this,ou,V0).call(this,t,t)}async getFromBlob(t,n){const s=await n;return C(this,ou,V0).call(this,t,s)}async getFromId(t){h(this,ze)||A(this,ze,new Map);const n=h(this,ze).get(t);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:s}=n;return delete n.blobPromise,this.getFromBlob(n.id,s)}return this.getFromUrl(n.url)}getFromCanvas(t,n){h(this,ze)||A(this,ze,new Map);let s=h(this,ze).get(t);if(s!=null&&s.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${h(this,ru)}_${Ze(this,tp)._++}`,refCounter:1,isSvg:!1},h(this,ze).set(t,s),h(this,ze).set(s.id,s),s}getSvgUrl(t){const n=h(this,ze).get(t);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(t){var i;h(this,ze)||A(this,ze,new Map);const n=h(this,ze).get(t);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:s}=n;if(!n.url&&!n.file){const r=new OffscreenCanvas(s.width,s.height);r.getContext("bitmaprenderer").transferFromImageBitmap(s),n.blobPromise=r.convertToBlob()}(i=s.close)==null||i.call(s),n.bitmap=null}isValidId(t){return t.startsWith(`image_${h(this,ru)}_`)}};ru=new WeakMap,tp=new WeakMap,ze=new WeakMap,ou=new WeakSet,V0=async function(t,n){h(this,ze)||A(this,ze,new Map);let s=h(this,ze).get(t);if(s===null)return null;if(s!=null&&s.bitmap)return s.refCounter+=1,s;try{s||(s={bitmap:null,id:`image_${h(this,ru)}_${Ze(this,tp)._++}`,refCounter:0,isSvg:!1});let i;if(typeof n=="string"?(s.url=n,i=await Jh(n,"blob")):n instanceof File?i=s.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const r=wT._isSVGFittingCanvas,o=new FileReader,a=new Image,l=new Promise((c,u)=>{a.onload=()=>{s.bitmap=a,s.isSvg=!0,c()},o.onload=async()=>{const d=s.svgUrl=o.result;a.src=await r?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=u});o.readAsDataURL(i),await l}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){et(i),s=null}return h(this,ze).set(t,s),s&&h(this,ze).set(s.id,s),s};let $b=wT;var qt,Br,ep,Ot;class CH{constructor(t=128){b(this,qt,[]);b(this,Br,!1);b(this,ep,void 0);b(this,Ot,-1);A(this,ep,t)}add({cmd:t,undo:n,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(i&&t(),h(this,Br))return;const l={cmd:t,undo:n,post:s,type:r};if(h(this,Ot)===-1){h(this,qt).length>0&&(h(this,qt).length=0),A(this,Ot,0),h(this,qt).push(l);return}if(o&&h(this,qt)[h(this,Ot)].type===r){a&&(l.undo=h(this,qt)[h(this,Ot)].undo),h(this,qt)[h(this,Ot)]=l;return}const c=h(this,Ot)+1;c===h(this,ep)?h(this,qt).splice(0,1):(A(this,Ot,c),c<h(this,qt).length&&h(this,qt).splice(c)),h(this,qt).push(l)}undo(){if(h(this,Ot)===-1)return;A(this,Br,!0);const{undo:t,post:n}=h(this,qt)[h(this,Ot)];t(),n==null||n(),A(this,Br,!1),A(this,Ot,h(this,Ot)-1)}redo(){if(h(this,Ot)<h(this,qt).length-1){A(this,Ot,h(this,Ot)+1),A(this,Br,!0);const{cmd:t,post:n}=h(this,qt)[h(this,Ot)];t(),n==null||n(),A(this,Br,!1)}}hasSomethingToUndo(){return h(this,Ot)!==-1}hasSomethingToRedo(){return h(this,Ot)<h(this,qt).length-1}cleanType(t){if(h(this,Ot)!==-1){for(let n=h(this,Ot);n>=0;n--)if(h(this,qt)[n].type!==t){h(this,qt).splice(n+1,h(this,Ot)-n),A(this,Ot,n);return}h(this,qt).length=0,A(this,Ot,-1)}}destroy(){A(this,qt,null)}}qt=new WeakMap,Br=new WeakMap,ep=new WeakMap,Ot=new WeakMap;var xy,zD;class Rg{constructor(t){b(this,xy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Te.platform;for(const[s,i,r={}]of t)for(const o of s){const a=o.startsWith("mac+");n&&a?(this.callbacks.set(o.slice(4),{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1))):!n&&!a&&(this.callbacks.set(o,{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1)))}}exec(t,n){if(!this.allKeys.has(n.key))return;const s=this.callbacks.get(C(this,xy,zD).call(this,n));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:o=[],checker:a=null}}=s;a&&!a(t,n)||(i.bind(t,...o,n)(),r||Zt(n))}}xy=new WeakSet,zD=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const wy=class wy{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return SH(t),ot(this,"_colors",t)}convert(t){const n=cT(t);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[s,i]of this._colors)if(i.every((r,o)=>r===n[o]))return wy._colorsMapping.get(s);return n}getHexCode(t){const n=this._colors.get(t);return n?K.makeHexColor(...n):t}};$(wy,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Bb=wy;var au,_n,ue,Pe,lu,Di,cu,ss,zr,Ur,uu,Ca,ti,Es,Pa,np,sp,hu,ip,ei,Hr,du,Wr,ni,by,Gr,rp,Xr,_a,Ma,Yr,op,me,gt,Ii,qr,Ra,ap,lp,Kr,si,Ni,cp,up,is,fu,j0,hp,zb,Ay,UD,Sy,HD,pu,$0,Ey,WD,Ty,GD,Cy,XD,dp,Ub,Py,YD,fp,Hb,pp,Wb,_y,qD,_e,Je,Ts,Pi,My,KD,Ry,QD,mp,Gb,ky,ZD,ka,Cd,gp,Xb;const $c=class $c{constructor(t,n,s,i,r,o,a,l,c,u,d,f,p,m,g){b(this,fu);b(this,hp);b(this,Ay);b(this,Sy);b(this,pu);b(this,Ey);b(this,Ty);b(this,Cy);b(this,dp);b(this,Py);b(this,fp);b(this,pp);b(this,_y);b(this,_e);b(this,Ts);b(this,My);b(this,Ry);b(this,mp);b(this,ky);b(this,ka);b(this,gp);b(this,au,new AbortController);b(this,_n,null);b(this,ue,new Map);b(this,Pe,new Map);b(this,lu,null);b(this,Di,null);b(this,cu,null);b(this,ss,new CH);b(this,zr,null);b(this,Ur,null);b(this,uu,0);b(this,Ca,new Set);b(this,ti,null);b(this,Es,null);b(this,Pa,new Set);$(this,"_editorUndoBar",null);b(this,np,!1);b(this,sp,!1);b(this,hu,!1);b(this,ip,null);b(this,ei,null);b(this,Hr,null);b(this,du,null);b(this,Wr,!1);b(this,ni,null);b(this,by,new TH);b(this,Gr,!1);b(this,rp,!1);b(this,Xr,null);b(this,_a,null);b(this,Ma,null);b(this,Yr,null);b(this,op,null);b(this,me,tt.NONE);b(this,gt,new Set);b(this,Ii,null);b(this,qr,null);b(this,Ra,null);b(this,ap,null);b(this,lp,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});b(this,Kr,[0,0]);b(this,si,null);b(this,Ni,null);b(this,cp,null);b(this,up,null);b(this,is,null);const w=this._signal=h(this,au).signal;A(this,Ni,t),A(this,cp,n),A(this,up,s),A(this,lu,i),A(this,qr,r),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:w}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),o._on("setpreference",this.onSetPreference.bind(this),{signal:w}),o._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:w}),C(this,Ey,WD).call(this),C(this,_y,qD).call(this),C(this,dp,Ub).call(this),A(this,Di,a.annotationStorage),A(this,ip,a.filterFactory),A(this,Ra,l),A(this,du,c||null),A(this,np,u),A(this,sp,d),A(this,hu,f),A(this,op,p||null),this.viewParameters={realScale:Cr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=m||null,this._supportsPinchToZoom=g!==!1}static get _keyboardManager(){const t=$c.prototype,n=o=>h(o,Ni).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:l}=a;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return ot(this,"_keyboardManager",new Rg([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,Ni).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&h(o,Ni).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:n}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:n}]]))}destroy(){var t,n,s,i,r,o,a,l;(t=h(this,is))==null||t.resolve(),A(this,is,null),(n=h(this,au))==null||n.abort(),A(this,au,null),this._signal=null;for(const c of h(this,Pe).values())c.destroy();h(this,Pe).clear(),h(this,ue).clear(),h(this,Pa).clear(),(s=h(this,Yr))==null||s.clear(),A(this,_n,null),h(this,gt).clear(),h(this,ss).destroy(),(i=h(this,lu))==null||i.destroy(),(r=h(this,qr))==null||r.destroy(),(o=h(this,ni))==null||o.hide(),A(this,ni,null),(a=h(this,Ma))==null||a.destroy(),A(this,Ma,null),h(this,ei)&&(clearTimeout(h(this,ei)),A(this,ei,null)),h(this,si)&&(clearTimeout(h(this,si)),A(this,si,null)),(l=this._editorUndoBar)==null||l.destroy()}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return h(this,op)}get useNewAltTextFlow(){return h(this,sp)}get useNewAltTextWhenAddingImage(){return h(this,hu)}get hcmFilter(){return ot(this,"hcmFilter",h(this,Ra)?h(this,ip).addHCMFilter(h(this,Ra).foreground,h(this,Ra).background):"none")}get direction(){return ot(this,"direction",getComputedStyle(h(this,Ni)).direction)}get highlightColors(){return ot(this,"highlightColors",h(this,du)?new Map(h(this,du).split(",").map(t=>(t=t.split("=").map(n=>n.trim()),t[1]=t[1].toUpperCase(),t))):null)}get highlightColorNames(){return ot(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setCurrentDrawingSession(t){t?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),A(this,Ur,t)}setMainHighlightColorPicker(t){A(this,Ma,t)}editAltText(t,n=!1){var s;(s=h(this,lu))==null||s.editAltText(this,t,n)}getSignature(t){var n;(n=h(this,qr))==null||n.getSignature({uiManager:this,editor:t})}get signatureManager(){return h(this,qr)}switchToMode(t,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,n){this._eventBus.dispatch("setpreference",{source:this,name:t,value:n})}onSetPreference({name:t,value:n}){switch(t){case"enableNewAltTextWhenAddingImage":A(this,hu,n);break}}onPageChanging({pageNumber:t}){A(this,uu,t-1)}focusMainContainer(){h(this,Ni).focus()}findParent(t,n){for(const s of h(this,Pe).values()){const{x:i,y:r,width:o,height:a}=s.div.getBoundingClientRect();if(t>=i&&t<=i+o&&n>=r&&n<=r+a)return s}return null}disableUserSelect(t=!1){h(this,cp).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,Pa).add(t)}removeShouldRescale(t){h(this,Pa).delete(t)}onScaleChanging({scale:t}){var n;this.commitOrRemove(),this.viewParameters.realScale=t*Cr.PDF_TO_CSS_UNITS;for(const s of h(this,Pa))s.onScaleChanging();(n=h(this,Ur))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const n=document.getSelection();if(!n||n.isCollapsed)return;const{anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:o}=n,a=n.toString(),c=C(this,fu,j0).call(this,n).closest(".textLayer"),u=this.getSelectionBoxes(c);if(!u)return;n.empty();const d=C(this,hp,zb).call(this,c),f=h(this,me)===tt.NONE,p=()=>{d==null||d.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:u,anchorNode:s,anchorOffset:i,focusNode:r,focusOffset:o,text:a}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(tt.HIGHLIGHT,p);return}p()}addToAnnotationStorage(t){!t.isEmpty()&&h(this,Di)&&!h(this,Di).has(t.id)&&h(this,Di).setValue(t.id,t)}a11yAlert(t,n=null){const s=h(this,up);s&&(s.setAttribute("data-l10n-id",t),n?s.setAttribute("data-l10n-args",JSON.stringify(n)):s.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,h(this,Wr)&&(A(this,Wr,!1),C(this,pu,$0).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const n of h(this,gt))if(n.div.contains(t)){A(this,_a,[n,t]),n._focusEventsAllowed=!1;break}}focus(){if(!h(this,_a))return;const[t,n]=h(this,_a);A(this,_a,null),n.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){C(this,dp,Ub).call(this),C(this,fp,Hb).call(this)}removeEditListeners(){C(this,Py,YD).call(this),C(this,pp,Wb).call(this)}dragOver(t){for(const{type:n}of t.dataTransfer.items)for(const s of h(this,Es))if(s.isHandlingMimeForPasting(n)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const n of t.dataTransfer.items)for(const s of h(this,Es))if(s.isHandlingMimeForPasting(n.type)){s.paste(n,this.currentLayer),t.preventDefault();return}}copy(t){var s;if(t.preventDefault(),(s=h(this,_n))==null||s.commitOrRemove(),!this.hasSelection)return;const n=[];for(const i of h(this,gt)){const r=i.serialize(!0);r&&n.push(r)}n.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(t){this.copy(t),this.delete()}async paste(t){t.preventDefault();const{clipboardData:n}=t;for(const r of n.items)for(const o of h(this,Es))if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let s=n.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){et(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const l of s){const c=await i.deserialize(l);if(!c)return;r.push(c)}const o=()=>{for(const l of r)C(this,mp,Gb).call(this,l);C(this,gp,Xb).call(this,r)},a=()=>{for(const l of r)l.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(r){et(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,me)!==tt.NONE&&!this.isEditorHandlingKeyboard&&$c._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Wr)&&(A(this,Wr,!1),C(this,pu,$0).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(C(this,Ty,GD).call(this),C(this,fp,Hb).call(this),C(this,_e,Je).call(this,{isEditing:h(this,me)!==tt.NONE,isEmpty:C(this,ka,Cd).call(this),hasSomethingToUndo:h(this,ss).hasSomethingToUndo(),hasSomethingToRedo:h(this,ss).hasSomethingToRedo(),hasSelectedEditor:!1})):(C(this,Cy,XD).call(this),C(this,pp,Wb).call(this),C(this,_e,Je).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,Es)){A(this,Es,t);for(const n of h(this,Es))C(this,Ts,Pi).call(this,n.defaultPropertiesToUpdate)}}getId(){return h(this,by).id}get currentLayer(){return h(this,Pe).get(h(this,uu))}getLayer(t){return h(this,Pe).get(t)}get currentPageIndex(){return h(this,uu)}addLayer(t){h(this,Pe).set(t.pageIndex,t),h(this,Gr)?t.enable():t.disable()}removeLayer(t){h(this,Pe).delete(t.pageIndex)}async updateMode(t,n=null,s=!1,i=!1){var r,o,a;if(h(this,me)!==t&&!(h(this,is)&&(await h(this,is).promise,!h(this,is)))){if(A(this,is,Promise.withResolvers()),(r=h(this,Ur))==null||r.commitOrRemove(),A(this,me,t),t===tt.NONE){this.setEditingState(!1),C(this,Ry,QD).call(this),(o=this._editorUndoBar)==null||o.hide(),h(this,is).resolve();return}t===tt.SIGNATURE&&await((a=h(this,qr))==null?void 0:a.loadSignatures()),this.setEditingState(!0),await C(this,My,KD).call(this),this.unselectAll();for(const l of h(this,Pe).values())l.updateMode(t);if(!n){s&&this.addNewEditorFromKeyboard(),h(this,is).resolve();return}for(const l of h(this,ue).values())l.annotationElementId===n||l.id===n?(this.setSelected(l),i&&l.enterInEditMode()):l.unselect();h(this,is).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t.mode!==h(this,me)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...t})}updateParams(t,n){var s;if(h(this,Es)){switch(t){case lt.CREATE:this.currentLayer.addNewEditor(n);return;case lt.HIGHLIGHT_DEFAULT_COLOR:(s=h(this,Ma))==null||s.updateColor(n);break;case lt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,ap)||A(this,ap,new Map)).set(t,n),this.showAllEditors("highlight",n);break}for(const i of h(this,gt))i.updateParams(t,n);for(const i of h(this,Es))i.updateDefaultParams(t,n)}}showAllEditors(t,n,s=!1){var r;for(const o of h(this,ue).values())o.editorType===t&&o.show(n);(((r=h(this,ap))==null?void 0:r.get(lt.HIGHLIGHT_SHOW_ALL))??!0)!==n&&C(this,Ts,Pi).call(this,[[lt.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(t=!1){if(h(this,rp)!==t){A(this,rp,t);for(const n of h(this,Pe).values())t?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",t)}}getEditors(t){const n=[];for(const s of h(this,ue).values())s.pageIndex===t&&n.push(s);return n}getEditor(t){return h(this,ue).get(t)}addEditor(t){h(this,ue).set(t.id,t)}removeEditor(t){var n,s;t.div.contains(document.activeElement)&&(h(this,ei)&&clearTimeout(h(this,ei)),A(this,ei,setTimeout(()=>{this.focusMainContainer(),A(this,ei,null)},0))),h(this,ue).delete(t.id),t.annotationElementId&&((n=h(this,Yr))==null||n.delete(t.annotationElementId)),this.unselect(t),(!t.annotationElementId||!h(this,Ca).has(t.annotationElementId))&&((s=h(this,Di))==null||s.remove(t.id))}addDeletedAnnotationElement(t){h(this,Ca).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Ca).has(t)}removeDeletedAnnotationElement(t){h(this,Ca).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,_n)!==t&&(A(this,_n,t),t&&C(this,Ts,Pi).call(this,t.propertiesToUpdate))}updateUI(t){h(this,ky,ZD)===t&&C(this,Ts,Pi).call(this,t.propertiesToUpdate)}updateUIForDefaultProperties(t){C(this,Ts,Pi).call(this,t.defaultPropertiesToUpdate)}toggleSelected(t){if(h(this,gt).has(t)){h(this,gt).delete(t),t.unselect(),C(this,_e,Je).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,gt).add(t),t.select(),C(this,Ts,Pi).call(this,t.propertiesToUpdate),C(this,_e,Je).call(this,{hasSelectedEditor:!0})}setSelected(t){var n;this.updateToolbar({mode:t.mode,editId:t.id}),(n=h(this,Ur))==null||n.commitOrRemove();for(const s of h(this,gt))s!==t&&s.unselect();h(this,gt).clear(),h(this,gt).add(t),t.select(),C(this,Ts,Pi).call(this,t.propertiesToUpdate),C(this,_e,Je).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,gt).has(t)}get firstSelectedEditor(){return h(this,gt).values().next().value}unselect(t){t.unselect(),h(this,gt).delete(t),C(this,_e,Je).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,gt).size!==0}get isEnterHandled(){return h(this,gt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var t;h(this,ss).undo(),C(this,_e,Je).call(this,{hasSomethingToUndo:h(this,ss).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:C(this,ka,Cd).call(this)}),(t=this._editorUndoBar)==null||t.hide()}redo(){h(this,ss).redo(),C(this,_e,Je).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,ss).hasSomethingToRedo(),isEmpty:C(this,ka,Cd).call(this)})}addCommands(t){h(this,ss).add(t),C(this,_e,Je).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:C(this,ka,Cd).call(this)})}cleanUndoStack(t){h(this,ss).cleanType(t)}delete(){var r;this.commitOrRemove();const t=(r=this.currentLayer)==null?void 0:r.endDrawingSession(!0);if(!this.hasSelection&&!t)return;const n=t?[t]:[...h(this,gt)],s=()=>{var o;(o=this._editorUndoBar)==null||o.show(i,n.length===1?n[0].editorType:n.length);for(const a of n)a.remove()},i=()=>{for(const o of n)C(this,mp,Gb).call(this,o)};this.addCommands({cmd:s,undo:i,mustExec:!0})}commitOrRemove(){var t;(t=h(this,_n))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,_n)||this.hasSelection}selectAll(){for(const t of h(this,gt))t.commit();C(this,gp,Xb).call(this,h(this,ue).values())}unselectAll(){var t;if(!(h(this,_n)&&(h(this,_n).commitOrRemove(),h(this,me)!==tt.NONE))&&!((t=h(this,Ur))!=null&&t.commitOrRemove())&&this.hasSelection){for(const n of h(this,gt))n.unselect();h(this,gt).clear(),C(this,_e,Je).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,n,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;h(this,Kr)[0]+=t,h(this,Kr)[1]+=n;const[i,r]=h(this,Kr),o=[...h(this,gt)],a=1e3;h(this,si)&&clearTimeout(h(this,si)),A(this,si,setTimeout(()=>{A(this,si,null),h(this,Kr)[0]=h(this,Kr)[1]=0,this.addCommands({cmd:()=>{for(const l of o)h(this,ue).has(l.id)&&(l.translateInPage(i,r),l.translationDone())},undo:()=>{for(const l of o)h(this,ue).has(l.id)&&(l.translateInPage(-i,-r),l.translationDone())},mustExec:!1})},a));for(const l of o)l.translateInPage(t,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),A(this,ti,new Map);for(const t of h(this,gt))h(this,ti).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,ti))return!1;this.disableUserSelect(!1);const t=h(this,ti);A(this,ti,null);let n=!1;for(const[{x:i,y:r,pageIndex:o},a]of t)a.newX=i,a.newY=r,a.newPageIndex=o,n||(n=i!==a.savedX||r!==a.savedY||o!==a.savedPageIndex);if(!n)return!1;const s=(i,r,o,a)=>{if(h(this,ue).has(i.id)){const l=h(this,Pe).get(a);l?i._setParentAndPosition(l,r,o):(i.pageIndex=a,i.x=r,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:o,newPageIndex:a}]of t)s(i,r,o,a)},undo:()=>{for(const[i,{savedX:r,savedY:o,savedPageIndex:a}]of t)s(i,r,o,a)},mustExec:!0}),!0}dragSelectedEditors(t,n){if(h(this,ti))for(const s of h(this,ti).keys())s.drag(t,n)}rebuild(t){if(t.parent===null){const n=this.getLayer(t.pageIndex);n?(n.changeParent(t),n.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,gt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,_n)===t}getActive(){return h(this,_n)}getMode(){return h(this,me)}get imageManager(){return ot(this,"imageManager",new $b)}getSelectionBoxes(t){if(!t)return null;const n=document.getSelection();for(let c=0,u=n.rangeCount;c<u;c++)if(!t.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:o}=t.getBoundingClientRect();let a;switch(t.getAttribute("data-main-rotation")){case"90":a=(c,u,d,f)=>({x:(u-i)/o,y:1-(c+d-s)/r,width:f/o,height:d/r});break;case"180":a=(c,u,d,f)=>({x:1-(c+d-s)/r,y:1-(u+f-i)/o,width:d/r,height:f/o});break;case"270":a=(c,u,d,f)=>({x:1-(u+f-i)/o,y:(c-s)/r,width:f/o,height:d/r});break;default:a=(c,u,d,f)=>({x:(c-s)/r,y:(u-i)/o,width:d/r,height:f/o});break}const l=[];for(let c=0,u=n.rangeCount;c<u;c++){const d=n.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:m,height:g}of d.getClientRects())m===0||g===0||l.push(a(f,p,m,g))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:n}){(h(this,cu)||A(this,cu,new Map)).set(t,n)}removeChangedExistingAnnotation({annotationElementId:t}){var n;(n=h(this,cu))==null||n.delete(t)}renderAnnotationElement(t){var i;const n=(i=h(this,cu))==null?void 0:i.get(t.data.id);if(!n)return;const s=h(this,Di).getRawValue(n);s&&(h(this,me)===tt.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}setMissingCanvas(t,n,s){var r;const i=(r=h(this,Yr))==null?void 0:r.get(t);i&&(i.setCanvas(n,s),h(this,Yr).delete(t))}addMissingCanvas(t,n){(h(this,Yr)||A(this,Yr,new Map)).set(t,n)}};au=new WeakMap,_n=new WeakMap,ue=new WeakMap,Pe=new WeakMap,lu=new WeakMap,Di=new WeakMap,cu=new WeakMap,ss=new WeakMap,zr=new WeakMap,Ur=new WeakMap,uu=new WeakMap,Ca=new WeakMap,ti=new WeakMap,Es=new WeakMap,Pa=new WeakMap,np=new WeakMap,sp=new WeakMap,hu=new WeakMap,ip=new WeakMap,ei=new WeakMap,Hr=new WeakMap,du=new WeakMap,Wr=new WeakMap,ni=new WeakMap,by=new WeakMap,Gr=new WeakMap,rp=new WeakMap,Xr=new WeakMap,_a=new WeakMap,Ma=new WeakMap,Yr=new WeakMap,op=new WeakMap,me=new WeakMap,gt=new WeakMap,Ii=new WeakMap,qr=new WeakMap,Ra=new WeakMap,ap=new WeakMap,lp=new WeakMap,Kr=new WeakMap,si=new WeakMap,Ni=new WeakMap,cp=new WeakMap,up=new WeakMap,is=new WeakMap,fu=new WeakSet,j0=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},hp=new WeakSet,zb=function(t){const{currentLayer:n}=this;if(n.hasTextLayer(t))return n;for(const s of h(this,Pe).values())if(s.hasTextLayer(t))return s;return null},Ay=new WeakSet,UD=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const s=C(this,fu,j0).call(this,t).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(h(this,ni)||A(this,ni,new EH(this)),h(this,ni).show(s,i,this.direction==="ltr"))},Sy=new WeakSet,HD=function(){var r,o,a;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Ii)&&((r=h(this,ni))==null||r.hide(),A(this,Ii,null),C(this,_e,Je).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=t;if(n===h(this,Ii))return;const i=C(this,fu,j0).call(this,t).closest(".textLayer");if(!i){h(this,Ii)&&((o=h(this,ni))==null||o.hide(),A(this,Ii,null),C(this,_e,Je).call(this,{hasSelectedText:!1}));return}if((a=h(this,ni))==null||a.hide(),A(this,Ii,n),C(this,_e,Je).call(this,{hasSelectedText:!0}),!(h(this,me)!==tt.HIGHLIGHT&&h(this,me)!==tt.NONE)&&(h(this,me)===tt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),A(this,Wr,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=h(this,me)===tt.HIGHLIGHT?C(this,hp,zb).call(this,i):null;l==null||l.toggleDrawing();const c=new AbortController,u=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&C(this,pu,$0).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:u}),window.addEventListener("blur",d,{signal:u})}},pu=new WeakSet,$0=function(t=""){h(this,me)===tt.HIGHLIGHT?this.highlightSelection(t):h(this,np)&&C(this,Ay,UD).call(this)},Ey=new WeakSet,WD=function(){document.addEventListener("selectionchange",C(this,Sy,HD).bind(this),{signal:this._signal})},Ty=new WeakSet,GD=function(){if(h(this,Hr))return;A(this,Hr,new AbortController);const t=this.combinedSignal(h(this,Hr));window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})},Cy=new WeakSet,XD=function(){var t;(t=h(this,Hr))==null||t.abort(),A(this,Hr,null)},dp=new WeakSet,Ub=function(){if(h(this,Xr))return;A(this,Xr,new AbortController);const t=this.combinedSignal(h(this,Xr));window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})},Py=new WeakSet,YD=function(){var t;(t=h(this,Xr))==null||t.abort(),A(this,Xr,null)},fp=new WeakSet,Hb=function(){if(h(this,zr))return;A(this,zr,new AbortController);const t=this.combinedSignal(h(this,zr));document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})},pp=new WeakSet,Wb=function(){var t;(t=h(this,zr))==null||t.abort(),A(this,zr,null)},_y=new WeakSet,qD=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},_e=new WeakSet,Je=function(t){Object.entries(t).some(([s,i])=>h(this,lp)[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,lp),t)}),h(this,me)===tt.HIGHLIGHT&&t.hasSelectedEditor===!1&&C(this,Ts,Pi).call(this,[[lt.HIGHLIGHT_FREE,!0]]))},Ts=new WeakSet,Pi=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},My=new WeakSet,KD=async function(){if(!h(this,Gr)){A(this,Gr,!0);const t=[];for(const n of h(this,Pe).values())t.push(n.enable());await Promise.all(t);for(const n of h(this,ue).values())n.enable()}},Ry=new WeakSet,QD=function(){if(this.unselectAll(),h(this,Gr)){A(this,Gr,!1);for(const t of h(this,Pe).values())t.disable();for(const t of h(this,ue).values())t.disable()}},mp=new WeakSet,Gb=function(t){const n=h(this,Pe).get(t.pageIndex);n?n.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},ky=new WeakSet,ZD=function(){let t=null;for(t of h(this,gt));return t},ka=new WeakSet,Cd=function(){if(h(this,ue).size===0)return!0;if(h(this,ue).size===1)for(const t of h(this,ue).values())return t.isEmpty();return!1},gp=new WeakSet,Xb=function(t){for(const n of h(this,gt))n.unselect();h(this,gt).clear();for(const n of t)n.isEmpty()||(h(this,gt).add(n),n.select());C(this,_e,Je).call(this,{hasSelectedEditor:this.hasSelection})},$($c,"TRANSLATE_SMALL",1),$($c,"TRANSLATE_BIG",10);let Ko=$c;var ge,ii,Cs,mu,ri,Mn,gu,oi,gn,Fi,La,ai,Qr,Da,Pd,yu,B0;const tn=class tn{constructor(t){b(this,Da);b(this,yu);b(this,ge,null);b(this,ii,!1);b(this,Cs,null);b(this,mu,null);b(this,ri,null);b(this,Mn,null);b(this,gu,!1);b(this,oi,null);b(this,gn,null);b(this,Fi,null);b(this,La,null);b(this,ai,!1);A(this,gn,t),A(this,ai,t._uiManager.useNewAltTextFlow),h(tn,Qr)||A(tn,Qr,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(t){tn._l10n??(tn._l10n=t)}async render(){const t=A(this,Cs,document.createElement("button"));t.className="altText",t.tabIndex="0";const n=A(this,mu,document.createElement("span"));t.append(n),h(this,ai)?(t.classList.add("new"),t.setAttribute("data-l10n-id",h(tn,Qr).missing),n.setAttribute("data-l10n-id",h(tn,Qr)["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=h(this,gn)._uiManager._signal;t.addEventListener("contextmenu",vs,{signal:s}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),h(this,gn)._uiManager.editAltText(h(this,gn)),h(this,ai)&&h(this,gn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:h(this,Da,Pd)}})};return t.addEventListener("click",i,{capture:!0,signal:s}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(A(this,gu,!0),i(r))},{signal:s}),await C(this,yu,B0).call(this),t}finish(){h(this,Cs)&&(h(this,Cs).focus({focusVisible:h(this,gu)}),A(this,gu,!1))}isEmpty(){return h(this,ai)?h(this,ge)===null:!h(this,ge)&&!h(this,ii)}hasData(){return h(this,ai)?h(this,ge)!==null||!!h(this,Fi):this.isEmpty()}get guessedText(){return h(this,Fi)}async setGuessedText(t){h(this,ge)===null&&(A(this,Fi,t),A(this,La,await tn._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t})),C(this,yu,B0).call(this))}toggleAltTextBadge(t=!1){var n;if(!h(this,ai)||h(this,ge)){(n=h(this,oi))==null||n.remove(),A(this,oi,null);return}if(!h(this,oi)){const s=A(this,oi,document.createElement("div"));s.className="noAltTextBadge",h(this,gn).div.append(s)}h(this,oi).classList.toggle("hidden",!t)}serialize(t){let n=h(this,ge);return!t&&h(this,Fi)===n&&(n=h(this,La)),{altText:n,decorative:h(this,ii),guessedText:h(this,Fi),textWithDisclaimer:h(this,La)}}get data(){return{altText:h(this,ge),decorative:h(this,ii)}}set data({altText:t,decorative:n,guessedText:s,textWithDisclaimer:i,cancel:r=!1}){s&&(A(this,Fi,s),A(this,La,i)),!(h(this,ge)===t&&h(this,ii)===n)&&(r||(A(this,ge,t),A(this,ii,n)),C(this,yu,B0).call(this))}toggle(t=!1){h(this,Cs)&&(!t&&h(this,Mn)&&(clearTimeout(h(this,Mn)),A(this,Mn,null)),h(this,Cs).disabled=!t)}shown(){h(this,gn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:h(this,Da,Pd)}})}destroy(){var t,n;(t=h(this,Cs))==null||t.remove(),A(this,Cs,null),A(this,mu,null),A(this,ri,null),(n=h(this,oi))==null||n.remove(),A(this,oi,null)}};ge=new WeakMap,ii=new WeakMap,Cs=new WeakMap,mu=new WeakMap,ri=new WeakMap,Mn=new WeakMap,gu=new WeakMap,oi=new WeakMap,gn=new WeakMap,Fi=new WeakMap,La=new WeakMap,ai=new WeakMap,Qr=new WeakMap,Da=new WeakSet,Pd=function(){return h(this,ge)&&"added"||h(this,ge)===null&&this.guessedText&&"review"||"missing"},yu=new WeakSet,B0=async function(){var i,r,o;const t=h(this,Cs);if(!t)return;if(h(this,ai)){if(t.classList.toggle("done",!!h(this,ge)),t.setAttribute("data-l10n-id",h(tn,Qr)[h(this,Da,Pd)]),(i=h(this,mu))==null||i.setAttribute("data-l10n-id",h(tn,Qr)[`${h(this,Da,Pd)}-label`]),!h(this,ge)){(r=h(this,ri))==null||r.remove();return}}else{if(!h(this,ge)&&!h(this,ii)){t.classList.remove("done"),(o=h(this,ri))==null||o.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=h(this,ri);if(!n){A(this,ri,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${h(this,gn).id}`;const a=100,l=h(this,gn)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(h(this,Mn)),A(this,Mn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{A(this,Mn,setTimeout(()=>{A(this,Mn,null),h(this,ri).classList.add("show"),h(this,gn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:l}),t.addEventListener("mouseleave",()=>{var c;h(this,Mn)&&(clearTimeout(h(this,Mn)),A(this,Mn,null)),(c=h(this,ri))==null||c.classList.remove("show")},{signal:l})}h(this,ii)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=h(this,ge)),n.parentNode||t.append(n);const s=h(this,gn).getElementForAltText();s==null||s.setAttribute("aria-describedby",n.id)},b(tn,Qr,null),$(tn,"_l10n",null);let Z1=tn;var vu,Ia,yp,vp,xp,wp,bp,Oi,Na,Vi,Fa,ji,Ly,JD,Dy,t6,Iy,e6;const bT=class bT{constructor({container:t,isPinchingDisabled:n=null,isPinchingStopped:s=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:o=null,signal:a}){b(this,Ly);b(this,Dy);b(this,Iy);b(this,vu,void 0);b(this,Ia,!1);b(this,yp,null);b(this,vp,void 0);b(this,xp,void 0);b(this,wp,void 0);b(this,bp,void 0);b(this,Oi,null);b(this,Na,void 0);b(this,Vi,null);b(this,Fa,void 0);b(this,ji,null);A(this,vu,t),A(this,yp,s),A(this,vp,n),A(this,xp,i),A(this,wp,r),A(this,bp,o),A(this,Fa,new AbortController),A(this,Na,AbortSignal.any([a,h(this,Fa).signal])),t.addEventListener("touchstart",C(this,Ly,JD).bind(this),{passive:!1,signal:h(this,Na)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Gs.pixelRatio}destroy(){var t,n;(t=h(this,Fa))==null||t.abort(),A(this,Fa,null),(n=h(this,Oi))==null||n.abort(),A(this,Oi,null)}};vu=new WeakMap,Ia=new WeakMap,yp=new WeakMap,vp=new WeakMap,xp=new WeakMap,wp=new WeakMap,bp=new WeakMap,Oi=new WeakMap,Na=new WeakMap,Vi=new WeakMap,Fa=new WeakMap,ji=new WeakMap,Ly=new WeakSet,JD=function(t){var i,r,o;if((i=h(this,vp))!=null&&i.call(this))return;if(t.touches.length===1){if(h(this,Oi))return;const a=A(this,Oi,new AbortController),l=AbortSignal.any([h(this,Na),a.signal]),c=h(this,vu),u={capture:!0,signal:l,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=h(this,Oi))==null||p.abort(),A(this,Oi,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(Zt(f),d(f))},u),c.addEventListener("pointerup",d,u),c.addEventListener("pointercancel",d,u);return}if(!h(this,ji)){A(this,ji,new AbortController);const a=AbortSignal.any([h(this,Na),h(this,ji).signal]),l=h(this,vu),c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",C(this,Dy,t6).bind(this),c);const u=C(this,Iy,e6).bind(this);l.addEventListener("touchend",u,c),l.addEventListener("touchcancel",u,c),c.capture=!0,l.addEventListener("pointerdown",Zt,c),l.addEventListener("pointermove",Zt,c),l.addEventListener("pointercancel",Zt,c),l.addEventListener("pointerup",Zt,c),(r=h(this,xp))==null||r.call(this)}if(Zt(t),t.touches.length!==2||(o=h(this,yp))!=null&&o.call(this)){A(this,Vi,null);return}let[n,s]=t.touches;n.identifier>s.identifier&&([n,s]=[s,n]),A(this,Vi,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:s.screenX,touch1Y:s.screenY})},Dy=new WeakSet,t6=function(t){var S;if(!h(this,Vi)||t.touches.length!==2)return;Zt(t);let[n,s]=t.touches;n.identifier>s.identifier&&([n,s]=[s,n]);const{screenX:i,screenY:r}=n,{screenX:o,screenY:a}=s,l=h(this,Vi),{touch0X:c,touch0Y:u,touch1X:d,touch1Y:f}=l,p=d-c,m=f-u,g=o-i,w=a-r,y=Math.hypot(g,w)||1,x=Math.hypot(p,m)||1;if(!h(this,Ia)&&Math.abs(x-y)<=bT.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=r,l.touch1X=o,l.touch1Y=a,!h(this,Ia)){A(this,Ia,!0);return}const v=[(i+o)/2,(r+a)/2];(S=h(this,wp))==null||S.call(this,v,x,y)},Iy=new WeakSet,e6=function(t){var n;t.touches.length>=2||(h(this,ji)&&(h(this,ji).abort(),A(this,ji,null),(n=h(this,bp))==null||n.call(this)),h(this,Vi)&&(Zt(t),A(this,Vi,null),A(this,Ia,!1)))};let Vf=bT;var Oa,Ps,kt,xu,Zr,Ap,Va,Me,ja,$i,Jr,Sp,$a,Rn,Ep,Ba,Bi,li,wu,bu,rs,za,Tp,Ny,Cp,Yb,Pp,qb,Au,z0,Fy,n6,Oy,s6,_p,Kb,Su,U0,Mp,Qb,Vy,i6,jy,r6,$y,o6,Rp,Zb,By,a6,kp,Jb,zy,l6,Uy,c6,Hy,u6,Lp,tA,Ua,_d;const nt=class nt{constructor(t){b(this,Cp);b(this,Au);b(this,Fy);b(this,Oy);b(this,_p);b(this,Su);b(this,Mp);b(this,Vy);b(this,jy);b(this,$y);b(this,Rp);b(this,By);b(this,kp);b(this,zy);b(this,Uy);b(this,Hy);b(this,Lp);b(this,Ua);b(this,Oa,null);b(this,Ps,null);b(this,kt,null);b(this,xu,!1);b(this,Zr,null);b(this,Ap,"");b(this,Va,!1);b(this,Me,null);b(this,ja,null);b(this,$i,null);b(this,Jr,null);b(this,Sp,"");b(this,$a,!1);b(this,Rn,null);b(this,Ep,!1);b(this,Ba,!1);b(this,Bi,!1);b(this,li,null);b(this,wu,0);b(this,bu,0);b(this,rs,null);b(this,za,null);$(this,"isSelected",!1);$(this,"_isCopy",!1);$(this,"_editToolbar",null);$(this,"_initialOptions",Object.create(null));$(this,"_initialData",null);$(this,"_isVisible",!0);$(this,"_uiManager",null);$(this,"_focusEventsAllowed",!0);b(this,Tp,!1);b(this,Ny,nt._zIndex++);this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null,this.annotationElementId=t.annotationElementId||null;const{rotation:n,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,o];const[a,l]=this.parentDimensions;this.x=t.x/a,this.y=t.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=nt.prototype._resizeWithKeyboard,n=Ko.TRANSLATE_SMALL,s=Ko.TRANSLATE_BIG;return ot(this,"_resizerKeyboardManager",new Rg([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,s]}],[["Escape","mac+Escape"],nt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return ot(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const n=new PH({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});n.annotationElementId=t.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(t,n){if(nt._l10n??(nt._l10n=t),nt._l10nResizer||(nt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),nt._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);nt._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,n){wt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,Tp)}set _isDraggable(t){var n;A(this,Tp,t),(n=this.div)==null||n.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(t*2),this.y+=this.width*t/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(t*2),this.y-=this.width*t/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,Ny)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):C(this,Ua,_d).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,$a)?A(this,$a,!1):this.parent.setSelected(this))}focusout(t){var s;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=t.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(t.preventDefault(),(s=this.parent)!=null&&s.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,n,s,i){const[r,o]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(t+s)/r,this.y=(n+i)/o,this.fixAndSetPosition()}_moveAfterPaste(t,n){const[s,i]=this.parentDimensions;this.setAt(t*s,n*i,this.width*s,this.height*i),this._onTranslated()}translate(t,n){C(this,Cp,Yb).call(this,this.parentDimensions,t,n)}translateInPage(t,n){h(this,Rn)||A(this,Rn,[this.x,this.y,this.width,this.height]),C(this,Cp,Yb).call(this,this.pageDimensions,t,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(t,n){h(this,Rn)||A(this,Rn,[this.x,this.y,this.width,this.height]);const{div:s,parentDimensions:[i,r]}=this;if(this.x+=t/i,this.y+=n/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[l,c]=this.getBaseTranslation();o+=l,a+=c;const{style:u}=s;u.left=`${(100*o).toFixed(2)}%`,u.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),s.scrollIntoView({block:"nearest"})}_onTranslating(t,n){}_onTranslated(t,n){}get _hasBeenMoved(){return!!h(this,Rn)&&(h(this,Rn)[0]!==this.x||h(this,Rn)[1]!==this.y)}get _hasBeenResized(){return!!h(this,Rn)&&(h(this,Rn)[2]!==this.width||h(this,Rn)[3]!==this.height)}getBaseTranslation(){const[t,n]=this.parentDimensions,{_borderLineWidth:s}=nt,i=s/t,r=s/n;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const{div:{style:n},pageDimensions:[s,i]}=this;let{x:r,y:o,width:a,height:l}=this;if(a*=s,l*=i,r*=s,o*=i,this._mustFixPosition)switch(t){case 0:r=Ge(r,0,s-a),o=Ge(o,0,i-l);break;case 90:r=Ge(r,0,s-l),o=Ge(o,a,i);break;case 180:r=Ge(r,a,s),o=Ge(o,l,i);break;case 270:r=Ge(r,l,s),o=Ge(o,0,i-a);break}this.x=r/=s,this.y=o/=i;const[c,u]=this.getBaseTranslation();r+=c,o+=u,n.left=`${(100*r).toFixed(2)}%`,n.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,n){var s;return C(s=nt,Pp,qb).call(s,t,n,this.parentRotation)}pageTranslationToScreen(t,n){var s;return C(s=nt,Pp,qb).call(s,t,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[n,s]}=this;return[n*t,s*t]}setDims(t,n){const[s,i]=this.parentDimensions,{style:r}=this.div;r.width=`${(100*t/s).toFixed(2)}%`,h(this,Va)||(r.height=`${(100*n/i).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:n,width:s}=t,i=s.endsWith("%"),r=!h(this,Va)&&n.endsWith("%");if(i&&r)return;const[o,a]=this.parentDimensions;i||(t.width=`${(100*parseFloat(s)/o).toFixed(2)}%`),!h(this,Va)&&!r&&(t.height=`${(100*parseFloat(n)/a).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(t){return Math.round(t*1e4)/1e4}_onResizing(){}altTextFinish(){var t;(t=h(this,kt))==null||t.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||h(this,Ba))return this._editToolbar;this._editToolbar=new jb(this),this.div.append(this._editToolbar.render());const{toolbarButtons:t}=this;if(t)for(const[n,s]of t)await this._editToolbar.addButton(n,s);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){var t;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(t=h(this,kt))==null||t.destroy())}addContainer(t){var s;const n=(s=this._editToolbar)==null?void 0:s.div;n?n.before(t):this.div.append(t)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return h(this,kt)||(Z1.initialize(nt._l10n),A(this,kt,new Z1(this)),h(this,Oa)&&(h(this,kt).data=h(this,Oa),A(this,Oa,null))),h(this,kt)}get altTextData(){var t;return(t=h(this,kt))==null?void 0:t.data}set altTextData(t){h(this,kt)&&(h(this,kt).data=t)}get guessedAltText(){var t;return(t=h(this,kt))==null?void 0:t.guessedText}async setGuessedAltText(t){var n;await((n=h(this,kt))==null?void 0:n.setGuessedText(t))}serializeAltText(t){var n;return(n=h(this,kt))==null?void 0:n.serialize(t)}hasAltText(){return!!h(this,kt)&&!h(this,kt).isEmpty()}hasAltTextData(){var t;return((t=h(this,kt))==null?void 0:t.hasData())??!1}render(){var o;const t=this.div=document.createElement("div");t.setAttribute("data-editor-rotation",(360-this.rotation)%360),t.className=this.name,t.setAttribute("id",this.id),t.tabIndex=h(this,xu)?-1:0,t.setAttribute("role","application"),this.defaultL10nId&&t.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||t.classList.add("hidden"),this.setInForeground(),C(this,kp,Jb).call(this);const[n,s]=this.parentDimensions;this.parentRotation%180!==0&&(t.style.maxWidth=`${(100*s/n).toFixed(2)}%`,t.style.maxHeight=`${(100*n/s).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),BD(this,t,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(h(this,za)||A(this,za,new Vf({container:t,isPinchingDisabled:()=>!this.isSelected,onPinchStart:C(this,Vy,i6).bind(this),onPinching:C(this,jy,r6).bind(this),onPinchEnd:C(this,$y,o6).bind(this),signal:this._uiManager._signal}))),(o=this._uiManager._editorUndoBar)==null||o.hide(),t}pointerdown(t){const{isMac:n}=Te.platform;if(t.button!==0||t.ctrlKey&&n){t.preventDefault();return}if(A(this,$a,!0),this._isDraggable){C(this,By,a6).call(this,t);return}C(this,Rp,Zb).call(this,t)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){h(this,li)&&clearTimeout(h(this,li)),A(this,li,setTimeout(()=>{var t;A(this,li,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,n,s){t.changeParent(this),this.x=n,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(t,n,s=this.rotation){const i=this.parentScale,[r,o]=this.pageDimensions,[a,l]=this.pageTranslation,c=t/i,u=n/i,d=this.x*r,f=this.y*o,p=this.width*r,m=this.height*o;switch(s){case 0:return[d+c+a,o-f-u-m+l,d+c+p+a,o-f-u+l];case 90:return[d+u+a,o-f+c+l,d+u+m+a,o-f+c+p+l];case 180:return[d-c-p+a,o-f+u+l,d-c+a,o-f+u+m+l];case 270:return[d-u-m+a,o-f-c-p+l,d-u+a,o-f-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,n){const[s,i,r,o]=t,a=r-s,l=o-i;switch(this.rotation){case 0:return[s,n-o,a,l];case 90:return[s,n-i,l,a];case 180:return[r,n-i,a,l];case 270:return[r,n-o,l,a];default:throw new Error("Invalid rotation")}}onceAdded(t){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),A(this,Ba,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),A(this,Ba,!1),!0):!1}isInEditMode(){return h(this,Ba)}shouldGetKeyboardEvents(){return h(this,Bi)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:t,left:n,bottom:s,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return n<o&&i>0&&t<r&&s>0}rebuild(){C(this,kp,Jb).call(this)}rotate(t){}resize(){}serializeDeleted(){var t;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((t=this._initialData)==null?void 0:t.popupRef)||""}}serialize(t=!1,n=null){wt("An editor must be serializable")}static async deserialize(t,n,s){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:s,annotationElementId:t.annotationElementId});i.rotation=t.rotation,A(i,Oa,t.accessibilityData),i._isCopy=t.isCopy||!1;const[r,o]=i.pageDimensions,[a,l,c,u]=i.getRectInCurrentCoords(t.rect,o);return i.x=a/r,i.y=l/o,i.width=c/r,i.height=u/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var t,n;if((t=h(this,Jr))==null||t.abort(),A(this,Jr,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,li)&&(clearTimeout(h(this,li)),A(this,li,null)),C(this,Ua,_d).call(this),this.removeEditToolbar(),h(this,rs)){for(const s of h(this,rs).values())clearTimeout(s);A(this,rs,null)}this.parent=null,(n=h(this,za))==null||n.destroy(),A(this,za,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(C(this,Fy,n6).call(this),h(this,Me).classList.remove("hidden"))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),A(this,$i,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=h(this,Me).children;if(!h(this,Ps)){A(this,Ps,Array.from(n));const o=C(this,zy,l6).bind(this),a=C(this,Uy,c6).bind(this),l=this._uiManager._signal;for(const c of h(this,Ps)){const u=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:l}),c.addEventListener("blur",a,{signal:l}),c.addEventListener("focus",C(this,Hy,u6).bind(this,u),{signal:l}),c.setAttribute("data-l10n-id",nt._l10nResizer[u])}}const s=h(this,Ps)[0];let i=0;for(const o of n){if(o===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ps).length/4);if(r!==i){if(r<i)for(let a=0;a<i-r;a++)h(this,Me).append(h(this,Me).firstChild);else if(r>i)for(let a=0;a<r-i;a++)h(this,Me).firstChild.before(h(this,Me).lastChild);let o=0;for(const a of n){const c=h(this,Ps)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",nt._l10nResizer[c])}}C(this,Lp,tA).call(this,0),A(this,Bi,!0),h(this,Me).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,n){h(this,Bi)&&C(this,Mp,Qb).call(this,h(this,Sp),{deltaX:t,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){C(this,Ua,_d).call(this),this.div.focus()}select(){var t,n,s;if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,r;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((r=this._editToolbar)==null||r.show())});return}(n=this._editToolbar)==null||n.show(),(s=h(this,kt))==null||s.toggleAltTextBadge(!1)}}unselect(){var t,n,s,i,r;this.isSelected&&(this.isSelected=!1,(t=h(this,Me))==null||t.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(s=this.div)!=null&&s.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(r=h(this,kt))==null||r.toggleAltTextBadge(!0))}updateParams(t,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(t){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return h(this,Ep)}set isEditing(t){A(this,Ep,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,n){A(this,Va,!0);const s=t/n,{style:i}=this.div;i.aspectRatio=s,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,n=!1){if(n){h(this,rs)||A(this,rs,new Map);const{action:s}=t;let i=h(this,rs).get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(t),h(this,rs).delete(s),h(this,rs).size===0&&A(this,rs,null)},nt._telemetryTimeout),h(this,rs).set(s,i);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),A(this,xu,!1)}disable(){this.div&&(this.div.tabIndex=-1),A(this,xu,!0)}renderAnnotationElement(t){let n=t.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),t.container.prepend(n);else if(n.nodeName==="CANVAS"){const s=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),s.before(n)}return n}resetAnnotationElement(t){const{firstChild:n}=t.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};Oa=new WeakMap,Ps=new WeakMap,kt=new WeakMap,xu=new WeakMap,Zr=new WeakMap,Ap=new WeakMap,Va=new WeakMap,Me=new WeakMap,ja=new WeakMap,$i=new WeakMap,Jr=new WeakMap,Sp=new WeakMap,$a=new WeakMap,Rn=new WeakMap,Ep=new WeakMap,Ba=new WeakMap,Bi=new WeakMap,li=new WeakMap,wu=new WeakMap,bu=new WeakMap,rs=new WeakMap,za=new WeakMap,Tp=new WeakMap,Ny=new WeakMap,Cp=new WeakSet,Yb=function([t,n],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/t,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Pp=new WeakSet,qb=function(t,n,s){switch(s){case 90:return[n,-t];case 180:return[-t,-n];case 270:return[-n,t];default:return[t,n]}},Au=new WeakSet,z0=function(t){switch(t){case 90:{const[n,s]=this.pageDimensions;return[0,-n/s,s/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,s]=this.pageDimensions;return[0,n/s,-s/n,0]}default:return[1,0,0,1]}},Fy=new WeakSet,n6=function(){if(h(this,Me))return;A(this,Me,document.createElement("div")),h(this,Me).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const s of t){const i=document.createElement("div");h(this,Me).append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",C(this,Oy,s6).bind(this,s),{signal:n}),i.addEventListener("contextmenu",vs,{signal:n}),i.tabIndex=-1}this.div.prepend(h(this,Me))},Oy=new WeakSet,s6=function(t,n){var u;n.preventDefault();const{isMac:s}=Te.platform;if(n.button!==0||n.ctrlKey&&s)return;(u=h(this,kt))==null||u.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,A(this,ja,[n.screenX,n.screenY]);const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",C(this,Mp,Qb).bind(this,t),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",Zt,{passive:!1,signal:o}),window.addEventListener("contextmenu",vs,{signal:o}),A(this,$i,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{var d;r.abort(),this.parent.togglePointerEvents(!0),(d=h(this,kt))==null||d.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=a,this.div.style.cursor=l,C(this,Su,U0).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},_p=new WeakSet,Kb=function(t,n,s,i){this.width=s,this.height=i,this.x=t,this.y=n;const[r,o]=this.parentDimensions;this.setDims(r*s,o*i),this.fixAndSetPosition(),this._onResized()},Su=new WeakSet,U0=function(){if(!h(this,$i))return;const{savedX:t,savedY:n,savedWidth:s,savedHeight:i}=h(this,$i);A(this,$i,null);const r=this.x,o=this.y,a=this.width,l=this.height;r===t&&o===n&&a===s&&l===i||this.addCommands({cmd:C(this,_p,Kb).bind(this,r,o,a,l),undo:C(this,_p,Kb).bind(this,t,n,s,i),mustExec:!0})},Mp=new WeakSet,Qb=function(t,n){const[s,i]=this.parentDimensions,r=this.x,o=this.y,a=this.width,l=this.height,c=nt.MIN_SIZE/s,u=nt.MIN_SIZE/i,d=C(this,Au,z0).call(this,this.rotation),f=(F,O)=>[d[0]*F+d[2]*O,d[1]*F+d[3]*O],p=C(this,Au,z0).call(this,360-this.rotation),m=(F,O)=>[p[0]*F+p[2]*O,p[1]*F+p[3]*O];let g,w,y=!1,x=!1;switch(t){case"topLeft":y=!0,g=(F,O)=>[0,0],w=(F,O)=>[F,O];break;case"topMiddle":g=(F,O)=>[F/2,0],w=(F,O)=>[F/2,O];break;case"topRight":y=!0,g=(F,O)=>[F,0],w=(F,O)=>[0,O];break;case"middleRight":x=!0,g=(F,O)=>[F,O/2],w=(F,O)=>[0,O/2];break;case"bottomRight":y=!0,g=(F,O)=>[F,O],w=(F,O)=>[0,0];break;case"bottomMiddle":g=(F,O)=>[F/2,O],w=(F,O)=>[F/2,0];break;case"bottomLeft":y=!0,g=(F,O)=>[0,O],w=(F,O)=>[F,0];break;case"middleLeft":x=!0,g=(F,O)=>[0,O/2],w=(F,O)=>[F,O/2];break}const v=g(a,l),S=w(a,l);let E=f(...S);const P=nt._round(r+E[0]),_=nt._round(o+E[1]);let R=1,k=1,D,I;if(n.fromKeyboard)({deltaX:D,deltaY:I}=n);else{const{screenX:F,screenY:O}=n,[j,B]=h(this,ja);[D,I]=this.screenToPageTranslation(F-j,O-B),h(this,ja)[0]=F,h(this,ja)[1]=O}if([D,I]=m(D/s,I/i),y){const F=Math.hypot(a,l);R=k=Math.max(Math.min(Math.hypot(S[0]-v[0]-D,S[1]-v[1]-I)/F,1/a,1/l),c/a,u/l)}else x?R=Ge(Math.abs(S[0]-v[0]-D),c,1)/a:k=Ge(Math.abs(S[1]-v[1]-I),u,1)/l;const N=nt._round(a*R),V=nt._round(l*k);E=f(...w(N,V));const L=P-E[0],H=_-E[1];h(this,Rn)||A(this,Rn,[this.x,this.y,this.width,this.height]),this.width=N,this.height=V,this.x=L,this.y=H,this.setDims(s*N,i*V),this.fixAndSetPosition(),this._onResizing()},Vy=new WeakSet,i6=function(){var t;A(this,$i,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(t=h(this,kt))==null||t.toggle(!1),this.parent.togglePointerEvents(!1)},jy=new WeakSet,r6=function(t,n,s){let r=.7*(s/n)+1-.7;if(r===1)return;const o=C(this,Au,z0).call(this,this.rotation),a=(P,_)=>[o[0]*P+o[2]*_,o[1]*P+o[3]*_],[l,c]=this.parentDimensions,u=this.x,d=this.y,f=this.width,p=this.height,m=nt.MIN_SIZE/l,g=nt.MIN_SIZE/c;r=Math.max(Math.min(r,1/f,1/p),m/f,g/p);const w=nt._round(f*r),y=nt._round(p*r);if(w===f&&y===p)return;h(this,Rn)||A(this,Rn,[u,d,f,p]);const x=a(f/2,p/2),v=nt._round(u+x[0]),S=nt._round(d+x[1]),E=a(w/2,y/2);this.x=v-E[0],this.y=S-E[1],this.width=w,this.height=y,this.setDims(l*w,c*y),this.fixAndSetPosition(),this._onResizing()},$y=new WeakSet,o6=function(){var t;(t=h(this,kt))==null||t.toggle(!0),this.parent.togglePointerEvents(!0),C(this,Su,U0).call(this)},Rp=new WeakSet,Zb=function(t){const{isMac:n}=Te.platform;t.ctrlKey&&!n||t.shiftKey||t.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},By=new WeakSet,a6=function(t){const{isSelected:n}=this;this._uiManager.setUpDragSession();let s=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:r},a=c=>{i.abort(),A(this,Zr,null),A(this,$a,!1),this._uiManager.endDragSession()||C(this,Rp,Zb).call(this,c),s&&this._onStopDragging()};n&&(A(this,wu,t.clientX),A(this,bu,t.clientY),A(this,Zr,t.pointerId),A(this,Ap,t.pointerType),window.addEventListener("pointermove",c=>{s||(s=!0,this._onStartDragging());const{clientX:u,clientY:d,pointerId:f}=c;if(f!==h(this,Zr)){Zt(c);return}const[p,m]=this.screenToPageTranslation(u-h(this,wu),d-h(this,bu));A(this,wu,u),A(this,bu,d),this._uiManager.dragSelectedEditors(p,m)},o),window.addEventListener("touchmove",Zt,o),window.addEventListener("pointerdown",c=>{c.pointerType===h(this,Ap)&&(h(this,za)||c.isPrimary)&&a(c),Zt(c)},o));const l=c=>{if(!h(this,Zr)||h(this,Zr)===c.pointerId){a(c);return}Zt(c)};window.addEventListener("pointerup",l,{signal:r}),window.addEventListener("blur",l,{signal:r})},kp=new WeakSet,Jb=function(){if(h(this,Jr)||!this.div)return;A(this,Jr,new AbortController);const t=this._uiManager.combinedSignal(h(this,Jr));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:t}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:t})},zy=new WeakSet,l6=function(t){nt._resizerKeyboardManager.exec(this,t)},Uy=new WeakSet,c6=function(t){var n;h(this,Bi)&&((n=t.relatedTarget)==null?void 0:n.parentNode)!==h(this,Me)&&C(this,Ua,_d).call(this)},Hy=new WeakSet,u6=function(t){A(this,Sp,h(this,Bi)?t:"")},Lp=new WeakSet,tA=function(t){if(h(this,Ps))for(const n of h(this,Ps))n.tabIndex=t},Ua=new WeakSet,_d=function(){A(this,Bi,!1),C(this,Lp,tA).call(this,-1),C(this,Su,U0).call(this)},b(nt,Pp),$(nt,"_l10n",null),$(nt,"_l10nResizer",null),$(nt,"_borderLineWidth",-1),$(nt,"_colorManager",new Bb),$(nt,"_zIndex",1),$(nt,"_telemetryTimeout",1e3);let Tt=nt;class PH extends Tt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const l3=3285377520,Jn=4294901760,Ks=65535;class h6{constructor(t){this.h1=t?t&4294967295:l3,this.h2=t?t&4294967295:l3}update(t){let n,s;if(typeof t=="string"){n=new Uint8Array(t.length*2),s=0;for(let g=0,w=t.length;g<w;g++){const y=t.charCodeAt(g);y<=255?n[s++]=y:(n[s++]=y>>>8,n[s++]=y&255)}}else if(ArrayBuffer.isView(t))n=t.slice(),s=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,o=new Uint32Array(n.buffer,0,i);let a=0,l=0,c=this.h1,u=this.h2;const d=3432918353,f=461845907,p=d&Ks,m=f&Ks;for(let g=0;g<i;g++)g&1?(a=o[g],a=a*d&Jn|a*p&Ks,a=a<<15|a>>>17,a=a*f&Jn|a*m&Ks,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(l=o[g],l=l*d&Jn|l*p&Ks,l=l<<15|l>>>17,l=l*f&Jn|l*m&Ks,u^=l,u=u<<13|u>>>19,u=u*5+3864292196);switch(a=0,r){case 3:a^=n[i*4+2]<<16;case 2:a^=n[i*4+1]<<8;case 1:a^=n[i*4],a=a*d&Jn|a*p&Ks,a=a<<15|a>>>17,a=a*f&Jn|a*m&Ks,i&1?c^=a:u^=a}this.h1=c,this.h2=u}hexdigest(){let t=this.h1,n=this.h2;return t^=n>>>1,t=t*3981806797&Jn|t*36045&Ks,n=n*4283543511&Jn|((n<<16|t>>>16)*2950163797&Jn)>>>16,t^=n>>>1,t=t*444984403&Jn|t*60499&Ks,n=n*3301882366&Jn|((n<<16|t>>>16)*3120437893&Jn)>>>16,t^=n>>>1,(t>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const eA=Object.freeze({map:null,hash:"",transfer:void 0});var Ha,Wa,Re,Wy,d6;class uT{constructor(){b(this,Wy);b(this,Ha,!1);b(this,Wa,null);b(this,Re,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,n){const s=h(this,Re).get(t);return s===void 0?n:Object.assign(n,s)}getRawValue(t){return h(this,Re).get(t)}remove(t){if(h(this,Re).delete(t),h(this,Re).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const n of h(this,Re).values())if(n instanceof Tt)return;this.onAnnotationEditor(null)}}setValue(t,n){const s=h(this,Re).get(t);let i=!1;if(s!==void 0)for(const[r,o]of Object.entries(n))s[r]!==o&&(i=!0,s[r]=o);else i=!0,h(this,Re).set(t,n);i&&C(this,Wy,d6).call(this),n instanceof Tt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type)}has(t){return h(this,Re).has(t)}get size(){return h(this,Re).size}resetModified(){h(this,Ha)&&(A(this,Ha,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new f6(this)}get serializable(){if(h(this,Re).size===0)return eA;const t=new Map,n=new h6,s=[],i=Object.create(null);let r=!1;for(const[o,a]of h(this,Re)){const l=a instanceof Tt?a.serialize(!1,i):a;l&&(t.set(o,l),n.update(`${o}:${JSON.stringify(l)}`),r||(r=!!l.bitmap))}if(r)for(const o of t.values())o.bitmap&&s.push(o.bitmap);return t.size>0?{map:t,hash:n.hexdigest(),transfer:s}:eA}get editorStats(){let t=null;const n=new Map;for(const s of h(this,Re).values()){if(!(s instanceof Tt))continue;const i=s.telemetryFinalData;if(!i)continue;const{type:r}=i;n.has(r)||n.set(r,Object.getPrototypeOf(s).constructor),t||(t=Object.create(null));const o=t[r]||(t[r]=new Map);for(const[a,l]of Object.entries(i)){if(a==="type")continue;let c=o.get(a);c||(c=new Map,o.set(a,c));const u=c.get(l)??0;c.set(l,u+1)}}for(const[s,i]of n)t[s]=i.computeTelemetryFinalData(t[s]);return t}resetModifiedIds(){A(this,Wa,null)}get modifiedIds(){if(h(this,Wa))return h(this,Wa);const t=[];for(const n of h(this,Re).values())!(n instanceof Tt)||!n.annotationElementId||!n.serialize()||t.push(n.annotationElementId);return A(this,Wa,{ids:new Set(t),hash:t.join(",")})}[Symbol.iterator](){return h(this,Re).entries()}}Ha=new WeakMap,Wa=new WeakMap,Re=new WeakMap,Wy=new WeakSet,d6=function(){h(this,Ha)||(A(this,Ha,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Dp;class f6 extends uT{constructor(n){super();b(this,Dp,void 0);const{map:s,hash:i,transfer:r}=n.serializable,o=structuredClone(s,r?{transfer:r}:null);A(this,Dp,{map:o,hash:i,transfer:r})}get print(){wt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Dp)}get modifiedIds(){return ot(this,"modifiedIds",{ids:new Set,hash:""})}}Dp=new WeakMap;var Eu;class _H{constructor({ownerDocument:t=globalThis.document,styleElement:n=null}){b(this,Eu,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(t,n.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,Eu).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,disableFontFace:n,_inspectFont:s}){if(!(!t||h(this,Eu).has(t.loadedName))){if(ae(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=t,a=new FontFace(i,r,o);this.addNativeFontFace(a);try{await a.load(),h(this,Eu).add(i),s==null||s(t)}catch{et(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}wt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const s=t.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw et(`Failed to load font '${s.family}': '${i}'.`),t.disableFontFace=!0,i}}return}const n=t.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(t,i)})}}get isFontLoadingAPISupported(){var n;const t=!!((n=this._document)!=null&&n.fonts);return ot(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){return ot(this,"isSyncFontLoadingSupported",on||Te.platform.isFirefox)}_queueLoadingCallback(t){function n(){for(ae(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:n,callback:t};return s.push(i),i}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return ot(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,n){function s(S,E){return S.charCodeAt(E)<<24|S.charCodeAt(E+1)<<16|S.charCodeAt(E+2)<<8|S.charCodeAt(E+3)&255}function i(S,E,P,_){const R=S.substring(0,E),k=S.substring(E+P);return R+_+k}let r,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const l=a.getContext("2d");let c=0;function u(S,E){if(++c>30){et("Load test font never loaded."),E();return}if(l.font="30px "+S,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){E();return}setTimeout(u.bind(null,S,E))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,d.length,d);const m=16,g=1482184792;let w=s(f,m);for(r=0,o=d.length-3;r<o;r+=4)w=w-g+s(d,r)|0;r<d.length&&(w=w-g+s(d+"XXX",r)|0),f=i(f,m,4,gH(w));const y=`url(data:font/opentype;base64,${btoa(f)});`,x=`@font-face {font-family:"${d}";src:${y}}`;this.insertRule(x);const v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(const S of[t.loadedName,d]){const E=this._document.createElement("span");E.textContent="Hi",E.style.fontFamily=S,v.append(E)}this._document.body.append(v),u(d,()=>{v.remove(),n.complete()})}}Eu=new WeakMap;class MH{constructor(t,n=null){this.compiledGlyphs=Object.create(null);for(const s in t)this[s]=t[s];this._inspectFont=n}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}return(n=this._inspectFont)==null||n.call(this,this),t}createFontFaceRule(){var s;if(!this.data||this.disableFontFace)return null;const t=`url(data:${this.mimetype};base64,${kD(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${t}}`}return(s=this._inspectFont)==null||s.call(this,this,t),n}getPathGenerator(t,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const s=this.loadedName+"_path_"+n;let i;try{i=t.get(s)}catch(o){et(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(i||"");return this.fontExtraProperties||t.delete(s),this.compiledGlyphs[n]=r}}function RH(e){if(e instanceof URL)return e.href;if(typeof e=="string"){if(on)return e;const t=URL.parse(e,window.location);if(t)return t.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function kH(e){if(on&&typeof Buffer<"u"&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if(typeof e=="string")return Pg(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||typeof e=="object"&&!isNaN(e==null?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function c0(e){if(typeof e!="string")return null;if(e.endsWith("/"))return e;throw new Error(`Invalid factory url: "${e}" must include trailing slash.`)}const nA=e=>typeof e=="object"&&Number.isInteger(e==null?void 0:e.num)&&e.num>=0&&Number.isInteger(e==null?void 0:e.gen)&&e.gen>=0,LH=e=>typeof e=="object"&&typeof(e==null?void 0:e.name)=="string",p6=wH.bind(null,nA,LH);var zi,Gy;class DH{constructor(){b(this,zi,new Map);b(this,Gy,Promise.resolve())}postMessage(t,n){const s={data:structuredClone(t,n?{transfer:n}:null)};h(this,Gy).then(()=>{for(const[i]of h(this,zi))i.call(this,s)})}addEventListener(t,n,s=null){let i=null;if((s==null?void 0:s.signal)instanceof AbortSignal){const{signal:r}=s;if(r.aborted){et("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(t,n);i=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}h(this,zi).set(n,i)}removeEventListener(t,n){const s=h(this,zi).get(n);s==null||s(),h(this,zi).delete(n)}terminate(){for(const[,t]of h(this,zi))t==null||t();h(this,zi).clear()}}zi=new WeakMap,Gy=new WeakMap;const u0={DATA:1,ERROR:2},ee={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function c3(){}function pn(e){if(e instanceof Tr||e instanceof K1||e instanceof r3||e instanceof Of||e instanceof Gw)return e;switch(e instanceof Error||typeof e=="object"&&e!==null||wt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new Tr(e.message);case"InvalidPDFException":return new K1(e.message);case"PasswordException":return new r3(e.message,e.code);case"ResponseException":return new Of(e.message,e.status,e.missing);case"UnknownErrorException":return new Gw(e.message,e.details)}return new Gw(e.message,e.toString())}var Tu,Xy,m6,Yy,g6,qy,y6,Cu,H0;class Md{constructor(t,n,s){b(this,Xy);b(this,Yy);b(this,qy);b(this,Cu);b(this,Tu,new AbortController);this.sourceName=t,this.targetName=n,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",C(this,Xy,m6).bind(this),{signal:h(this,Tu).signal})}on(t,n){const s=this.actionHandler;if(s[t])throw new Error(`There is already an actionName called "${t}"`);s[t]=n}send(t,n,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:n},s)}sendWithPromise(t,n,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:i,data:n},s)}catch(o){r.reject(o)}return r.promise}sendWithStream(t,n,s,i){const r=this.streamId++,o=this.sourceName,a=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const u=Promise.withResolvers();return this.streamControllers[r]={controller:c,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:o,targetName:a,action:t,streamId:r,data:n,desiredSize:c.desiredSize},i),u.promise},pull:c=>{const u=Promise.withResolvers();return this.streamControllers[r].pullCall=u,l.postMessage({sourceName:o,targetName:a,stream:ee.PULL,streamId:r,desiredSize:c.desiredSize}),u.promise},cancel:c=>{ae(c instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[r].cancelCall=u,this.streamControllers[r].isClosed=!0,l.postMessage({sourceName:o,targetName:a,stream:ee.CANCEL,streamId:r,reason:pn(c)}),u.promise}},s)}destroy(){var t;(t=h(this,Tu))==null||t.abort(),A(this,Tu,null)}}Tu=new WeakMap,Xy=new WeakSet,m6=function({data:t}){if(t.targetName!==this.sourceName)return;if(t.stream){C(this,qy,y6).call(this,t);return}if(t.callback){const s=t.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],t.callback===u0.DATA)i.resolve(t.data);else if(t.callback===u0.ERROR)i.reject(pn(t.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[t.action];if(!n)throw new Error(`Unknown action from worker: ${t.action}`);if(t.callbackId){const s=this.sourceName,i=t.sourceName,r=this.comObj;Promise.try(n,t.data).then(function(o){r.postMessage({sourceName:s,targetName:i,callback:u0.DATA,callbackId:t.callbackId,data:o})},function(o){r.postMessage({sourceName:s,targetName:i,callback:u0.ERROR,callbackId:t.callbackId,reason:pn(o)})});return}if(t.streamId){C(this,Yy,g6).call(this,t);return}n(t.data)},Yy=new WeakSet,g6=function(t){const n=t.streamId,s=this.sourceName,i=t.sourceName,r=this.comObj,o=this,a=this.actionHandler[t.action],l={enqueue(c,u=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=u,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:ee.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:ee.CLOSE,streamId:n}),delete o.streamSinks[n])},error(c){ae(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:ee.ERROR,streamId:n,reason:pn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(a,t.data,l).then(function(){r.postMessage({sourceName:s,targetName:i,stream:ee.START_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:ee.START_COMPLETE,streamId:n,reason:pn(c)})})},qy=new WeakSet,y6=function(t){const n=t.streamId,s=this.sourceName,i=t.sourceName,r=this.comObj,o=this.streamControllers[n],a=this.streamSinks[n];switch(t.stream){case ee.START_COMPLETE:t.success?o.startCall.resolve():o.startCall.reject(pn(t.reason));break;case ee.PULL_COMPLETE:t.success?o.pullCall.resolve():o.pullCall.reject(pn(t.reason));break;case ee.PULL:if(!a){r.postMessage({sourceName:s,targetName:i,stream:ee.PULL_COMPLETE,streamId:n,success:!0});break}a.desiredSize<=0&&t.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=t.desiredSize,Promise.try(a.onPull||c3).then(function(){r.postMessage({sourceName:s,targetName:i,stream:ee.PULL_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:ee.PULL_COMPLETE,streamId:n,reason:pn(c)})});break;case ee.ENQUEUE:if(ae(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(t.chunk);break;case ee.CLOSE:if(ae(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),C(this,Cu,H0).call(this,o,n);break;case ee.ERROR:ae(o,"error should have stream controller"),o.controller.error(pn(t.reason)),C(this,Cu,H0).call(this,o,n);break;case ee.CANCEL_COMPLETE:t.success?o.cancelCall.resolve():o.cancelCall.reject(pn(t.reason)),C(this,Cu,H0).call(this,o,n);break;case ee.CANCEL:if(!a)break;const l=pn(t.reason);Promise.try(a.onCancel||c3,l).then(function(){r.postMessage({sourceName:s,targetName:i,stream:ee.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){r.postMessage({sourceName:s,targetName:i,stream:ee.CANCEL_COMPLETE,streamId:n,reason:pn(c)})}),a.sinkCapability.reject(l),a.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},Cu=new WeakSet,H0=async function(t,n){var s,i,r;await Promise.allSettled([(s=t.startCall)==null?void 0:s.promise,(i=t.pullCall)==null?void 0:i.promise,(r=t.cancelCall)==null?void 0:r.promise]),delete this.streamControllers[n]};var Ip;class v6{constructor({enableHWA:t=!1}){b(this,Ip,!1);A(this,Ip,t)}create(t,n){if(t<=0||n<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(t,n);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!h(this,Ip)})}}reset(t,n,s){if(!t.canvas)throw new Error("Canvas is not specified");if(n<=0||s<=0)throw new Error("Invalid canvas size");t.canvas.width=n,t.canvas.height=s}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,n){wt("Abstract method `_createCanvas` called.")}}Ip=new WeakMap;class IH extends v6{constructor({ownerDocument:t=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=t}_createCanvas(t,n){const s=this._document.createElement("canvas");return s.width=t,s.height=n,s}}class x6{constructor({baseUrl:t=null,isCompressed:n=!0}){this.baseUrl=t,this.isCompressed=n}async fetch({name:t}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(t){wt("Abstract method `_fetch` called.")}}class u3 extends x6{async _fetch(t){const n=await Jh(t,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Pg(n)}}class w6{addFilter(t){return"none"}addHCMFilter(t,n){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,n,s,i,r){return"none"}destroy(t=!1){}}var Ga,Pu,Ui,Hi,Ue,Xa,Ya,ye,Be,qa,Rd,to,dc,_u,W0,eo,fc,Ky,b6,Np,sA,no,pc,Ka,kd,Qa,Ld,Fp,iA,Za,Dd;class NH extends w6{constructor({docId:n,ownerDocument:s=globalThis.document}){super();b(this,ye);b(this,qa);b(this,to);b(this,_u);b(this,eo);b(this,Ky);b(this,Np);b(this,no);b(this,Ka);b(this,Qa);b(this,Fp);b(this,Za);b(this,Ga,void 0);b(this,Pu,void 0);b(this,Ui,void 0);b(this,Hi,void 0);b(this,Ue,void 0);b(this,Xa,void 0);b(this,Ya,0);A(this,Hi,n),A(this,Ue,s)}addFilter(n){if(!n)return"none";let s=h(this,ye,Be).get(n);if(s)return s;const[i,r,o]=C(this,_u,W0).call(this,n),a=n.length===1?i:`${i}${r}${o}`;if(s=h(this,ye,Be).get(a),s)return h(this,ye,Be).set(n,s),s;const l=`g_${h(this,Hi)}_transfer_map_${Ze(this,Ya)._++}`,c=C(this,eo,fc).call(this,l);h(this,ye,Be).set(n,c),h(this,ye,Be).set(a,c);const u=C(this,no,pc).call(this,l);return C(this,Qa,Ld).call(this,i,r,o,u),c}addHCMFilter(n,s){var m;const i=`${n}-${s}`,r="base";let o=h(this,qa,Rd).get(r);if((o==null?void 0:o.key)===i||(o?((m=o.filter)==null||m.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},h(this,qa,Rd).set(r,o)),!n||!s))return o.url;const a=C(this,Za,Dd).call(this,n);n=K.makeHexColor(...a);const l=C(this,Za,Dd).call(this,s);if(s=K.makeHexColor(...l),h(this,to,dc).style.color="",n==="#000000"&&s==="#ffffff"||n===s)return o.url;const c=new Array(256);for(let g=0;g<=255;g++){const w=g/255;c[g]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const u=c.join(","),d=`g_${h(this,Hi)}_hcm_filter`,f=o.filter=C(this,no,pc).call(this,d);C(this,Qa,Ld).call(this,u,u,u,f),C(this,Np,sA).call(this,f);const p=(g,w)=>{const y=a[g]/255,x=l[g]/255,v=new Array(w+1);for(let S=0;S<=w;S++)v[S]=y+S/w*(x-y);return v.join(",")};return C(this,Qa,Ld).call(this,p(0,5),p(1,5),p(2,5),f),o.url=C(this,eo,fc).call(this,d),o.url}addAlphaFilter(n){let s=h(this,ye,Be).get(n);if(s)return s;const[i]=C(this,_u,W0).call(this,[n]),r=`alpha_${i}`;if(s=h(this,ye,Be).get(r),s)return h(this,ye,Be).set(n,s),s;const o=`g_${h(this,Hi)}_alpha_map_${Ze(this,Ya)._++}`,a=C(this,eo,fc).call(this,o);h(this,ye,Be).set(n,a),h(this,ye,Be).set(r,a);const l=C(this,no,pc).call(this,o);return C(this,Fp,iA).call(this,i,l),a}addLuminosityFilter(n){let s=h(this,ye,Be).get(n||"luminosity");if(s)return s;let i,r;if(n?([i]=C(this,_u,W0).call(this,[n]),r=`luminosity_${i}`):r="luminosity",s=h(this,ye,Be).get(r),s)return h(this,ye,Be).set(n,s),s;const o=`g_${h(this,Hi)}_luminosity_map_${Ze(this,Ya)._++}`,a=C(this,eo,fc).call(this,o);h(this,ye,Be).set(n,a),h(this,ye,Be).set(r,a);const l=C(this,no,pc).call(this,o);return C(this,Ky,b6).call(this,l),n&&C(this,Fp,iA).call(this,i,l),a}addHighlightHCMFilter(n,s,i,r,o){var x;const a=`${s}-${i}-${r}-${o}`;let l=h(this,qa,Rd).get(n);if((l==null?void 0:l.key)===a||(l?((x=l.filter)==null||x.remove(),l.key=a,l.url="none",l.filter=null):(l={key:a,url:"none",filter:null},h(this,qa,Rd).set(n,l)),!s||!i))return l.url;const[c,u]=[s,i].map(C(this,Za,Dd).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,m]=[r,o].map(C(this,Za,Dd).bind(this));f<d&&([d,f,p,m]=[f,d,m,p]),h(this,to,dc).style.color="";const g=(v,S,E)=>{const P=new Array(256),_=(f-d)/E,R=v/255,k=(S-v)/(255*E);let D=0;for(let I=0;I<=E;I++){const N=Math.round(d+I*_),V=R+I*k;for(let L=D;L<=N;L++)P[L]=V;D=N+1}for(let I=D;I<256;I++)P[I]=P[D-1];return P.join(",")},w=`g_${h(this,Hi)}_hcm_${n}_filter`,y=l.filter=C(this,no,pc).call(this,w);return C(this,Np,sA).call(this,y),C(this,Qa,Ld).call(this,g(p[0],m[0],5),g(p[1],m[1],5),g(p[2],m[2],5),y),l.url=C(this,eo,fc).call(this,w),l.url}destroy(n=!1){var s,i,r,o;n&&((s=h(this,Xa))!=null&&s.size)||((i=h(this,Ui))==null||i.parentNode.parentNode.remove(),A(this,Ui,null),(r=h(this,Pu))==null||r.clear(),A(this,Pu,null),(o=h(this,Xa))==null||o.clear(),A(this,Xa,null),A(this,Ya,0))}}Ga=new WeakMap,Pu=new WeakMap,Ui=new WeakMap,Hi=new WeakMap,Ue=new WeakMap,Xa=new WeakMap,Ya=new WeakMap,ye=new WeakSet,Be=function(){return h(this,Pu)||A(this,Pu,new Map)},qa=new WeakSet,Rd=function(){return h(this,Xa)||A(this,Xa,new Map)},to=new WeakSet,dc=function(){if(!h(this,Ui)){const n=h(this,Ue).createElement("div"),{style:s}=n;s.visibility="hidden",s.contain="strict",s.width=s.height=0,s.position="absolute",s.top=s.left=0,s.zIndex=-1;const i=h(this,Ue).createElementNS(Ci,"svg");i.setAttribute("width",0),i.setAttribute("height",0),A(this,Ui,h(this,Ue).createElementNS(Ci,"defs")),n.append(i),i.append(h(this,Ui)),h(this,Ue).body.append(n)}return h(this,Ui)},_u=new WeakSet,W0=function(n){if(n.length===1){const c=n[0],u=new Array(256);for(let f=0;f<256;f++)u[f]=c[f]/255;const d=u.join(",");return[d,d,d]}const[s,i,r]=n,o=new Array(256),a=new Array(256),l=new Array(256);for(let c=0;c<256;c++)o[c]=s[c]/255,a[c]=i[c]/255,l[c]=r[c]/255;return[o.join(","),a.join(","),l.join(",")]},eo=new WeakSet,fc=function(n){if(h(this,Ga)===void 0){A(this,Ga,"");const s=h(this,Ue).URL;s!==h(this,Ue).baseURI&&(Mg(s)?et('#createUrl: ignore "data:"-URL for performance reasons.'):A(this,Ga,oT(s,"")))}return`url(${h(this,Ga)}#${n})`},Ky=new WeakSet,b6=function(n){const s=h(this,Ue).createElementNS(Ci,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(s)},Np=new WeakSet,sA=function(n){const s=h(this,Ue).createElementNS(Ci,"feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(s)},no=new WeakSet,pc=function(n){const s=h(this,Ue).createElementNS(Ci,"filter");return s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("id",n),h(this,to,dc).append(s),s},Ka=new WeakSet,kd=function(n,s,i){const r=h(this,Ue).createElementNS(Ci,s);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),n.append(r)},Qa=new WeakSet,Ld=function(n,s,i,r){const o=h(this,Ue).createElementNS(Ci,"feComponentTransfer");r.append(o),C(this,Ka,kd).call(this,o,"feFuncR",n),C(this,Ka,kd).call(this,o,"feFuncG",s),C(this,Ka,kd).call(this,o,"feFuncB",i)},Fp=new WeakSet,iA=function(n,s){const i=h(this,Ue).createElementNS(Ci,"feComponentTransfer");s.append(i),C(this,Ka,kd).call(this,i,"feFuncA",n)},Za=new WeakSet,Dd=function(n){return h(this,to,dc).style.color=n,cT(getComputedStyle(h(this,to,dc)).getPropertyValue("color"))};class A6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(s=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(t){wt("Abstract method `_fetch` called.")}}class h3 extends A6{async _fetch(t){const n=await Jh(t,"arraybuffer");return new Uint8Array(n)}}class S6{constructor({baseUrl:t=null}){this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!t)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${t}`;return this._fetch(n).catch(s=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(t){wt("Abstract method `_fetch` called.")}}class d3 extends S6{async _fetch(t){const n=await Jh(t,"arraybuffer");return new Uint8Array(n)}}on&&et("Please use the `legacy` build in Node.js environments.");async function hT(e){const n=await process.getBuiltinModule("fs").promises.readFile(e);return new Uint8Array(n)}class FH extends w6{}class OH extends v6{_createCanvas(t,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(t,n)}}class VH extends x6{async _fetch(t){return hT(t)}}class jH extends A6{async _fetch(t){return hT(t)}}class $H extends S6{async _fetch(t){return hT(t)}}const Ne={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function rA(e,t){if(!t)return;const n=t[2]-t[0],s=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,s),e.clip(i)}class dT{isModifyingCurrentTransform(){return!1}getPattern(){wt("Abstract method `getPattern` called.")}}class BH extends dT{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let n;this._type==="axial"?n=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)n.addColorStop(s[0],s[1]);return n}getPattern(t,n,s,i){let r;if(i===Ne.STROKE||i===Ne.FILL){const o=n.current.getClippedPathBoundingBox(i,Vt(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,l=Math.ceil(o[3]-o[1])||1,c=n.cachedCanvases.getCanvas("pattern",a,l),u=c.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-o[0],-o[1]),s=K.transform(s,[1,0,0,1,o[0],o[1]]),u.transform(...n.baseTransform),this.matrix&&u.transform(...this.matrix),rA(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),r=t.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(s);r.setTransform(d)}else rA(t,this._bbox),r=this._createGradient(t);return r}}function qw(e,t,n,s,i,r,o,a){const l=t.coords,c=t.colors,u=e.data,d=e.width*4;let f;l[n+1]>l[s+1]&&(f=n,n=s,s=f,f=r,r=o,o=f),l[s+1]>l[i+1]&&(f=s,s=i,i=f,f=o,o=a,a=f),l[n+1]>l[s+1]&&(f=n,n=s,s=f,f=r,r=o,o=f);const p=(l[n]+t.offsetX)*t.scaleX,m=(l[n+1]+t.offsetY)*t.scaleY,g=(l[s]+t.offsetX)*t.scaleX,w=(l[s+1]+t.offsetY)*t.scaleY,y=(l[i]+t.offsetX)*t.scaleX,x=(l[i+1]+t.offsetY)*t.scaleY;if(m>=x)return;const v=c[r],S=c[r+1],E=c[r+2],P=c[o],_=c[o+1],R=c[o+2],k=c[a],D=c[a+1],I=c[a+2],N=Math.round(m),V=Math.round(x);let L,H,F,O,j,B,U,W;for(let Q=N;Q<=V;Q++){if(Q<w){const it=Q<m?0:(m-Q)/(m-w);L=p-(p-g)*it,H=v-(v-P)*it,F=S-(S-_)*it,O=E-(E-R)*it}else{let it;Q>x?it=1:w===x?it=0:it=(w-Q)/(w-x),L=g-(g-y)*it,H=P-(P-k)*it,F=_-(_-D)*it,O=R-(R-I)*it}let st;Q<m?st=0:Q>x?st=1:st=(m-Q)/(m-x),j=p-(p-y)*st,B=v-(v-k)*st,U=S-(S-D)*st,W=E-(E-I)*st;const mt=Math.round(Math.min(L,j)),St=Math.round(Math.max(L,j));let ut=d*Q+mt*4;for(let it=mt;it<=St;it++)st=(L-it)/(L-j),st<0?st=0:st>1&&(st=1),u[ut++]=H-(H-B)*st|0,u[ut++]=F-(F-U)*st|0,u[ut++]=O-(O-W)*st|0,u[ut++]=255}}function zH(e,t,n){const s=t.coords,i=t.colors;let r,o;switch(t.type){case"lattice":const a=t.verticesPerRow,l=Math.floor(s.length/a)-1,c=a-1;for(r=0;r<l;r++){let u=r*a;for(let d=0;d<c;d++,u++)qw(e,n,s[u],s[u+1],s[u+a],i[u],i[u+1],i[u+a]),qw(e,n,s[u+a+1],s[u+1],s[u+a],i[u+a+1],i[u+1],i[u+a])}break;case"triangles":for(r=0,o=s.length;r<o;r+=3)qw(e,n,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class UH extends dT{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[6],this._background=t[7],this.matrix=null}_createMeshCanvas(t,n,s){const a=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,u=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*t[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(u*t[1]*1.1)),3e3),p=c/d,m=u/f,g={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-l,scaleX:1/p,scaleY:1/m},w=d+2*2,y=f+2*2,x=s.getCanvas("mesh",w,y),v=x.context,S=v.createImageData(d,f);if(n){const P=S.data;for(let _=0,R=P.length;_<R;_+=4)P[_]=n[0],P[_+1]=n[1],P[_+2]=n[2],P[_+3]=255}for(const P of this._figures)zH(S,P,g);return v.putImageData(S,2,2),{canvas:x.canvas,offsetX:a-2*p,offsetY:l-2*m,scaleX:p,scaleY:m}}isModifyingCurrentTransform(){return!0}getPattern(t,n,s,i){rA(t,this._bbox);const r=new Float32Array(2);if(i===Ne.SHADING)K.singularValueDecompose2dScale(Vt(t),r);else if(this.matrix){K.singularValueDecompose2dScale(this.matrix,r);const[a,l]=r;K.singularValueDecompose2dScale(n.baseTransform,r),r[0]*=a,r[1]*=l}else K.singularValueDecompose2dScale(n.baseTransform,r);const o=this._createMeshCanvas(r,i===Ne.SHADING?null:this._background,n.cachedCanvases);return i!==Ne.SHADING&&(t.setTransform(...n.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(o.offsetX,o.offsetY),t.scale(o.scaleX,o.scaleY),t.createPattern(o.canvas,"no-repeat")}}class HH extends dT{getPattern(){return"hotpink"}}function WH(e){switch(e[0]){case"RadialAxial":return new BH(e);case"Mesh":return new UH(e);case"Dummy":return new HH}throw new Error(`Unknown IR type: ${e[0]}`)}const f3={COLORED:1,UNCOLORED:2},Qy=class Qy{constructor(t,n,s,i){this.color=t[1],this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.ctx=n,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(t){const{bbox:n,operatorList:s,paintType:i,tilingType:r,color:o,canvasGraphicsFactory:a}=this;let{xstep:l,ystep:c}=this;l=Math.abs(l),c=Math.abs(c),kx("TilingType: "+r);const u=n[0],d=n[1],f=n[2],p=n[3],m=f-u,g=p-d,w=new Float32Array(2);K.singularValueDecompose2dScale(this.matrix,w);const[y,x]=w;K.singularValueDecompose2dScale(this.baseTransform,w);const v=y*w[0],S=x*w[1];let E=m,P=g,_=!1,R=!1;const k=Math.ceil(l*v),D=Math.ceil(c*S),I=Math.ceil(m*v),N=Math.ceil(g*S);k>=I?E=l:_=!0,D>=N?P=c:R=!0;const V=this.getSizeAndScale(E,this.ctx.canvas.width,v),L=this.getSizeAndScale(P,this.ctx.canvas.height,S),H=t.cachedCanvases.getCanvas("pattern",V.size,L.size),F=H.context,O=a.createCanvasGraphics(F);if(O.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(O,i,o),F.translate(-V.scale*u,-L.scale*d),O.transform(V.scale,0,0,L.scale,0,0),F.save(),this.clipBbox(O,u,d,f,p),O.baseTransform=Vt(O.ctx),O.executeOperatorList(s),O.endDrawing(),F.restore(),_||R){const j=H.canvas;_&&(E=l),R&&(P=c);const B=this.getSizeAndScale(E,this.ctx.canvas.width,v),U=this.getSizeAndScale(P,this.ctx.canvas.height,S),W=B.size,Q=U.size,st=t.cachedCanvases.getCanvas("pattern-workaround",W,Q),mt=st.context,St=_?Math.floor(m/l):0,ut=R?Math.floor(g/c):0;for(let it=0;it<=St;it++)for(let fn=0;fn<=ut;fn++)mt.drawImage(j,W*it,Q*fn,W,Q,0,0,W,Q);return{canvas:st.canvas,scaleX:B.scale,scaleY:U.scale,offsetX:u,offsetY:d}}return{canvas:H.canvas,scaleX:V.scale,scaleY:L.scale,offsetX:u,offsetY:d}}getSizeAndScale(t,n,s){const i=Math.max(Qy.MAX_PATTERN_SIZE,n);let r=Math.ceil(t*s);return r>=i?r=i:s=r/t,{scale:s,size:r}}clipBbox(t,n,s,i,r){const o=i-n,a=r-s;t.ctx.rect(n,s,o,a),K.axialAlignedBoundingBox([n,s,i,r],Vt(t.ctx),t.current.minMax),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,n,s){const i=t.ctx,r=t.current;switch(n){case f3.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;i.fillStyle=r.fillColor=o,i.strokeStyle=r.strokeColor=a;break;case f3.UNCOLORED:i.fillStyle=i.strokeStyle=s,r.fillColor=r.strokeColor=s;break;default:throw new mH(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(t,n,s,i){let r=s;i!==Ne.SHADING&&(r=K.transform(r,n.baseTransform),this.matrix&&(r=K.transform(r,this.matrix)));const o=this.createPatternCanvas(n);let a=new DOMMatrix(r);a=a.translate(o.offsetX,o.offsetY),a=a.scale(1/o.scaleX,1/o.scaleY);const l=t.createPattern(o.canvas,"repeat");return l.setTransform(a),l}};$(Qy,"MAX_PATTERN_SIZE",3e3);let oA=Qy;function GH({src:e,srcPos:t=0,dest:n,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const a=Te.isLittleEndian?4278190080:255,[l,c]=o?[r,a]:[a,r],u=s>>3,d=s&7,f=e.length;n=new Uint32Array(n.buffer);let p=0;for(let m=0;m<i;m++){for(const w=t+u;t<w;t++){const y=t<f?e[t]:255;n[p++]=y&128?c:l,n[p++]=y&64?c:l,n[p++]=y&32?c:l,n[p++]=y&16?c:l,n[p++]=y&8?c:l,n[p++]=y&4?c:l,n[p++]=y&2?c:l,n[p++]=y&1?c:l}if(d===0)continue;const g=t<f?e[t++]:255;for(let w=0;w<d;w++)n[p++]=g&1<<7-w?c:l}return{srcPos:t,destPos:p}}const p3=16,m3=100,XH=15,g3=10,xn=16,Kw=new DOMMatrix,Hn=new Float32Array(2),jc=new Float32Array([1/0,1/0,-1/0,-1/0]);function YH(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(n,s){t.translate(n,s),this.__originalTranslate(n,s)},e.scale=function(n,s){t.scale(n,s),this.__originalScale(n,s)},e.transform=function(n,s,i,r,o,a){t.transform(n,s,i,r,o,a),this.__originalTransform(n,s,i,r,o,a)},e.setTransform=function(n,s,i,r,o,a){t.setTransform(n,s,i,r,o,a),this.__originalSetTransform(n,s,i,r,o,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(n){t.rotate(n),this.__originalRotate(n)},e.clip=function(n){t.clip(n),this.__originalClip(n)},e.moveTo=function(n,s){t.moveTo(n,s),this.__originalMoveTo(n,s)},e.lineTo=function(n,s){t.lineTo(n,s),this.__originalLineTo(n,s)},e.bezierCurveTo=function(n,s,i,r,o,a){t.bezierCurveTo(n,s,i,r,o,a),this.__originalBezierCurveTo(n,s,i,r,o,a)},e.rect=function(n,s,i,r){t.rect(n,s,i,r),this.__originalRect(n,s,i,r)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class qH{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,n,s){let i;return this.cache[t]!==void 0?(i=this.cache[t],this.canvasFactory.reset(i,n,s)):(i=this.canvasFactory.create(n,s),this.cache[t]=i),i}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const n=this.cache[t];this.canvasFactory.destroy(n),delete this.cache[t]}}}function h0(e,t,n,s,i,r,o,a,l,c){const[u,d,f,p,m,g]=Vt(e);if(d===0&&f===0){const x=o*u+m,v=Math.round(x),S=a*p+g,E=Math.round(S),P=(o+l)*u+m,_=Math.abs(Math.round(P)-v)||1,R=(a+c)*p+g,k=Math.abs(Math.round(R)-E)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(p),v,E),e.drawImage(t,n,s,i,r,0,0,_,k),e.setTransform(u,d,f,p,m,g),[_,k]}if(u===0&&p===0){const x=a*f+m,v=Math.round(x),S=o*d+g,E=Math.round(S),P=(a+c)*f+m,_=Math.abs(Math.round(P)-v)||1,R=(o+l)*d+g,k=Math.abs(Math.round(R)-E)||1;return e.setTransform(0,Math.sign(d),Math.sign(f),0,v,E),e.drawImage(t,n,s,i,r,0,0,k,_),e.setTransform(u,d,f,p,m,g),[k,_]}e.drawImage(t,n,s,i,r,o,a,l,c);const w=Math.hypot(u,d),y=Math.hypot(f,p);return[w*l,y*c]}class y3{constructor(t,n){$(this,"alphaIsShape",!1);$(this,"fontSize",0);$(this,"fontSizeScale",1);$(this,"textMatrix",null);$(this,"textMatrixScale",1);$(this,"fontMatrix",Ob);$(this,"leading",0);$(this,"x",0);$(this,"y",0);$(this,"lineX",0);$(this,"lineY",0);$(this,"charSpacing",0);$(this,"wordSpacing",0);$(this,"textHScale",1);$(this,"textRenderingMode",$e.FILL);$(this,"textRise",0);$(this,"fillColor","#000000");$(this,"strokeColor","#000000");$(this,"patternFill",!1);$(this,"patternStroke",!1);$(this,"fillAlpha",1);$(this,"strokeAlpha",1);$(this,"lineWidth",1);$(this,"activeSMask",null);$(this,"transferMaps","none");this.clipBox=new Float32Array([0,0,t,n]),this.minMax=jc.slice()}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t.minMax=this.minMax.slice(),t}getPathBoundingBox(t=Ne.FILL,n=null){const s=this.minMax.slice();if(t===Ne.STROKE){n||wt("Stroke bounding box must include transform."),K.singularValueDecompose2dScale(n,Hn);const i=Hn[0]*this.lineWidth/2,r=Hn[1]*this.lineWidth/2;s[0]-=i,s[1]-=r,s[2]+=i,s[3]+=r}return s}updateClipFromPath(){const t=K.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(t){this.clipBox.set(t,0),this.minMax.set(jc,0)}getClippedPathBoundingBox(t=Ne.FILL,n=null){return K.intersect(this.clipBox,this.getPathBoundingBox(t,n))}}function v3(e,t){if(t instanceof ImageData){e.putImageData(t,0,0);return}const n=t.height,s=t.width,i=n%xn,r=(n-i)/xn,o=i===0?r:r+1,a=e.createImageData(s,xn);let l=0,c;const u=t.data,d=a.data;let f,p,m,g;if(t.kind===lf.GRAYSCALE_1BPP){const w=u.byteLength,y=new Uint32Array(d.buffer,0,d.byteLength>>2),x=y.length,v=s+7>>3,S=4294967295,E=Te.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(m=f<r?xn:i,c=0,p=0;p<m;p++){const P=w-l;let _=0;const R=P>v?s:P*8-7,k=R&-8;let D=0,I=0;for(;_<k;_+=8)I=u[l++],y[c++]=I&128?S:E,y[c++]=I&64?S:E,y[c++]=I&32?S:E,y[c++]=I&16?S:E,y[c++]=I&8?S:E,y[c++]=I&4?S:E,y[c++]=I&2?S:E,y[c++]=I&1?S:E;for(;_<R;_++)D===0&&(I=u[l++],D=128),y[c++]=I&D?S:E,D>>=1}for(;c<x;)y[c++]=0;e.putImageData(a,0,f*xn)}}else if(t.kind===lf.RGBA_32BPP){for(p=0,g=s*xn*4,f=0;f<r;f++)d.set(u.subarray(l,l+g)),l+=g,e.putImageData(a,0,p),p+=xn;f<o&&(g=s*i*4,d.set(u.subarray(l,l+g)),e.putImageData(a,0,p))}else if(t.kind===lf.RGB_24BPP)for(m=xn,g=s*m,f=0;f<o;f++){for(f>=r&&(m=i,g=s*m),c=0,p=g;p--;)d[c++]=u[l++],d[c++]=u[l++],d[c++]=u[l++],d[c++]=255;e.putImageData(a,0,f*xn)}else throw new Error(`bad image kind: ${t.kind}`)}function x3(e,t){if(t.bitmap){e.drawImage(t.bitmap,0,0);return}const n=t.height,s=t.width,i=n%xn,r=(n-i)/xn,o=i===0?r:r+1,a=e.createImageData(s,xn);let l=0;const c=t.data,u=a.data;for(let d=0;d<o;d++){const f=d<r?xn:i;({srcPos:l}=GH({src:c,srcPos:l,dest:u,width:s,height:f,nonBlackColor:0})),e.putImageData(a,0,d*xn)}}function pd(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of n)e[s]!==void 0&&(t[s]=e[s]);e.setLineDash!==void 0&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function d0(e){e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",e.setLineDash!==void 0&&(e.setLineDash([]),e.lineDashOffset=0);const{filter:t}=e;t!=="none"&&t!==""&&(e.filter="none")}function w3(e,t){if(t)return!0;K.singularValueDecompose2dScale(e,Hn);const n=Math.fround(Gs.pixelRatio*Cr.PDF_TO_CSS_UNITS);return Hn[0]<=n&&Hn[1]<=n}const KH=["butt","round","square"],QH=["miter","round","bevel"],ZH={},b3={};var Op,aA,Vp,lA,jp,cA;const AT=class AT{constructor(t,n,s,i,r,{optionalContentConfig:o,markedContentStack:a=null},l,c){b(this,Op);b(this,Vp);b(this,jp);this.ctx=t,this.current=new y3(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new qH(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,n=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):n}beginDrawing({transform:t,viewport:n,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=a,s){const l=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Vt(this.compositeCtx))}this.ctx.save(),d0(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Vt(this.ctx)}executeOperatorList(t,n,s,i){const r=t.argsArray,o=t.fnArray;let a=n||0;const l=r.length;if(l===a)return a;const c=l-a>g3&&typeof s=="function",u=c?Date.now()+XH:0;let d=0;const f=this.commonObjs,p=this.objs;let m;for(;;){if(i!==void 0&&a===i.nextBreakPoint)return i.breakIt(a,s),a;if(m=o[a],m!==Ff.dependency)this[m].apply(this,r[a]);else for(const g of r[a]){const w=g.startsWith("g_")?f:p;if(!w.has(g))return w.get(g,s),a}if(a++,a===l)return a;if(c&&++d>g3){if(Date.now()>u)return s(),a;d=0}}}endDrawing(){C(this,Op,aA).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const n of t.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);t.clear()}this._cachedBitmapsMap.clear(),C(this,Vp,lA).call(this)}_scaleImage(t,n){const s=t.width??t.displayWidth,i=t.height??t.displayHeight;let r=Math.max(Math.hypot(n[0],n[1]),1),o=Math.max(Math.hypot(n[2],n[3]),1),a=s,l=i,c="prescale1",u,d;for(;r>2&&a>1||o>2&&l>1;){let f=a,p=l;r>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),r/=a/f),o>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,o/=l/p),u=this.cachedCanvases.getCanvas(c,f,p),d=u.context,d.clearRect(0,0,f,p),d.drawImage(t,0,0,a,l,0,0,f,p),t=u.canvas,a=f,l=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:a,paintHeight:l}}_createMaskCanvas(t){const n=this.ctx,{width:s,height:i}=t,r=this.current.fillColor,o=this.current.patternFill,a=Vt(n);let l,c,u,d;if((t.bitmap||t.data)&&t.count>1){const k=t.bitmap||t.data.buffer;c=JSON.stringify(o?a:[a.slice(0,4),r]),l=this._cachedBitmapsMap.get(k),l||(l=new Map,this._cachedBitmapsMap.set(k,l));const D=l.get(c);if(D&&!o){const I=Math.round(Math.min(a[0],a[2])+a[4]),N=Math.round(Math.min(a[1],a[3])+a[5]);return{canvas:D,offsetX:I,offsetY:N}}u=D}u||(d=this.cachedCanvases.getCanvas("maskCanvas",s,i),x3(d.context,t));let f=K.transform(a,[1/s,0,0,-1/i,0,0]);f=K.transform(f,[1,0,0,1,0,-i]);const p=jc.slice();K.axialAlignedBoundingBox([0,0,s,i],f,p);const[m,g,w,y]=p,x=Math.round(w-m)||1,v=Math.round(y-g)||1,S=this.cachedCanvases.getCanvas("fillCanvas",x,v),E=S.context,P=m,_=g;E.translate(-P,-_),E.transform(...f),u||(u=this._scaleImage(d.canvas,qs(E)),u=u.img,l&&o&&l.set(c,u)),E.imageSmoothingEnabled=w3(Vt(E),t.interpolate),h0(E,u,0,0,u.width,u.height,0,0,s,i),E.globalCompositeOperation="source-in";const R=K.transform(qs(E),[1,0,0,1,-P,-_]);return E.fillStyle=o?r.getPattern(n,this,R,Ne.FILL):r,E.fillRect(0,0,s,i),l&&!o&&(this.cachedCanvases.delete("fillCanvas"),l.set(c,S.canvas)),{canvas:S.canvas,offsetX:Math.round(P),offsetY:Math.round(_)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=KH[t]}setLineJoin(t){this.ctx.lineJoin=QH[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,n){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(t),s.lineDashOffset=n)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[n,s]of t)switch(n){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,n=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(s,t,n);this.suspendedCtx=this.ctx;const r=this.ctx=i.context;r.setTransform(this.suspendedCtx.getTransform()),pd(this.suspendedCtx,r),YH(r,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),pd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,n,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,n,s,i){const r=i[0],o=i[1],a=i[2]-r,l=i[3]-o;a===0||l===0||(this.genericComposeSMask(n.context,s,a,l,n.subtype,n.backdrop,n.transferMap,r,o,n.offsetX,n.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(s.canvas,0,0),t.restore())}genericComposeSMask(t,n,s,i,r,o,a,l,c,u,d){let f=t.canvas,p=l-u,m=c-d;if(o)if(p<0||m<0||p+s>f.width||m+i>f.height){const w=this.cachedCanvases.getCanvas("maskExtension",s,i),y=w.context;y.drawImage(f,-p,-m),y.globalCompositeOperation="destination-atop",y.fillStyle=o,y.fillRect(0,0,s,i),y.globalCompositeOperation="source-over",f=w.canvas,p=m=0}else{t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const w=new Path2D;w.rect(p,m,s,i),t.clip(w),t.globalCompositeOperation="destination-atop",t.fillStyle=o,t.fillRect(p,m,s,i),t.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),r==="Alpha"&&a?n.filter=this.filterFactory.addAlphaFilter(a):r==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(a));const g=new Path2D;g.rect(l,c,s,i),n.clip(g),n.globalCompositeOperation="destination-in",n.drawImage(f,p,m,s,i,l,c,s,i),n.restore()}save(){this.inSMaskMode&&pd(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&pd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(t,n,s,i,r,o){this.ctx.transform(t,n,s,i,r,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,n,s){let[i]=n;if(!s){i||(i=n[0]=new Path2D),this[t](i);return}if(!(i instanceof Path2D)){const r=n[0]=new Path2D;for(let o=0,a=i.length;o<a;)switch(i[o++]){case l0.moveTo:r.moveTo(i[o++],i[o++]);break;case l0.lineTo:r.lineTo(i[o++],i[o++]);break;case l0.curveTo:r.bezierCurveTo(i[o++],i[o++],i[o++],i[o++],i[o++],i[o++]);break;case l0.closePath:r.closePath();break;default:et(`Unrecognized drawing path operator: ${i[o-1]}`);break}i=r}K.axialAlignedBoundingBox(s,Vt(this.ctx),this.current.minMax),this[t](i)}closePath(){this.ctx.closePath()}stroke(t,n=!0){const s=this.ctx,i=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof i=="object"&&(i!=null&&i.getPattern)){const r=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=i.getPattern(s,this,qs(s),Ne.STROKE),r){const o=new Path2D;o.addPath(t,s.getTransform().invertSelf().multiplySelf(r)),t=o}this.rescaleAndStroke(t,!1),s.restore()}else this.rescaleAndStroke(t,!0);n&&this.consumePath(t,this.current.getClippedPathBoundingBox(Ne.STROKE,Vt(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(t){this.stroke(t)}fill(t,n=!0){const s=this.ctx,i=this.current.fillColor,r=this.current.patternFill;let o=!1;if(r){const l=i.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=i.getPattern(s,this,qs(s),Ne.FILL),l){const c=new Path2D;c.addPath(t,s.getTransform().invertSelf().multiplySelf(l)),t=c}o=!0}const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(s.fill(t,"evenodd"),this.pendingEOFill=!1):s.fill(t)),o&&s.restore(),n&&this.consumePath(t,a)}eoFill(t){this.pendingEOFill=!0,this.fill(t)}fillStroke(t){this.fill(t,!1),this.stroke(t,!1),this.consumePath(t)}eoFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}closeFillStroke(t){this.fillStroke(t)}closeEOFillStroke(t){this.pendingEOFill=!0,this.fillStroke(t)}endPath(t){this.consumePath(t)}rawFillPath(t){this.ctx.fill(t)}clip(){this.pendingClip=ZH}eoClip(){this.pendingClip=b3}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,n=this.ctx;if(t===void 0)return;const s=new Path2D,i=n.getTransform().invertSelf();for(const{transform:r,x:o,y:a,fontSize:l,path:c}of t)s.addPath(c,new DOMMatrix(r).preMultiplySelf(i).translate(o,a).scale(l,-l));n.clip(s),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,n){var u;const s=this.commonObjs.get(t),i=this.current;if(!s)throw new Error(`Can't find font for ${t}`);if(i.fontMatrix=s.fontMatrix||Ob,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&et("Invalid font matrix for font "+t),n<0?(n=-n,i.fontDirection=-1):i.fontDirection=1,this.current.font=s,this.current.fontSize=n,s.isType3Font)return;const r=s.loadedName||"sans-serif",o=((u=s.systemFontInfo)==null?void 0:u.css)||`"${r}", ${s.fallbackName}`;let a="normal";s.black?a="900":s.bold&&(a="bold");const l=s.italic?"italic":"normal";let c=n;n<p3?c=p3:n>m3&&(c=m3),this.current.fontSizeScale=n/c,this.ctx.font=`${l} ${a} ${c}px ${o}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,n){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=n}setLeadingMoveText(t,n){this.setLeading(-n),this.moveText(t,n)}setTextMatrix(t){const{current:n}=this;n.textMatrix=t,n.textMatrixScale=Math.hypot(t[0],t[1]),n.x=n.lineX=0,n.y=n.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,n,s,i,r){const o=this.ctx,a=this.current,l=a.font,c=a.textRenderingMode,u=a.fontSize/a.fontSizeScale,d=c&$e.FILL_STROKE_MASK,f=!!(c&$e.ADD_TO_PATH_FLAG),p=a.patternFill&&!l.missingFile,m=a.patternStroke&&!l.missingFile;let g;if((l.disableFontFace||f||p||m)&&(g=l.getPathGenerator(this.commonObjs,t)),l.disableFontFace||p||m){o.save(),o.translate(n,s),o.scale(u,-u);let w;if((d===$e.FILL||d===$e.FILL_STROKE)&&(i?(w=o.getTransform(),o.setTransform(...i),o.fill(C(this,jp,cA).call(this,g,w,i))):o.fill(g)),d===$e.STROKE||d===$e.FILL_STROKE)if(r){w||(w=o.getTransform()),o.setTransform(...r);const{a:y,b:x,c:v,d:S}=w,E=K.inverseTransform(r),P=K.transform([y,x,v,S,0,0],E);K.singularValueDecompose2dScale(P,Hn),o.lineWidth*=Math.max(Hn[0],Hn[1])/u,o.stroke(C(this,jp,cA).call(this,g,w,r))}else o.lineWidth/=u,o.stroke(g);o.restore()}else(d===$e.FILL||d===$e.FILL_STROKE)&&o.fillText(t,n,s),(d===$e.STROKE||d===$e.FILL_STROKE)&&o.strokeText(t,n,s);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Vt(o),x:n,y:s,fontSize:u,path:g})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const n=t.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){s=!0;break}return ot(this,"isFontSubpixelAAEnabled",s)}showText(t){const n=this.current,s=n.font;if(s.isType3Font)return this.showType3Text(t);const i=n.fontSize;if(i===0)return;const r=this.ctx,o=n.fontSizeScale,a=n.charSpacing,l=n.wordSpacing,c=n.fontDirection,u=n.textHScale*c,d=t.length,f=s.vertical,p=f?1:-1,m=s.defaultVMetrics,g=i*n.fontMatrix[0],w=n.textRenderingMode===$e.FILL&&!s.disableFontFace&&!n.patternFill;r.save(),n.textMatrix&&r.transform(...n.textMatrix),r.translate(n.x,n.y+n.textRise),c>0?r.scale(u,-1):r.scale(u,1);let y,x;if(n.patternFill){r.save();const _=n.fillColor.getPattern(r,this,qs(r),Ne.FILL);y=Vt(r),r.restore(),r.fillStyle=_}if(n.patternStroke){r.save();const _=n.strokeColor.getPattern(r,this,qs(r),Ne.STROKE);x=Vt(r),r.restore(),r.strokeStyle=_}let v=n.lineWidth;const S=n.textMatrixScale;if(S===0||v===0){const _=n.textRenderingMode&$e.FILL_STROKE_MASK;(_===$e.STROKE||_===$e.FILL_STROKE)&&(v=this.getSinglePixelWidth())}else v/=S;if(o!==1&&(r.scale(o,o),v/=o),r.lineWidth=v,s.isInvalidPDFjsFont){const _=[];let R=0;for(const k of t)_.push(k.unicode),R+=k.width;r.fillText(_.join(""),0,0),n.x+=R*g*u,r.restore(),this.compose();return}let E=0,P;for(P=0;P<d;++P){const _=t[P];if(typeof _=="number"){E+=p*_*i/1e3;continue}let R=!1;const k=(_.isSpace?l:0)+a,D=_.fontChar,I=_.accent;let N,V,L=_.width;if(f){const F=_.vmetric||m,O=-(_.vmetric?F[1]:L*.5)*g,j=F[2]*g;L=F?-F[0]:L,N=O/o,V=(E+j)/o}else N=E/o,V=0;if(s.remeasure&&L>0){const F=r.measureText(D).width*1e3/i*o;if(L<F&&this.isFontSubpixelAAEnabled){const O=L/F;R=!0,r.save(),r.scale(O,1),N/=O}else L!==F&&(N+=(L-F)/2e3*i/o)}if(this.contentVisible&&(_.isInFont||s.missingFile)){if(w&&!I)r.fillText(D,N,V);else if(this.paintChar(D,N,V,y,x),I){const F=N+i*I.offset.x/o,O=V-i*I.offset.y/o;this.paintChar(I.fontChar,F,O,y,x)}}const H=f?L*g-k*c:L*g+k*c;E+=H,R&&r.restore()}f?n.y-=E:n.x+=E*u,r.restore(),this.compose()}showType3Text(t){const n=this.ctx,s=this.current,i=s.font,r=s.fontSize,o=s.fontDirection,a=i.vertical?1:-1,l=s.charSpacing,c=s.wordSpacing,u=s.textHScale*o,d=s.fontMatrix||Ob,f=t.length,p=s.textRenderingMode===$e.INVISIBLE;let m,g,w,y;if(!(p||r===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,n.save(),s.textMatrix&&n.transform(...s.textMatrix),n.translate(s.x,s.y+s.textRise),n.scale(u,o),m=0;m<f;++m){if(g=t[m],typeof g=="number"){y=a*g*r/1e3,this.ctx.translate(y,0),s.x+=y*u;continue}const x=(g.isSpace?c:0)+l,v=i.charProcOperatorList[g.operatorListId];v?this.contentVisible&&(this.save(),n.scale(r,r),n.transform(...d),this.executeOperatorList(v),this.restore()):et(`Type3 character "${g.operatorListId}" is not available.`);const S=[g.width,0];K.applyTransform(S,d),w=S[0]*r+x,n.translate(w,0),s.x+=w*u}n.restore()}}setCharWidth(t,n){}setCharWidthAndBounds(t,n,s,i,r,o){const a=new Path2D;a.rect(s,i,r-s,o-i),this.ctx.clip(a),this.endPath()}getColorN_Pattern(t){let n;if(t[0]==="TilingPattern"){const s=this.baseTransform||Vt(this.ctx),i={createCanvasGraphics:r=>new AT(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};n=new oA(t,this.ctx,i,s)}else n=this._getPattern(t[1],t[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t){this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(t){this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(t,n=null){let s;return this.cachedPatterns.has(t)?s=this.cachedPatterns.get(t):(s=WH(this.getObject(t)),this.cachedPatterns.set(t,s)),n&&(s.matrix=n),s}shadingFill(t){if(!this.contentVisible)return;const n=this.ctx;this.save();const s=this._getPattern(t);n.fillStyle=s.getPattern(n,this,qs(n),Ne.SHADING);const i=qs(n);if(i){const{width:r,height:o}=n.canvas,a=jc.slice();K.axialAlignedBoundingBox([0,0,r,o],i,a);const[l,c,u,d]=a;this.ctx.fillRect(l,c,u-l,d-c)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){wt("Should not call beginInlineImage")}beginImageData(){wt("Should not call beginImageData")}paintFormXObjectBegin(t,n){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=Vt(this.ctx),n)){K.axialAlignedBoundingBox(n,this.baseTransform,this.current.minMax);const[s,i,r,o]=n,a=new Path2D;a.rect(s,i,r-s,o-i),this.ctx.clip(a),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;t.isolated||kx("TODO: Support non-isolated groups."),t.knockout&&et("Knockout groups not supported.");const s=Vt(n);if(t.matrix&&n.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let i=jc.slice();K.axialAlignedBoundingBox(t.bbox,Vt(n),i);const r=[0,0,n.canvas.width,n.canvas.height];i=K.intersect(i,r)||[0,0,0,0];const o=Math.floor(i[0]),a=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-o,1),c=Math.max(Math.ceil(i[3])-a,1);this.current.startNewPathAndClipBox([0,0,l,c]);let u="groupAt"+this.groupLevel;t.smask&&(u+="_smask_"+this.smaskCounter++%2);const d=this.cachedCanvases.getCanvas(u,l,c),f=d.context;f.translate(-o,-a),f.transform(...s);let p=new Path2D;const[m,g,w,y]=t.bbox;if(p.rect(m,g,w-m,y-g),t.matrix){const x=new Path2D;x.addPath(p,new DOMMatrix(t.matrix)),p=x}f.clip(p),t.smask?this.smaskStack.push({canvas:d.canvas,context:f,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(o,a),n.save()),pd(n,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Vt(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const r=jc.slice();K.axialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],i,r),this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(r)}}beginAnnotation(t,n,s,i,r){if(C(this,Op,aA).call(this),d0(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),n){const o=n[2]-n[0],a=n[3]-n[1];if(r&&this.annotationCanvasMap){s=s.slice(),s[4]-=n[0],s[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=o,n[3]=a,K.singularValueDecompose2dScale(Vt(this.ctx),Hn);const{viewportScale:l}=this,c=Math.ceil(o*this.outputScaleX*l),u=Math.ceil(a*this.outputScaleY*l);this.annotationCanvas=this.canvasFactory.create(c,u);const{canvas:d,context:f}=this.annotationCanvas;this.annotationCanvasMap.set(t,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=f,this.ctx.save(),this.ctx.setTransform(Hn[0],0,0,-Hn[1],0,a*Hn[1]),d0(this.ctx)}else{d0(this.ctx),this.endPath();const l=new Path2D;l.rect(n[0],n[1],o,a),this.ctx.clip(l)}}this.current=new y3(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),C(this,Vp,lA).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const n=t.count;t=this.getObject(t.data,t),t.count=n;const s=this.ctx,i=this._createMaskCanvas(t),r=i.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(r,i.offsetX,i.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(t,n,s=0,i=0,r,o){if(!this.contentVisible)return;t=this.getObject(t.data,t);const a=this.ctx;a.save();const l=Vt(a);a.transform(n,s,i,r,0,0);const c=this._createMaskCanvas(t);a.setTransform(1,0,0,1,c.offsetX-l[4],c.offsetY-l[5]);for(let u=0,d=o.length;u<d;u+=2){const f=K.transform(l,[n,s,i,r,o[u],o[u+1]]);a.drawImage(c.canvas,f[4],f[5])}a.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const n=this.ctx,s=this.current.fillColor,i=this.current.patternFill;for(const r of t){const{data:o,width:a,height:l,transform:c}=r,u=this.cachedCanvases.getCanvas("maskCanvas",a,l),d=u.context;d.save();const f=this.getObject(o,r);x3(d,f),d.globalCompositeOperation="source-in",d.fillStyle=i?s.getPattern(d,this,qs(n),Ne.FILL):s,d.fillRect(0,0,a,l),d.restore(),n.save(),n.transform(...c),n.scale(1,-1),h0(n,u.canvas,0,0,a,l,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const n=this.getObject(t);if(!n){et("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(t,n,s,i){if(!this.contentVisible)return;const r=this.getObject(t);if(!r){et("Dependent image isn't ready yet");return}const o=r.width,a=r.height,l=[];for(let c=0,u=i.length;c<u;c+=2)l.push({transform:[n,0,0,s,i[c],i[c+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(r,l)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:n,width:s,height:i}=t,r=this.cachedCanvases.getCanvas("inlineImage",s,i),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(n,0,0),o.filter="none",r.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const n=t.width,s=t.height,i=this.ctx;this.save();const{filter:r}=i;r!=="none"&&r!==""&&(i.filter="none"),i.scale(1/n,-1/s);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const c=this.cachedCanvases.getCanvas("inlineImage",n,s).context;v3(c,t),o=this.applyTransferMapsToCanvas(c)}const a=this._scaleImage(o,qs(i));i.imageSmoothingEnabled=w3(Vt(i),t.interpolate),h0(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-s,n,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,n){if(!this.contentVisible)return;const s=this.ctx;let i;if(t.bitmap)i=t.bitmap;else{const r=t.width,o=t.height,l=this.cachedCanvases.getCanvas("inlineImage",r,o).context;v3(l,t),i=this.applyTransferMapsToCanvas(l)}for(const r of n)s.save(),s.transform(...r.transform),s.scale(1,-1),h0(s,i,r.x,r.y,r.w,r.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,n){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,n){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t,n){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(n);const i=this.ctx;this.pendingClip&&(s||(this.pendingClip===b3?i.clip(t,"evenodd"):i.clip(t)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=Vt(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const n=Math.abs(t[0]*t[3]-t[2]*t[1]),s=Math.hypot(t[0],t[2]),i=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:n,b:s,c:i,d:r}=this.ctx.getTransform();let o,a;if(s===0&&i===0){const l=Math.abs(n),c=Math.abs(r);if(l===c)if(t===0)o=a=1/l;else{const u=l*t;o=a=u<1?1/u:1}else if(t===0)o=1/l,a=1/c;else{const u=l*t,d=c*t;o=u<1?1/u:1,a=d<1?1/d:1}}else{const l=Math.abs(n*r-s*i),c=Math.hypot(n,s),u=Math.hypot(i,r);if(t===0)o=u/l,a=c/l;else{const d=t*l;o=u>d?u/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(t,n){const{ctx:s,current:{lineWidth:i}}=this,[r,o]=this.getScaleForStroking();if(r===o){s.lineWidth=(i||1)*r,s.stroke(t);return}const a=s.getLineDash();n&&s.save(),s.scale(r,o),Kw.a=1/r,Kw.d=1/o;const l=new Path2D;if(l.addPath(t,Kw),a.length>0){const c=Math.max(r,o);s.setLineDash(a.map(u=>u/c)),s.lineDashOffset/=c}s.lineWidth=i||1,s.stroke(l),n&&s.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};Op=new WeakSet,aA=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Vp=new WeakSet,lA=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const n=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},jp=new WeakSet,cA=function(t,n,s){const i=new Path2D;return i.addPath(t,new DOMMatrix(s).invertSelf().multiplySelf(n)),i};let Zc=AT;for(const e in Ff)Zc.prototype[e]!==void 0&&(Zc.prototype[Ff[e]]=Zc.prototype[e]);var $p,Bp;class ds{static get workerPort(){return h(this,$p)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");A(this,$p,t)}static get workerSrc(){return h(this,Bp)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");A(this,Bp,t)}}$p=new WeakMap,Bp=new WeakMap,b(ds,$p,null),b(ds,Bp,"");var Mu,zp;class JH{constructor({parsedData:t,rawData:n}){b(this,Mu,void 0);b(this,zp,void 0);A(this,Mu,t),A(this,zp,n)}getRaw(){return h(this,zp)}get(t){return h(this,Mu).get(t)??null}[Symbol.iterator](){return h(this,Mu).entries()}}Mu=new WeakMap,zp=new WeakMap;const mc=Symbol("INTERNAL");var Up,Hp,Wp,Ru;class tW{constructor(t,{name:n,intent:s,usage:i,rbGroups:r}){b(this,Up,!1);b(this,Hp,!1);b(this,Wp,!1);b(this,Ru,!0);A(this,Up,!!(t&zn.DISPLAY)),A(this,Hp,!!(t&zn.PRINT)),this.name=n,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(h(this,Wp))return h(this,Ru);if(!h(this,Ru))return!1;const{print:t,view:n}=this.usage;return h(this,Up)?(n==null?void 0:n.viewState)!=="OFF":h(this,Hp)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,n,s=!1){t!==mc&&wt("Internal method `_setVisible` called."),A(this,Wp,s),A(this,Ru,n)}}Up=new WeakMap,Hp=new WeakMap,Wp=new WeakMap,Ru=new WeakMap;var so,xt,ku,Lu,Gp,uA;class eW{constructor(t,n=zn.DISPLAY){b(this,Gp);b(this,so,null);b(this,xt,new Map);b(this,ku,null);b(this,Lu,null);if(this.renderingIntent=n,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,A(this,Lu,t.order);for(const s of t.groups)h(this,xt).set(s.id,new tW(n,s));if(t.baseState==="OFF")for(const s of h(this,xt).values())s._setVisible(mc,!1);for(const s of t.on)h(this,xt).get(s)._setVisible(mc,!0);for(const s of t.off)h(this,xt).get(s)._setVisible(mc,!1);A(this,ku,this.getHash())}}isVisible(t){if(h(this,xt).size===0)return!0;if(!t)return kx("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,xt).has(t.id)?h(this,xt).get(t.id).visible:(et(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return C(this,Gp,uA).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const n of t.ids){if(!h(this,xt).has(n))return et(`Optional content group not found: ${n}`),!0;if(h(this,xt).get(n).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const n of t.ids){if(!h(this,xt).has(n))return et(`Optional content group not found: ${n}`),!0;if(!h(this,xt).get(n).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const n of t.ids){if(!h(this,xt).has(n))return et(`Optional content group not found: ${n}`),!0;if(!h(this,xt).get(n).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const n of t.ids){if(!h(this,xt).has(n))return et(`Optional content group not found: ${n}`),!0;if(h(this,xt).get(n).visible)return!1}return!0}return et(`Unknown optional content policy ${t.policy}.`),!0}return et(`Unknown group type ${t.type}.`),!0}setVisibility(t,n=!0,s=!0){var r;const i=h(this,xt).get(t);if(!i){et(`Optional content group not found: ${t}`);return}if(s&&n&&i.rbGroups.length)for(const o of i.rbGroups)for(const a of o)a!==t&&((r=h(this,xt).get(a))==null||r._setVisible(mc,!1,!0));i._setVisible(mc,!!n,!0),A(this,so,null)}setOCGState({state:t,preserveRB:n}){let s;for(const i of t){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=h(this,xt).get(i);if(r)switch(s){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!r.visible,n);break}}A(this,so,null)}get hasInitialVisibility(){return h(this,ku)===null||this.getHash()===h(this,ku)}getOrder(){return h(this,xt).size?h(this,Lu)?h(this,Lu).slice():[...h(this,xt).keys()]:null}getGroup(t){return h(this,xt).get(t)||null}getHash(){if(h(this,so)!==null)return h(this,so);const t=new h6;for(const[n,s]of h(this,xt))t.update(`${n}:${s.visible}`);return A(this,so,t.hexdigest())}[Symbol.iterator](){return h(this,xt).entries()}}so=new WeakMap,xt=new WeakMap,ku=new WeakMap,Lu=new WeakMap,Gp=new WeakSet,uA=function(t){const n=t.length;if(n<2)return!0;const s=t[0];for(let i=1;i<n;i++){const r=t[i];let o;if(Array.isArray(r))o=C(this,Gp,uA).call(this,r);else if(h(this,xt).has(r))o=h(this,xt).get(r).visible;else return et(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"};class nW{constructor(t,{disableRange:n=!1,disableStream:s=!1}){ae(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:o,contentDispositionFilename:a}=t;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(r==null?void 0:r.length)>0){const l=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!s,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),t.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),t.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:n}){const s=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==t?!1:(r._enqueue(s),!0)});ae(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var n,s,i,r;t.total===void 0?(s=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||s.call(n,{loaded:t.loaded}):(r=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||r.call(i,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const n=this._rangeReaders.indexOf(t);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new sW(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const s=new iW(this,t,n);return this._pdfDataRangeTransport.requestDataRange(t,n),this._rangeReaders.push(s),s}cancelAllRequests(t){var n;(n=this._fullRequestReader)==null||n.cancel(t);for(const s of this._rangeReaders.slice(0))s.cancel(t);this._pdfDataRangeTransport.abort()}}class sW{constructor(t,n,s=!1,i=null){this._stream=t,this._done=s||!1,this._filename=Dx(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class iW{constructor(t,n,s){this._stream=t,this._begin=n,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function rW(e){let t=!0,n=s("filename\\*","i").exec(e);if(n){n=n[1];let u=a(n);return u=unescape(u),u=l(u),u=c(u),r(u)}if(n=o(e),n){const u=c(n);return r(u)}if(n=s("filename","i").exec(e),n){n=n[1];let u=a(n);return u=c(u),r(u)}function s(u,d){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(u,d){if(u){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(u,{fatal:!0}),p=Pg(d);d=f.decode(p),t=!1}catch{}}return d}function r(u){return t&&/[\x80-\xff]/.test(u)&&(u=i("utf-8",u),t&&(u=i("iso-8859-1",u))),u}function o(u){const d=[];let f;const p=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(u))!==null;){let[,g,w,y]=f;if(g=parseInt(g,10),g in d){if(g===0)break;continue}d[g]=[w,y]}const m=[];for(let g=0;g<d.length&&g in d;++g){let[w,y]=d[g];y=a(y),w&&(y=unescape(y),g===0&&(y=l(y))),m.push(y)}return m.join("")}function a(u){if(u.startsWith('"')){const d=u.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}u=d.join('"')}return u}function l(u){const d=u.indexOf("'");if(d===-1)return u;const f=u.slice(0,d),m=u.slice(d+1).replace(/^[^']*'/,"");return i(f,m)}function c(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,m){if(p==="q"||p==="Q")return m=m.replaceAll("_"," "),m=m.replaceAll(/=([0-9a-fA-F]{2})/g,function(g,w){return String.fromCharCode(parseInt(w,16))}),i(f,m);try{m=atob(m)}catch{}return i(f,m)})}return""}function E6(e,t){const n=new Headers;if(!e||!t||typeof t!="object")return n;for(const s in t){const i=t[s];i!==void 0&&n.append(s,i)}return n}function Nx(e){var t;return((t=URL.parse(e))==null?void 0:t.origin)??null}function T6({responseHeaders:e,isHttp:t,rangeChunkSize:n,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(e.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*n)||s||!t||e.get("Accept-Ranges")!=="bytes"||(e.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function C6(e){const t=e.get("Content-Disposition");if(t){let n=rW(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(Dx(n))return n}return null}function kg(e,t){return new Of(`Unexpected server response (${e}) while retrieving PDF "${t}".`,e,e===404||e===0&&t.startsWith("file:"))}function P6(e){return e===200||e===206}function _6(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function M6(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(et(`getArrayBuffer - unexpected data format: ${e}`),new Uint8Array(e).buffer)}class oW{constructor(t){$(this,"_responseOrigin",null);this.source=t,this.isHttp=/^https?:/i.test(t.url),this.headers=E6(this.isHttp,t.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new aW(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const s=new lW(this,t,n);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var n;(n=this._fullRequestReader)==null||n.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class aW{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const n=t.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const s=new Headers(t.headers),i=n.url;fetch(i,_6(s,this._withCredentials,this._abortController)).then(r=>{if(t._responseOrigin=Nx(r.url),!P6(r.status))throw kg(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:a,suggestedLength:l}=T6({responseHeaders:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=C6(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Tr("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:M6(t),done:!1})}cancel(t){var n;(n=this._reader)==null||n.cancel(t),this._abortController.abort()}}class lW{constructor(t,n,s){this._stream=t,this._reader=null,this._loaded=0;const i=t.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(t.headers);r.append("Range",`bytes=${n}-${s-1}`);const o=i.url;fetch(o,_6(r,this._withCredentials,this._abortController)).then(a=>{const l=Nx(a.url);if(l!==t._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${t._responseOrigin}".`);if(!P6(a.status))throw kg(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:M6(t),done:!1})}cancel(t){var n;(n=this._reader)==null||n.cancel(t),this._abortController.abort()}}const Qw=200,Zw=206;function cW(e){const t=e.response;return typeof t!="string"?t:Pg(t).buffer}class uW{constructor({url:t,httpHeaders:n,withCredentials:s}){$(this,"_responseOrigin",null);this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=E6(this.isHttp,n),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(t){const n=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[r,o]of this.headers)n.setRequestHeader(r,o);return this.isHttp&&"begin"in t&&"end"in t?(n.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),i.expectedStatus=Zw):i.expectedStatus=Qw,n.responseType="arraybuffer",ae(t.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{t.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,s),n.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=t.onHeadersReceived,i.onDone=t.onDone,i.onError=t.onError,i.onProgress=t.onProgress,n.send(null),s}onProgress(t,n){var i;const s=this.pendingRequests[t];s&&((i=s.onProgress)==null||i.call(s,n))}onStateChange(t,n){const s=this.pendingRequests[t];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],i.status===0&&this.isHttp){s.onError(i.status);return}const r=i.status||Qw;if(!(r===Qw&&s.expectedStatus===Zw)&&r!==s.expectedStatus){s.onError(i.status);return}const a=cW(i);if(r===Zw){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?s.onDone({begin:parseInt(c[1],10),chunk:a}):(et('Missing or invalid "Content-Range" header.'),s.onError(0))}else a?s.onDone({begin:0,chunk:a}):s.onError(i.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const n=this.pendingRequests[t].xhr;delete this.pendingRequests[t],n.abort()}}class hW{constructor(t){this._source=t,this._manager=new uW(t),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const n=this._rangeRequestReaders.indexOf(t);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new dW(this._manager,this._source),this._fullRequestReader}getRangeReader(t,n){const s=new fW(this._manager,t,n);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var n;(n=this._fullRequestReader)==null||n.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class dW{constructor(t,n){this._manager=t,this._url=n.url,this._fullRequestId=t.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,n=this._manager.getRequestXhr(t);this._manager._responseOrigin=Nx(n.responseURL);const s=n.getAllResponseHeaders(),i=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[l,...c]=a.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=T6({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=C6(i),this._isRangeSupported&&this._manager.abortRequest(t),this._headersCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=kg(t,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var n;(n=this.onProgress)==null||n.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersCapability.reject(t);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class fW{constructor(t,n,s){this._manager=t,this._url=t.url,this._requestId=t.request({begin:n,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const t=Nx((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);t!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${t}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const n=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError??(this._storedError=kg(t,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const pW=/^[a-z][a-z0-9\-+.]+:/i;function mW(e){if(pW.test(e))return new URL(e);const t=process.getBuiltinModule("url");return new URL(t.pathToFileURL(e))}class gW{constructor(t){this.source=t,this.url=mW(t.url),ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new yW(this),this._fullRequestReader}getRangeReader(t,n){if(n<=this._progressiveDataLength)return null;const s=new vW(this,t,n);return this._rangeRequestReaders.push(s),s}cancelAllRequests(t){var n;(n=this._fullRequestReader)==null||n.cancel(t);for(const s of this._rangeRequestReaders.slice(0))s.cancel(t)}}class yW{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=kg(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Tr("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class vW{constructor(t,n,s){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=t.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:n,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var s;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(s=this.onProgress)==null||s.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const md=Symbol("INITIAL_DATA");var kn,Xp,hA;class R6{constructor(){b(this,Xp);b(this,kn,Object.create(null))}get(t,n=null){if(n){const i=C(this,Xp,hA).call(this,t);return i.promise.then(()=>n(i.data)),null}const s=h(this,kn)[t];if(!s||s.data===md)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return s.data}has(t){const n=h(this,kn)[t];return!!n&&n.data!==md}delete(t){const n=h(this,kn)[t];return!n||n.data===md?!1:(delete h(this,kn)[t],!0)}resolve(t,n=null){const s=C(this,Xp,hA).call(this,t);s.data=n,s.resolve()}clear(){var t;for(const n in h(this,kn)){const{data:s}=h(this,kn)[n];(t=s==null?void 0:s.bitmap)==null||t.close()}A(this,kn,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,kn)){const{data:n}=h(this,kn)[t];n!==md&&(yield[t,n])}}}kn=new WeakMap,Xp=new WeakSet,hA=function(t){var n;return(n=h(this,kn))[t]||(n[t]={...Promise.withResolvers(),data:md})};const xW=1e5,A3=30;var q3,io,yn,Yp,qp,Ja,Wi,Kp,Qp,tl,Du,Iu,ro,Nu,Zp,Fu,el,Jp,tm,Dt,Ou,nl,em,oo,Vu,Zy,k6,Jy,L6,nm,dA,ju,G0,sm,fA,tv,D6,ev,I6;let jf=(Dt=class{constructor({textContentSource:t,container:n,viewport:s}){b(this,Zy);b(this,Jy);b(this,nm);b(this,io,Promise.withResolvers());b(this,yn,null);b(this,Yp,!1);b(this,qp,!!((q3=globalThis.FontInspector)!=null&&q3.enabled));b(this,Ja,null);b(this,Wi,null);b(this,Kp,0);b(this,Qp,0);b(this,tl,null);b(this,Du,null);b(this,Iu,0);b(this,ro,0);b(this,Nu,Object.create(null));b(this,Zp,[]);b(this,Fu,null);b(this,el,[]);b(this,Jp,new WeakMap);b(this,tm,null);var l;if(t instanceof ReadableStream)A(this,Fu,t);else if(typeof t=="object")A(this,Fu,new ReadableStream({start(c){c.enqueue(t),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');A(this,yn,A(this,Du,n)),A(this,ro,s.scale*Gs.pixelRatio),A(this,Iu,s.rotation),A(this,Wi,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:r,pageX:o,pageY:a}=s.rawDims;A(this,tm,[1,0,0,-1,-o,a+r]),A(this,Qp,i),A(this,Kp,r),C(l=Dt,tv,D6).call(l),qo(n,s),h(this,io).promise.finally(()=>{h(Dt,Vu).delete(this),A(this,Wi,null),A(this,Nu,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:t,isFirefox:n}=Te.platform;return ot(this,"fontFamilyMap",new Map([["sans-serif",`${t&&n?"Calibri, ":""}sans-serif`],["monospace",`${t&&n?"Lucida Console, ":""}monospace`]]))}render(){const t=()=>{h(this,tl).read().then(({value:n,done:s})=>{if(s){h(this,io).resolve();return}h(this,Ja)??A(this,Ja,n.lang),Object.assign(h(this,Nu),n.styles),C(this,Zy,k6).call(this,n.items),t()},h(this,io).reject)};return A(this,tl,h(this,Fu).getReader()),h(Dt,Vu).add(this),t(),h(this,io).promise}update({viewport:t,onBefore:n=null}){var r;const s=t.scale*Gs.pixelRatio,i=t.rotation;if(i!==h(this,Iu)&&(n==null||n(),A(this,Iu,i),qo(h(this,Du),{rotation:i})),s!==h(this,ro)){n==null||n(),A(this,ro,s);const o={div:null,properties:null,ctx:C(r=Dt,ju,G0).call(r,h(this,Ja))};for(const a of h(this,el))o.properties=h(this,Jp).get(a),o.div=a,C(this,nm,dA).call(this,o)}}cancel(){var n;const t=new Tr("TextLayer task cancelled.");(n=h(this,tl))==null||n.cancel(t).catch(()=>{}),A(this,tl,null),h(this,io).reject(t)}get textDivs(){return h(this,el)}get textContentItemsStr(){return h(this,Zp)}static cleanup(){if(!(h(this,Vu).size>0)){h(this,Ou).clear();for(const{canvas:t}of h(this,nl).values())t.remove();h(this,nl).clear()}}},io=new WeakMap,yn=new WeakMap,Yp=new WeakMap,qp=new WeakMap,Ja=new WeakMap,Wi=new WeakMap,Kp=new WeakMap,Qp=new WeakMap,tl=new WeakMap,Du=new WeakMap,Iu=new WeakMap,ro=new WeakMap,Nu=new WeakMap,Zp=new WeakMap,Fu=new WeakMap,el=new WeakMap,Jp=new WeakMap,tm=new WeakMap,Ou=new WeakMap,nl=new WeakMap,em=new WeakMap,oo=new WeakMap,Vu=new WeakMap,Zy=new WeakSet,k6=function(t){var i,r;if(h(this,Yp))return;(r=h(this,Wi)).ctx??(r.ctx=C(i=Dt,ju,G0).call(i,h(this,Ja)));const n=h(this,el),s=h(this,Zp);for(const o of t){if(n.length>xW){et("Ignoring additional textDivs for performance reasons."),A(this,Yp,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=h(this,yn);A(this,yn,document.createElement("span")),h(this,yn).classList.add("markedContent"),o.id!==null&&h(this,yn).setAttribute("id",`${o.id}`),a.append(h(this,yn))}else o.type==="endMarkedContent"&&A(this,yn,h(this,yn).parentNode);continue}s.push(o.str),C(this,Jy,L6).call(this,o)}},Jy=new WeakSet,L6=function(t){var g;const n=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,el).push(n);const i=K.transform(h(this,tm),t.transform);let r=Math.atan2(i[1],i[0]);const o=h(this,Nu)[t.fontName];o.vertical&&(r+=Math.PI/2);let a=h(this,qp)&&o.fontSubstitution||o.fontFamily;a=Dt.fontFamilyMap.get(a)||a;const l=Math.hypot(i[2],i[3]),c=l*C(g=Dt,ev,I6).call(g,a,o,h(this,Ja));let u,d;r===0?(u=i[4],d=i[5]-c):(u=i[4]+c*Math.sin(r),d=i[5]-c*Math.cos(r));const f="calc(var(--total-scale-factor) *",p=n.style;h(this,yn)===h(this,Du)?(p.left=`${(100*u/h(this,Qp)).toFixed(2)}%`,p.top=`${(100*d/h(this,Kp)).toFixed(2)}%`):(p.left=`${f}${u.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(h(Dt,oo)*l).toFixed(2)}px)`,p.fontFamily=a,s.fontSize=l,n.setAttribute("role","presentation"),n.textContent=t.str,n.dir=t.dir,h(this,qp)&&(n.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),r!==0&&(s.angle=r*(180/Math.PI));let m=!1;if(t.str.length>1)m=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const w=Math.abs(t.transform[0]),y=Math.abs(t.transform[3]);w!==y&&Math.max(w,y)/Math.min(w,y)>1.5&&(m=!0)}if(m&&(s.canvasWidth=o.vertical?t.height:t.width),h(this,Jp).set(n,s),h(this,Wi).div=n,h(this,Wi).properties=s,C(this,nm,dA).call(this,h(this,Wi)),s.hasText&&h(this,yn).append(n),s.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),h(this,yn).append(w)}},nm=new WeakSet,dA=function(t){var a;const{div:n,properties:s,ctx:i}=t,{style:r}=n;let o="";if(h(Dt,oo)>1&&(o=`scale(${1/h(Dt,oo)})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:l}=r,{canvasWidth:c,fontSize:u}=s;C(a=Dt,sm,fA).call(a,i,u*h(this,ro),l);const{width:d}=i.measureText(n.textContent);d>0&&(o=`scaleX(${c*h(this,ro)/d}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(r.transform=o)},ju=new WeakSet,G0=function(t=null){let n=h(this,nl).get(t||(t=""));if(!n){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=t,document.body.append(s),n=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,nl).set(t,n),h(this,em).set(n,{size:0,family:""})}return n},sm=new WeakSet,fA=function(t,n,s){const i=h(this,em).get(t);n===i.size&&s===i.family||(t.font=`${n}px ${s}`,i.size=n,i.family=s)},tv=new WeakSet,D6=function(){if(h(this,oo)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.style.position="absolute",t.textContent="X",document.body.append(t),A(this,oo,t.getBoundingClientRect().height),t.remove()},ev=new WeakSet,I6=function(t,n,s){const i=h(this,Ou).get(t);if(i)return i;const r=C(this,ju,G0).call(this,s);r.canvas.width=r.canvas.height=A3,C(this,sm,fA).call(this,r,A3,t);const o=r.measureText(""),a=o.fontBoundingBoxAscent,l=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let c=.8;return a?c=a/(a+l):(Te.platform.isFirefox&&et("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),h(this,Ou).set(t,c),c},b(Dt,ju),b(Dt,sm),b(Dt,tv),b(Dt,ev),b(Dt,Ou,new Map),b(Dt,nl,new Map),b(Dt,em,new WeakMap),b(Dt,oo,null),b(Dt,Vu,new Set),Dt);class $f{static textContent(t){const n=[],s={items:n,styles:Object.create(null)};function i(r){var l;if(!r)return;let o=null;const a=r.name;if(a==="#text")o=r.value;else if($f.shouldBuildText(a))(l=r==null?void 0:r.attributes)!=null&&l.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&n.push({str:o}),!!r.children)for(const c of r.children)i(c)}return i(t),s}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const wW=100;function fT(e={}){typeof e=="string"||e instanceof URL?e={url:e}:(e instanceof ArrayBuffer||ArrayBuffer.isView(e))&&(e={data:e});const t=new pA,{docId:n}=t,s=e.url?RH(e.url):null,i=e.data?kH(e.data):null,r=e.httpHeaders||null,o=e.withCredentials===!0,a=e.password??null,l=e.range instanceof pT?e.range:null,c=Number.isInteger(e.rangeChunkSize)&&e.rangeChunkSize>0?e.rangeChunkSize:2**16;let u=e.worker instanceof Wh?e.worker:null;const d=e.verbosity,f=typeof e.docBaseUrl=="string"&&!Mg(e.docBaseUrl)?e.docBaseUrl:null,p=c0(e.cMapUrl),m=e.cMapPacked!==!1,g=e.CMapReaderFactory||(on?VH:u3),w=c0(e.iccUrl),y=c0(e.standardFontDataUrl),x=e.StandardFontDataFactory||(on?jH:h3),v=c0(e.wasmUrl),S=e.WasmFactory||(on?$H:d3),E=e.stopAtErrors!==!0,P=Number.isInteger(e.maxImageSize)&&e.maxImageSize>-1?e.maxImageSize:-1,_=e.isEvalSupported!==!1,R=typeof e.isOffscreenCanvasSupported=="boolean"?e.isOffscreenCanvasSupported:!on,k=typeof e.isImageDecoderSupported=="boolean"?e.isImageDecoderSupported:!on&&(Te.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(e.canvasMaxAreaInBytes)?e.canvasMaxAreaInBytes:-1,I=typeof e.disableFontFace=="boolean"?e.disableFontFace:on,N=e.fontExtraProperties===!0,V=e.enableXfa===!0,L=e.ownerDocument||globalThis.document,H=e.disableRange===!0,F=e.disableStream===!0,O=e.disableAutoFetch===!0,j=e.pdfBug===!0,B=e.CanvasFactory||(on?OH:IH),U=e.FilterFactory||(on?FH:NH),W=e.enableHWA===!0,Q=e.useWasm!==!1,st=l?l.length:e.length??NaN,mt=typeof e.useSystemFonts=="boolean"?e.useSystemFonts:!on&&!I,St=typeof e.useWorkerFetch=="boolean"?e.useWorkerFetch:!!(g===u3&&x===h3&&S===d3&&p&&y&&v&&Ed(p,document.baseURI)&&Ed(y,document.baseURI)&&Ed(v,document.baseURI)),ut=null;dH(d);const it={canvasFactory:new B({ownerDocument:L,enableHWA:W}),filterFactory:new U({docId:n,ownerDocument:L}),cMapReaderFactory:St?null:new g({baseUrl:p,isCompressed:m}),standardFontDataFactory:St?null:new x({baseUrl:y}),wasmFactory:St?null:new S({baseUrl:v})};u||(u=Wh.create({verbosity:d,port:ds.workerPort}),t._worker=u);const fn={docId:n,apiVersion:"5.3.93",data:i,password:a,disableAutoFetch:O,rangeChunkSize:c,length:st,docBaseUrl:f,enableXfa:V,evaluatorOptions:{maxImageSize:P,disableFontFace:I,ignoreErrors:E,isEvalSupported:_,isOffscreenCanvasSupported:R,isImageDecoderSupported:k,canvasMaxAreaInBytes:D,fontExtraProperties:N,useSystemFonts:mt,useWasm:Q,useWorkerFetch:St,cMapUrl:p,iccUrl:w,standardFontDataUrl:y,wasmUrl:v}},Qe={ownerDocument:L,pdfBug:j,styleElement:ut,loadingParams:{disableAutoFetch:O,enableXfa:V}};return u.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const vt=u.messageHandler.sendWithPromise("GetDocRequest",fn,i?[i.buffer]:null);let Ce;if(l)Ce=new nW(l,{disableRange:H,disableStream:F});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");const Xs=Ed(s)?oW:on?gW:hW;Ce=new Xs({url:s,length:st,httpHeaders:r,withCredentials:o,rangeChunkSize:c,disableRange:H,disableStream:F})}return vt.then(Xs=>{if(t.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const pt=new Md(n,Xs,u.port),Mt=new SW(pt,t,Ce,Qe,it);t._transport=Mt,pt.send("Ready",null)})}).catch(t._capability.reject),t}var nv;const sv=class sv{constructor(){$(this,"_capability",Promise.withResolvers());$(this,"_transport",null);$(this,"_worker",null);$(this,"docId",`d${Ze(sv,nv)._++}`);$(this,"destroyed",!1);$(this,"onPassword",null);$(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var t,n,s,i;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(r){throw(s=this._worker)!=null&&s.port&&delete this._worker._pendingDestroy,r}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}async getData(){return this._transport.getData()}};nv=new WeakMap,b(sv,nv,0);let pA=sv;var sl,im,rm,om,am,K3;let pT=(K3=class{constructor(t,n,s=!1,i=null){b(this,sl,Promise.withResolvers());b(this,im,[]);b(this,rm,[]);b(this,om,[]);b(this,am,[]);this.length=t,this.initialData=n,this.progressiveDone=s,this.contentDispositionFilename=i}addRangeListener(t){h(this,am).push(t)}addProgressListener(t){h(this,om).push(t)}addProgressiveReadListener(t){h(this,rm).push(t)}addProgressiveDoneListener(t){h(this,im).push(t)}onDataRange(t,n){for(const s of h(this,am))s(t,n)}onDataProgress(t,n){h(this,sl).promise.then(()=>{for(const s of h(this,om))s(t,n)})}onDataProgressiveRead(t){h(this,sl).promise.then(()=>{for(const n of h(this,rm))n(t)})}onDataProgressiveDone(){h(this,sl).promise.then(()=>{for(const t of h(this,im))t()})}transportReady(){h(this,sl).resolve()}requestDataRange(t,n){wt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},sl=new WeakMap,im=new WeakMap,rm=new WeakMap,om=new WeakMap,am=new WeakMap,K3);class bW{constructor(t,n){this._pdfInfo=t,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return ot(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Gi,il,Id;class AW{constructor(t,n,s,i=!1){b(this,il);b(this,Gi,!1);this._pageIndex=t,this._pageInfo=n,this._transport=s,this._stats=i?new a3:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new R6,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:n=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new _g({viewBox:this.view,userUnit:this.userUnit,scale:t,rotation:n,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:t="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return ot(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:n,intent:s="display",annotationMode:i=xi.ENABLE,transform:r=null,background:o=null,optionalContentConfigPromise:a=null,annotationCanvasMap:l=null,pageColors:c=null,printAnnotationStorage:u=null,isEditing:d=!1}){var S,E;(S=this._stats)==null||S.time("Overall");const f=this._transport.getRenderingIntent(s,i,u,d),{renderingIntent:p,cacheKey:m}=f;A(this,Gi,!1),a||(a=this._transport.getOptionalContentConfig(p));let g=this._intentStates.get(m);g||(g=Object.create(null),this._intentStates.set(m,g)),g.streamReaderCancelTimeout&&(clearTimeout(g.streamReaderCancelTimeout),g.streamReaderCancelTimeout=null);const w=!!(p&zn.PRINT);g.displayReadyCapability||(g.displayReadyCapability=Promise.withResolvers(),g.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(E=this._stats)==null||E.time("Page Request"),this._pumpOperatorList(f));const y=P=>{var _;g.renderTasks.delete(x),w&&A(this,Gi,!0),C(this,il,Id).call(this),P?(x.capability.reject(P),this._abortOperatorList({intentState:g,reason:P instanceof Error?P:new Error(P)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(_=globalThis.Stats)!=null&&_.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},x=new mA({callback:y,params:{canvasContext:t,viewport:n,transform:r,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:g.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!w,pdfBug:this._pdfBug,pageColors:c});(g.renderTasks||(g.renderTasks=new Set)).add(x);const v=x.task;return Promise.all([g.displayReadyCapability.promise,a]).then(([P,_])=>{var R;if(this.destroyed){y();return}if((R=this._stats)==null||R.time("Rendering"),!(_.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");x.initializeGraphics({transparency:P,optionalContentConfig:_}),x.operatorListChanged()}).catch(y),v}getOperatorList({intent:t="display",annotationMode:n=xi.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){var c;function r(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(l))}const o=this._transport.getRenderingIntent(t,n,s,i,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let l;return a.opListReadCapability||(l=Object.create(null),l.operatorListChanged=r,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(l),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>$f.textContent(s));const n=this.streamTextContent(t);return new Promise(function(s,i){function r(){o.read().then(function({value:l,done:c}){if(c){s(a);return}a.lang??(a.lang=l.lang),Object.assign(a.styles,l.styles),a.items.push(...l.items),r()},i)}const o=n.getReader(),a={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const s of n.renderTasks)t.push(s.completed),s.cancel();return this.objs.clear(),A(this,Gi,!1),Promise.all(t)}cleanup(t=!1){A(this,Gi,!0);const n=C(this,il,Id).call(this);return t&&n&&this._stats&&(this._stats=new a3),n}_startRenderPage(t,n){var i,r;const s=this._intentStates.get(n);s&&((i=this._stats)==null||i.timeEnd("Page Request"),(r=s.displayReadyCapability)==null||r.resolve(t))}_renderPageChunk(t,n){for(let s=0,i=t.length;s<i;s++)n.operatorList.fnArray.push(t.fnArray[s]),n.operatorList.argsArray.push(t.argsArray[s]);n.operatorList.lastChunk=t.lastChunk,n.operatorList.separateAnnots=t.separateAnnots;for(const s of n.renderTasks)s.operatorListChanged();t.lastChunk&&C(this,il,Id).call(this)}_pumpOperatorList({renderingIntent:t,cacheKey:n,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:o}=s,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:r,modifiedIds:i},o).getReader(),c=this._intentStates.get(n);c.streamReader=l;const u=()=>{l.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),u())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();C(this,il,Id).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};u()}_abortOperatorList({intentState:t,reason:n,force:s=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!s){if(t.renderTasks.size>0)return;if(n instanceof Lx){let i=wW;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})},i);return}}if(t.streamReader.cancel(new Tr(n.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===t){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Gi=new WeakMap,il=new WeakSet,Id=function(){if(!h(this,Gi)||this.destroyed)return!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),A(this,Gi,!1),!0};var ao,_s,Xi,rl,iv,ol,al,$u,X0,rv,N6,ov,F6,ll,Nd,Bu,Y0;const Rt=class Rt{constructor({name:t=null,port:n=null,verbosity:s=fH()}={}){b(this,$u);b(this,rv);b(this,ov);b(this,ll);b(this,ao,Promise.withResolvers());b(this,_s,null);b(this,Xi,null);b(this,rl,null);if(this.name=t,this.destroyed=!1,this.verbosity=s,n){if(h(Rt,al).has(n))throw new Error("Cannot use more than one PDFWorker per port.");h(Rt,al).set(n,this),C(this,rv,N6).call(this,n)}else C(this,ov,F6).call(this)}get promise(){return h(this,ao).promise}get port(){return h(this,Xi)}get messageHandler(){return h(this,_s)}destroy(){var t,n;this.destroyed=!0,(t=h(this,rl))==null||t.terminate(),A(this,rl,null),h(Rt,al).delete(h(this,Xi)),A(this,Xi,null),(n=h(this,_s))==null||n.destroy(),A(this,_s,null)}static create(t){const n=h(this,al).get(t==null?void 0:t.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Rt(t)}static get workerSrc(){if(ds.workerSrc)return ds.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return ot(this,"_setupFakeWorkerGlobal",(async()=>h(this,Bu,Y0)?h(this,Bu,Y0):(await hH(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};ao=new WeakMap,_s=new WeakMap,Xi=new WeakMap,rl=new WeakMap,iv=new WeakMap,ol=new WeakMap,al=new WeakMap,$u=new WeakSet,X0=function(){h(this,ao).resolve(),h(this,_s).send("configure",{verbosity:this.verbosity})},rv=new WeakSet,N6=function(t){A(this,Xi,t),A(this,_s,new Md("main","worker",t)),h(this,_s).on("ready",()=>{}),C(this,$u,X0).call(this)},ov=new WeakSet,F6=function(){if(h(Rt,ol)||h(Rt,Bu,Y0)){C(this,ll,Nd).call(this);return}let{workerSrc:t}=Rt;try{Rt._isSameOrigin(window.location,t)||(t=Rt._createCDNWrapper(new URL(t,window.location).href));const n=new Worker(t,{type:"module"}),s=new Md("main","worker",n),i=()=>{r.abort(),s.destroy(),n.terminate(),this.destroyed?h(this,ao).reject(new Error("Worker was destroyed")):C(this,ll,Nd).call(this)},r=new AbortController;n.addEventListener("error",()=>{h(this,rl)||i()},{signal:r.signal}),s.on("test",a=>{if(r.abort(),this.destroyed||!a){i();return}A(this,_s,s),A(this,Xi,n),A(this,rl,n),C(this,$u,X0).call(this)}),s.on("ready",a=>{if(r.abort(),this.destroyed){i();return}try{o()}catch{C(this,ll,Nd).call(this)}});const o=()=>{const a=new Uint8Array;s.send("test",a,[a.buffer])};o();return}catch{kx("The worker has been disabled.")}C(this,ll,Nd).call(this)},ll=new WeakSet,Nd=function(){h(Rt,ol)||(et("Setting up fake worker."),A(Rt,ol,!0)),Rt._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){h(this,ao).reject(new Error("Worker was destroyed"));return}const n=new DH;A(this,Xi,n);const s=`fake${Ze(Rt,iv)._++}`,i=new Md(s+"_worker",s,n);t.setup(i,n),A(this,_s,new Md(s,s+"_worker",n)),C(this,$u,X0).call(this)}).catch(t=>{h(this,ao).reject(new Error(`Setting up fake worker failed: "${t.message}".`))})},Bu=new WeakSet,Y0=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},b(Rt,Bu),b(Rt,iv,0),b(Rt,ol,!1),b(Rt,al,new WeakMap),on&&(A(Rt,ol,!0),ds.workerSrc||(ds.workerSrc="./pdf.worker.mjs")),Rt._isSameOrigin=(t,n)=>{const s=URL.parse(t);if(!(s!=null&&s.origin)||s.origin==="null")return!1;const i=new URL(n,s);return s.origin===i.origin},Rt._createCDNWrapper=t=>{const n=`await import("${t}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Rt.fromPort=t=>{if(AH("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Rt.create(t)};let Wh=Rt;var Yi,ci,zu,Uu,qi,cl,Fd;class SW{constructor(t,n,s,i,r){b(this,cl);b(this,Yi,new Map);b(this,ci,new Map);b(this,zu,new Map);b(this,Uu,new Map);b(this,qi,null);this.messageHandler=t,this.loadingTask=n,this.commonObjs=new R6,this.fontLoader=new _H({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return ot(this,"annotationStorage",new uT)}getRenderingIntent(t,n=xi.ENABLE,s=null,i=!1,r=!1){let o=zn.DISPLAY,a=eA;switch(t){case"any":o=zn.ANY;break;case"display":break;case"print":o=zn.PRINT;break;default:et(`getRenderingIntent - invalid intent: ${t}`)}const l=o&zn.PRINT&&s instanceof f6?s:this.annotationStorage;switch(n){case xi.DISABLE:o+=zn.ANNOTATIONS_DISABLE;break;case xi.ENABLE:break;case xi.ENABLE_FORMS:o+=zn.ANNOTATIONS_FORMS;break;case xi.ENABLE_STORAGE:o+=zn.ANNOTATIONS_STORAGE,a=l.serializable;break;default:et(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(o+=zn.IS_EDITING),r&&(o+=zn.OPLIST);const{ids:c,hash:u}=l.modifiedIds,d=[o,a.hash,u];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var s;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(s=h(this,qi))==null||s.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const i of h(this,ci).values())t.push(i._destroy());h(this,ci).clear(),h(this,zu).clear(),h(this,Uu).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then(()=>{var i,r;this.commonObjs.clear(),this.fontLoader.clear(),h(this,Yi).clear(),this.filterFactory.destroy(),jf.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new Tr("Worker was terminated.")),(r=this.messageHandler)==null||r.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:n}=this;t.on("GetReader",(s,i)=>{ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){i.close();return}ae(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),t.on("ReaderHeadersReady",async s=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:o}=this._fullReader;return(!i||!r)&&(this._lastProgress&&((a=n.onProgress)==null||a.call(n,this._lastProgress)),this._fullReader.onProgress=l=>{var c;(c=n.onProgress)==null||c.call(n,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:o}}),t.on("GetRangeReader",(s,i)=>{ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:o,done:a}){if(a){i.close();return}ae(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{r.cancel(o),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),t.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,n._capability.resolve(new bW(s,this))}),t.on("DocException",s=>{n._capability.reject(pn(s))}),t.on("PasswordRequest",s=>{A(this,qi,Promise.withResolvers());try{if(!n.onPassword)throw pn(s);const i=r=>{r instanceof Error?h(this,qi).reject(r):h(this,qi).resolve({password:r})};n.onPassword(i,s.code)}catch(i){h(this,qi).reject(i)}return h(this,qi).promise}),t.on("DataLoaded",s=>{var i;(i=n.onProgress)==null||i.call(n,{loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),t.on("StartRenderPage",s=>{if(this.destroyed)return;h(this,ci).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),t.on("commonobj",([s,i,r])=>{var o;if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":if("error"in r){const u=r.error;et(`Error during font loading: ${u}`),this.commonObjs.resolve(s,u);break}const a=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(u,d)=>globalThis.FontInspector.fontAdded(u,d):null,l=new MH(r,a);this.fontLoader.bind(l).catch(()=>t.sendWithPromise("FontFallback",{id:s})).finally(()=>{!l.fontExtraProperties&&l.data&&(l.data=null),this.commonObjs.resolve(s,l)});break;case"CopyLocalImage":const{imageRef:c}=r;ae(c,"The imageRef must be defined.");for(const u of h(this,ci).values())for(const[,d]of u.objs)if((d==null?void 0:d.ref)===c)return d.dataLen?(this.commonObjs.resolve(s,structuredClone(d)),d.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),t.on("obj",([s,i,r,o])=>{var l;if(this.destroyed)return;const a=h(this,ci).get(i);if(!a.objs.has(s)){if(a._intentStates.size===0){(l=o==null?void 0:o.bitmap)==null||l.close();return}switch(r){case"Image":case"Pattern":a.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),t.on("DocProgress",s=>{var i;this.destroyed||(i=n.onProgress)==null||i.call(n,{loaded:s.loaded,total:s.total})}),t.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[s.type];if(!i)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var s;this.annotationStorage.size<=0&&et("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((s=this._fullReader)==null?void 0:s.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=t-1,s=h(this,zu).get(n);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&h(this,Uu).set(r.refStr,t);const o=new AW(n,r,this,this._params.pdfBug);return h(this,ci).set(n,o),o});return h(this,zu).set(n,i),i}getPageIndex(t){return nA(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:n})}getFieldObjects(){return C(this,cl,Fd).call(this,"GetFieldObjects")}hasJSActions(){return C(this,cl,Fd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return C(this,cl,Fd).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return C(this,cl,Fd).call(this,"GetOptionalContentConfig").then(n=>new eW(n,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",n=h(this,Yi).get(t);if(n)return n;const s=this.messageHandler.sendWithPromise(t,null).then(i=>{var r,o;return{info:i[0],metadata:i[1]?new JH(i[1]):null,contentDispositionFilename:((r=this._fullReader)==null?void 0:r.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return h(this,Yi).set(t,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of h(this,ci).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,Yi).clear(),this.filterFactory.destroy(!0),jf.cleanup()}}cachedPageNumber(t){if(!nA(t))return null;const n=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Uu).get(n)??null}}Yi=new WeakMap,ci=new WeakMap,zu=new WeakMap,Uu=new WeakMap,qi=new WeakMap,cl=new WeakSet,Fd=function(t,n=null){const s=h(this,Yi).get(t);if(s)return s;const i=this.messageHandler.sendWithPromise(t,n);return h(this,Yi).set(t,i),i};var lo;class EW{constructor(t){b(this,lo,null);$(this,"onContinue",null);$(this,"onError",null);A(this,lo,t)}get promise(){return h(this,lo).capability.promise}cancel(t=0){h(this,lo).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,lo).operatorList;if(!t)return!1;const{annotationCanvasMap:n}=h(this,lo);return t.form||t.canvas&&(n==null?void 0:n.size)>0}}lo=new WeakMap;var co,ul;const ma=class ma{constructor({callback:t,params:n,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:o,pageIndex:a,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:d=!1,pageColors:f=null}){b(this,co,null);this.callback=t,this.params=n,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new EW(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:n}){var a,l;if(this.cancelled)return;if(this._canvas){if(h(ma,ul).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(ma,ul).add(this._canvas)}this._pdfBug&&((a=globalThis.StepperManager)!=null&&a.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:i,transform:r,background:o}=this.params;this.gfx=new Zc(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:r,viewport:i,transparency:t,background:o}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(t=null,n=0){var s,i,r;this.running=!1,this.cancelled=!0,(s=this.gfx)==null||s.endDrawing(),h(this,co)&&(window.cancelAnimationFrame(h(this,co)),A(this,co,null)),h(ma,ul).delete(this._canvas),t||(t=new Lx(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(t),(r=(i=this.task).onError)==null||r.call(i,t)}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?A(this,co,window.requestAnimationFrame(()=>{A(this,co,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(ma,ul).delete(this._canvas),this.callback())))}};co=new WeakMap,ul=new WeakMap,b(ma,ul,new WeakSet);let mA=ma;const O6="5.3.93",V6="cbeef3233";function S3(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}function gd(e){return Math.max(0,Math.min(255,255*e))}class E3{static CMYK_G([t,n,s,i]){return["G",1-Math.min(1,.3*t+.59*s+.11*n+i)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=gd(t),[t,t,t]}static G_HTML([t]){const n=S3(t);return`#${n}${n}${n}`}static RGB_G([t,n,s]){return["G",.3*t+.59*n+.11*s]}static RGB_rgb(t){return t.map(gd)}static RGB_HTML(t){return`#${t.map(S3).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,n,s,i]){return["RGB",1-Math.min(1,t+i),1-Math.min(1,s+i),1-Math.min(1,n+i)]}static CMYK_rgb([t,n,s,i]){return[gd(1-Math.min(1,t+i)),gd(1-Math.min(1,s+i)),gd(1-Math.min(1,n+i))]}static CMYK_HTML(t){const n=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([t,n,s]){const i=1-t,r=1-n,o=1-s,a=Math.min(i,r,o);return["CMYK",i,r,o,a]}}class TW{create(t,n,s=!1){if(t<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${t}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${t} ${n}`),i}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){wt("Abstract method `_createSVG` called.")}}class Bf extends TW{_createSVG(t){return document.createElementNS(Ci,t)}}class mT{static setupStorage(t,n,s,i,r){const o=i.getValue(n,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(t.textContent=o.value),r==="print")break;t.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?t.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&t.removeAttribute("checked"),r==="print")break;t.addEventListener("change",a=>{i.setValue(n,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&t.setAttribute("value",o.value),r==="print")break;t.addEventListener("input",a=>{i.setValue(n,{value:a.target.value})})}break;case"select":if(o.value!==null){t.setAttribute("value",o.value);for(const a of s.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}t.addEventListener("input",a=>{const l=a.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:t,element:n,storage:s=null,intent:i,linkService:r}){const{attributes:o}=n,a=t instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[l,c]of Object.entries(o))if(c!=null)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!a||l!=="href"&&l!=="newWindow")&&t.setAttribute(l,c)}a&&r.addLinkAttributes(t,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(t,o.dataId,n,s)}static render(t){var d,f;const n=t.annotationStorage,s=t.linkService,i=t.xfaHtml,r=t.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:r,linkService:s});const a=r!=="richText",l=t.div;if(l.append(o),t.viewport){const p=`matrix(${t.viewport.transform.join(",")})`;l.style.transform=p}a&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),a&&$f.shouldBuildText(i.name)&&c.push(p)}return{textDivs:c}}const u=[[i,-1,o]];for(;u.length>0;){const[p,m,g]=u.at(-1);if(m+1===p.children.length){u.pop();continue}const w=p.children[++u.at(-1)[1]];if(w===null)continue;const{name:y}=w;if(y==="#text"){const v=document.createTextNode(w.value);c.push(v),g.append(v);continue}const x=(d=w==null?void 0:w.attributes)!=null&&d.xmlns?document.createElementNS(w.attributes.xmlns,y):document.createElement(y);if(g.append(x),w.attributes&&this.setAttributes({html:x,element:w,storage:n,intent:r,linkService:s}),((f=w.children)==null?void 0:f.length)>0)u.push([w,-1,x]);else if(w.value){const v=document.createTextNode(w.value);a&&$f.shouldBuildText(y)&&c.push(v),x.append(v)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(t){const n=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=n,t.div.hidden=!1}}const CW=9,tc=new WeakSet;class T3{static create(t){switch(t.data.annotationType){case Yt.LINK:return new j6(t);case Yt.TEXT:return new PW(t);case Yt.WIDGET:switch(t.data.fieldType){case"Tx":return new _W(t);case"Btn":return t.data.radioButton?new z6(t):t.data.checkBox?new RW(t):new kW(t);case"Ch":return new LW(t);case"Sig":return new MW(t)}return new ac(t);case Yt.POPUP:return new yA(t);case Yt.FREETEXT:return new X6(t);case Yt.LINE:return new IW(t);case Yt.SQUARE:return new NW(t);case Yt.CIRCLE:return new FW(t);case Yt.POLYLINE:return new Y6(t);case Yt.CARET:return new VW(t);case Yt.INK:return new gT(t);case Yt.POLYGON:return new OW(t);case Yt.HIGHLIGHT:return new q6(t);case Yt.UNDERLINE:return new jW(t);case Yt.SQUIGGLY:return new $W(t);case Yt.STRIKEOUT:return new BW(t);case Yt.STAMP:return new K6(t);case Yt.FILEATTACHMENT:return new zW(t);default:return new te(t)}}}var hl,Hu,Wu,lm,gA;const ST=class ST{constructor(t,{isRenderable:n=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){b(this,lm);b(this,hl,null);b(this,Hu,!1);b(this,Wu,null);this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,n&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:t,richText:n}){return!!(t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return ST._hasPopupData(this.data)}updateEdited(t){var s;if(!this.container)return;h(this,hl)||A(this,hl,{rect:this.data.rect.slice(0)});const{rect:n}=t;n&&C(this,lm,gA).call(this,n),(s=h(this,Wu))==null||s.popup.updateEdited(t)}resetEdited(){var t;h(this,hl)&&(C(this,lm,gA).call(this,h(this,hl).rect),(t=h(this,Wu))==null||t.popup.resetEdited(),A(this,hl,null))}_createContainer(t){const{data:n,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",n.id),this instanceof ac||(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex++,n.alternativeText&&(r.title=n.alternativeText),n.noRotate&&r.classList.add("norotate"),!n.rect||this instanceof yA){const{rotation:g}=n;return!n.hasOwnCanvas&&g!==0&&this.setRotation(g,r),r}const{width:a,height:l}=this;if(!t&&n.borderStyle.width>0){o.borderWidth=`${n.borderStyle.width}px`;const g=n.borderStyle.horizontalCornerRadius,w=n.borderStyle.verticalCornerRadius;if(g>0||w>0){const x=`calc(${g}px * var(--total-scale-factor)) / calc(${w}px * var(--total-scale-factor))`;o.borderRadius=x}else if(this instanceof z6){const x=`calc(${a}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;o.borderRadius=x}switch(n.borderStyle.style){case hc.SOLID:o.borderStyle="solid";break;case hc.DASHED:o.borderStyle="dashed";break;case hc.BEVELED:et("Unimplemented border style: beveled");break;case hc.INSET:et("Unimplemented border style: inset");break;case hc.UNDERLINE:o.borderBottomStyle="solid";break}const y=n.borderColor||null;y?(A(this,Hu,!0),o.borderColor=K.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):o.borderWidth=0}const c=K.normalizeRect([n.rect[0],s.view[3]-n.rect[1]+s.view[1],n.rect[2],s.view[3]-n.rect[3]+s.view[1]]),{pageWidth:u,pageHeight:d,pageX:f,pageY:p}=i.rawDims;o.left=`${100*(c[0]-f)/u}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:m}=n;return n.hasOwnCanvas||m===0?(o.width=`${100*a/u}%`,o.height=`${100*l/d}%`):this.setRotation(m,r),r}setRotation(t,n=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:o}=this;t%180!==0&&([r,o]=[o,r]),n.style.width=`${100*r/s}%`,n.style.height=`${100*o/i}%`,n.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(n,s,i)=>{const r=i.detail[n],o=r[0],a=r.slice(1);i.target.style[s]=E3[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[s]:E3[`${o}_rgb`](a)})};return ot(this,"_commonActions",{display:n=>{const{display:s}=n.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:s}=n.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{t("bgColor","backgroundColor",n)},fillColor:n=>{t("fillColor","backgroundColor",n)},fgColor:n=>{t("fgColor","color",n)},textColor:n=>{t("textColor","color",n)},borderColor:n=>{t("borderColor","borderColor",n)},strokeColor:n=>{t("strokeColor","borderColor",n)},rotation:n=>{const s=n.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(t,n){const s=this._commonActions;for(const i of Object.keys(n.detail)){const r=t[i]||s[i];r==null||r(n)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const s=this._commonActions;for(const[i,r]of Object.entries(n)){const o=s[i];if(o){const a={detail:{[i]:r},target:t};o(a),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[n,s,i,r]=this.data.rect.map(g=>Math.fround(g));if(t.length===8){const[g,w,y,x]=t.subarray(2,6);if(i===g&&r===w&&n===y&&s===x)return}const{style:o}=this.container;let a;if(h(this,Hu)){const{borderColor:g,borderWidth:w}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${g}" stroke-width="${w}">`],this.container.classList.add("hasBorder")}const l=i-n,c=r-s,{svgFactory:u}=this,d=u.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=u.createElement("defs");d.append(f);const p=u.createElement("clipPath"),m=`clippath_${this.data.id}`;p.setAttribute("id",m),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let g=2,w=t.length;g<w;g+=8){const y=t[g],x=t[g+1],v=t[g+2],S=t[g+3],E=u.createElement("rect"),P=(v-n)/l,_=(r-x)/c,R=(y-v)/l,k=(x-S)/c;E.setAttribute("x",P),E.setAttribute("y",_),E.setAttribute("width",R),E.setAttribute("height",k),p.append(E),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${_}" width="${R}" height="${k}"/>`)}h(this,Hu)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${m})`}_createPopup(){const{data:t}=this,n=A(this,Wu,new yA({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){wt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,n=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[t];if(i)for(const{page:r,id:o,exportValues:a}of i){if(r===-1||o===n)continue;const l=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!tc.has(c)){et(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:l,domElement:c})}return s}for(const i of document.getElementsByName(t)){const{exportValue:r}=i,o=i.getAttribute("data-element-id");o!==n&&tc.has(i)&&s.push({id:o,exportValue:r,domElement:i})}return s}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const n of t)n.classList.add("highlightArea");else t.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var s;(s=this.linkService.eventBus)==null||s.dispatch("switchannotationeditormode",{source:this,mode:t,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};hl=new WeakMap,Hu=new WeakMap,Wu=new WeakMap,lm=new WeakSet,gA=function(t){const{container:{style:n},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}}}=this;s==null||s.splice(0,4,...t),n.left=`${100*(t[0]-a)/r}%`,n.top=`${100*(o-t[3]+l)/o}%`,i===0?(n.width=`${100*(t[2]-t[0])/r}%`,n.height=`${100*(t[3]-t[1])/o}%`):this.setRotation(i)};let te=ST;var Ki,ha,av,$6,lv,B6;class j6 extends te{constructor(n,s=null){super(n,{isRenderable:!0,ignoreBorder:!!(s!=null&&s.ignoreBorder),createQuadrilaterals:!0});b(this,Ki);b(this,av);b(this,lv);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:s}=this,i=document.createElement("a");i.setAttribute("data-element-id",n.id);let r=!1;return n.url?(s.addLinkAttributes(i,n.url,n.newWindow),r=!0):n.action?(this._bindNamedAction(i,n.action),r=!0):n.attachment?(C(this,av,$6).call(this,i,n.attachment,n.attachmentDest),r=!0):n.setOCGState?(C(this,lv,B6).call(this,i,n.setOCGState),r=!0):n.dest?(this._bindLink(i,n.dest),r=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,n),r=!0),n.resetForm?(this._bindResetFormAction(i,n.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(i),this.container}_bindLink(n,s){n.href=this.linkService.getDestinationHash(s),n.onclick=()=>(s&&this.linkService.goToDestination(s),!1),(s||s==="")&&C(this,Ki,ha).call(this)}_bindNamedAction(n,s){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(s),!1),C(this,Ki,ha).call(this)}_bindJSAction(n,s){n.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(s.actions)){const o=i.get(r);o&&(n[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:s.id,name:r}}),!1})}n.onclick||(n.onclick=()=>!1),C(this,Ki,ha).call(this)}_bindResetFormAction(n,s){const i=n.onclick;if(i||(n.href=this.linkService.getAnchorUrl("")),C(this,Ki,ha).call(this),!this._fieldObjects){et('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(n.onclick=()=>!1);return}n.onclick=()=>{var d;i==null||i();const{fields:r,refs:o,include:a}=s,l=[];if(r.length!==0||o.length!==0){const f=new Set(o);for(const p of r){const m=this._fieldObjects[p]||[];for(const{id:g}of m)f.add(g)}for(const p of Object.values(this._fieldObjects))for(const m of p)f.has(m.id)===a&&l.push(m)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const c=this.annotationStorage,u=[];for(const f of l){const{id:p}=f;switch(u.push(p),f.type){case"text":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}case"checkbox":case"radiobutton":{const g=f.defaultValue===f.exportValues;c.setValue(p,{value:g});break}case"combobox":case"listbox":{const g=f.defaultValue||"";c.setValue(p,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${p}"]`);if(m){if(!tc.has(m)){et(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}Ki=new WeakSet,ha=function(){this.container.setAttribute("data-internal-link","")},av=new WeakSet,$6=function(n,s,i=null){n.href=this.linkService.getAnchorUrl(""),s.description&&(n.title=s.description),n.onclick=()=>{var r;return(r=this.downloadManager)==null||r.openOrDownloadData(s.content,s.filename,i),!1},C(this,Ki,ha).call(this)},lv=new WeakSet,B6=function(n,s){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(s),!1),C(this,Ki,ha).call(this)};class PW extends te{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class ac extends te{render(){return this.container}showElementAndHideCanvas(t){var n;this.data.hasOwnCanvas&&(((n=t.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return Te.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,n,s,i,r){s.includes("mouse")?t.addEventListener(s,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):t.addEventListener(s,o=>{var a;if(s==="blur"){if(!n.focused||!o.relatedTarget)return;n.focused=!1}else if(s==="focus"){if(n.focused)return;n.focused=!0}r&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o)}}))})}_setEventListeners(t,n,s,i){var r,o,a;for(const[l,c]of s)(c==="Action"||(r=this.data.actions)!=null&&r[c])&&((c==="Focus"||c==="Blur")&&(n||(n={focused:!1})),this._setEventListener(t,n,l,c,i),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(t,n,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(t,n,"focus","Focus",null))}_setBackgroundColor(t){const n=this.data.backgroundColor||null;t.style.backgroundColor=n===null?"transparent":K.makeHexColor(n[0],n[1],n[2])}_setTextStyle(t){const n=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||CW,r=t.style;let o;const a=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),u=Math.round(c/(Ww*i))||1,d=c/u;o=Math.min(i,l(d/Ww))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(i,l(c/Ww))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=K.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=n[this.data.textAlignment])}_setRequired(t,n){n?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",n)}}class _W extends ac{constructor(t){const n=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:n})}setPropertyOnSiblings(t,n,s,i){const r=this.annotationStorage;for(const o of this._getElementsByName(t.name,t.id))o.domElement&&(o.domElement[n]=s),r.setValue(o.id,{[i]:s})}render(){var i,r;const t=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const o=t.getValue(n,{value:this.data.fieldValue});let a=o.value||"";const l=t.getValue(n,{charLimit:this.data.maxLen}).charLimit;l&&a.length>l&&(a=a.slice(0,l));let c=o.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=c??a,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",c??a),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),tc.add(s),s.setAttribute("data-element-id",n),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const d=this.data.dateFormat||this.data.timeFormat;d&&(s.title=d),this._setRequired(s,this.data.required),l&&(s.maxLength=l),s.addEventListener("input",p=>{t.setValue(n,{value:p.target.value}),this.setPropertyOnSiblings(s,"value",p.target.value,"value"),u.formattedValue=null}),s.addEventListener("resetform",p=>{const m=this.data.defaultFieldValue??"";s.value=u.userValue=m,u.formattedValue=null});let f=p=>{const{formattedValue:m}=u;m!=null&&(p.target.value=m),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",m=>{var w;if(u.focused)return;const{target:g}=m;u.userValue&&(g.value=u.userValue),u.lastCommittedValue=g.value,u.commitKey=1,(w=this.data.actions)!=null&&w.Focus||(u.focused=!0)}),s.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const g={value(w){u.userValue=w.detail.value??"",t.setValue(n,{value:u.userValue.toString()}),w.target.value=u.userValue},formattedValue(w){const{formattedValue:y}=w.detail;u.formattedValue=y,y!=null&&w.target!==document.activeElement&&(w.target.value=y),t.setValue(n,{formattedValue:y})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{var S;const{charLimit:y}=w.detail,{target:x}=w;if(y===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",y);let v=u.userValue;!v||v.length<=y||(v=v.slice(0,y),x.value=u.userValue=v,t.setValue(n,{value:v}),(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(g,m)}),s.addEventListener("keydown",m=>{var y;u.commitKey=1;let g=-1;if(m.key==="Escape"?g=0:m.key==="Enter"&&!this.data.multiLine?g=2:m.key==="Tab"&&(u.commitKey=3),g===-1)return;const{value:w}=m.target;u.lastCommittedValue!==w&&(u.lastCommittedValue=w,u.userValue=w,(y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:g,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const p=f;f=null,s.addEventListener("blur",m=>{var w,y;if(!u.focused||!m.relatedTarget)return;(w=this.data.actions)!=null&&w.Blur||(u.focused=!1);const{value:g}=m.target;u.userValue=g,u.lastCommittedValue!==g&&((y=this.linkService.eventBus)==null||y.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:g,willCommit:!0,commitKey:u.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),p(m)}),(r=this.data.actions)!=null&&r.Keystroke&&s.addEventListener("beforeinput",m=>{var P;u.lastCommittedValue=null;const{data:g,target:w}=m,{value:y,selectionStart:x,selectionEnd:v}=w;let S=x,E=v;switch(m.inputType){case"deleteWordBackward":{const _=y.substring(0,x).match(/\w*[^\w]*$/);_&&(S-=_[0].length);break}case"deleteWordForward":{const _=y.substring(x).match(/^[^\w]*\w*/);_&&(E+=_[0].length);break}case"deleteContentBackward":x===v&&(S-=1);break;case"deleteContentForward":x===v&&(E+=1);break}m.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:y,change:g||"",willCommit:!1,selStart:S,selEnd:E}})}),this._setEventListeners(s,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(f&&s.addEventListener("blur",f),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/l;s.classList.add("comb"),s.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class MW extends ac{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class RW extends ac{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,n=this.data,s=n.id;let i=t.getValue(s,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",t.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return tc.add(r),r.setAttribute("data-element-id",s),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=n.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",n.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,s)){const u=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=u),t.setValue(c.id,{value:u})}t.setValue(s,{value:l})}),r.addEventListener("resetform",o=>{const a=n.defaultFieldValue||"Off";o.target.checked=a===n.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const a={value(l){l.target.checked=l.detail.value!=="Off",t.setValue(s,{value:l.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class z6 extends ac{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,n=this.data,s=n.id;let i=t.getValue(s,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,t.setValue(s,{value:i})),i)for(const o of this._getElementsByName(n.fieldName,s))t.setValue(o.id,{value:!1});const r=document.createElement("input");if(tc.add(r),r.setAttribute("data-element-id",s),r.disabled=n.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=n.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:a,checked:l}=o.target;for(const c of this._getElementsByName(a,s))t.setValue(c.id,{value:!1});t.setValue(s,{value:l})}),r.addEventListener("resetform",o=>{const a=n.defaultFieldValue;o.target.checked=a!=null&&a===n.buttonValue}),this.enableScripting&&this.hasJSActions){const o=n.buttonValue;r.addEventListener("updatefromsandbox",a=>{const l={value:c=>{const u=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=u&&d.id===s;d.domElement&&(d.domElement.checked=f),t.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(l,a)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class kW extends j6{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const n=t.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),t}}class LW extends ac{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,n=this.data.id,s=t.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");tc.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",u=>{const d=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===d});for(const u of this.data.options){const d=document.createElement("option");d.textContent=u.displayValue,d.value=u.exportValue,s.value.includes(u.exportValue)&&(d.setAttribute("selected",!0),r=!1),i.append(d)}let o=null;if(r){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),i.prepend(u),o=()=>{u.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const a=u=>{const d=u?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,m=>m.selected).map(m=>m[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let l=a(!1);const c=u=>{const d=u.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",u=>{const d={value(f){o==null||o();const p=f.detail.value,m=new Set(Array.isArray(p)?p:[p]);for(const g of i.options)g.selected=m.has(g.value);t.setValue(n,{value:a(!0)}),l=a(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,m=f.detail.remove;p[m].selected=!1,i.remove(m),p.length>0&&Array.prototype.findIndex.call(p,w=>w.selected)===-1&&(p[0].selected=!0),t.setValue(n,{value:a(!0),items:c(f)}),l=a(!1)},clear(f){for(;i.length!==0;)i.remove(0);t.setValue(n,{value:null,items:[]}),l=a(!1)},insert(f){const{index:p,displayValue:m,exportValue:g}=f.detail.insert,w=i.children[p],y=document.createElement("option");y.textContent=m,y.value=g,w?w.before(y):i.append(y),t.setValue(n,{value:a(!0),items:c(f)}),l=a(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const m of p){const{displayValue:g,exportValue:w}=m,y=document.createElement("option");y.textContent=g,y.value=w,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),t.setValue(n,{value:a(!0),items:c(f)}),l=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const m of f.target.options)m.selected=p.has(m.index);t.setValue(n,{value:a(!0)}),l=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,u)}),i.addEventListener("input",u=>{var p;const d=a(!0),f=a(!1);t.setValue(n,{value:d}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):i.addEventListener("input",function(u){t.setValue(n,{value:a(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class yA extends te{constructor(t){const{data:n,elements:s}=t;super(t,{isRenderable:te._hasPopupData(n)}),this.elements=s,this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const n=this.popup=new DW({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",s.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(i=>`${lT}${i}`).join(",")),this.container}}var Gu,cv,uv,Xu,Yu,Ht,Qi,dl,cm,um,qu,Zi,Ms,Ji,hm,tr,dm,fl,pl,Ku,q0,fm,vA,hv,U6,dv,H6,fv,W6,pv,G6,Qu,K0,Zu,Q0,pm,xA;class DW{constructor({container:t,color:n,elements:s,titleObj:i,modificationDate:r,contentsObj:o,richText:a,parent:l,rect:c,parentRect:u,open:d}){b(this,Ku);b(this,fm);b(this,hv);b(this,dv);b(this,fv);b(this,pv);b(this,Qu);b(this,Zu);b(this,pm);b(this,Gu,C(this,fv,W6).bind(this));b(this,cv,C(this,pm,xA).bind(this));b(this,uv,C(this,Zu,Q0).bind(this));b(this,Xu,C(this,Qu,K0).bind(this));b(this,Yu,null);b(this,Ht,null);b(this,Qi,null);b(this,dl,null);b(this,cm,null);b(this,um,null);b(this,qu,null);b(this,Zi,!1);b(this,Ms,null);b(this,Ji,null);b(this,hm,null);b(this,tr,null);b(this,dm,null);b(this,fl,null);b(this,pl,!1);var f;A(this,Ht,t),A(this,dm,i),A(this,Qi,o),A(this,tr,a),A(this,um,l),A(this,Yu,n),A(this,hm,c),A(this,qu,u),A(this,cm,s),A(this,dl,Ix.toDateObject(r)),this.trigger=s.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",h(this,Xu)),p.addEventListener("mouseenter",h(this,uv)),p.addEventListener("mouseleave",h(this,cv)),p.classList.add("popupTriggerArea");for(const p of s)(f=p.container)==null||f.addEventListener("keydown",h(this,Gu));h(this,Ht).hidden=!0,d&&C(this,Qu,K0).call(this)}render(){if(h(this,Ms))return;const t=A(this,Ms,document.createElement("div"));if(t.className="popup",h(this,Yu)){const r=t.style.outlineColor=K.makeHexColor(...h(this,Yu));t.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");n.className="header";const s=document.createElement("h1");if(n.append(s),{dir:s.dir,str:s.textContent}=h(this,dm),t.append(n),h(this,dl)){const r=document.createElement("time");r.classList.add("popupDate"),r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:h(this,dl).valueOf()})),r.dateTime=h(this,dl).toISOString(),n.append(r)}const i=h(this,Ku,q0);if(i)mT.render({xfaHtml:i,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const r=this._formatContents(h(this,Qi));t.append(r)}h(this,Ht).append(t)}_formatContents({str:t,dir:n}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let r=0,o=i.length;r<o;++r){const a=i[r];s.append(document.createTextNode(a)),r<o-1&&s.append(document.createElement("br"))}return s}updateEdited({rect:t,popupContent:n}){var s;h(this,fl)||A(this,fl,{contentsObj:h(this,Qi),richText:h(this,tr)}),t&&A(this,Ji,null),n&&(A(this,tr,C(this,dv,H6).call(this,n)),A(this,Qi,null)),(s=h(this,Ms))==null||s.remove(),A(this,Ms,null)}resetEdited(){var t;h(this,fl)&&({contentsObj:Ze(this,Qi)._,richText:Ze(this,tr)._}=h(this,fl),A(this,fl,null),(t=h(this,Ms))==null||t.remove(),A(this,Ms,null),A(this,Ji,null))}forceHide(){A(this,pl,this.isVisible),h(this,pl)&&(h(this,Ht).hidden=!0)}maybeShow(){h(this,pl)&&(h(this,Ms)||C(this,Zu,Q0).call(this),A(this,pl,!1),h(this,Ht).hidden=!1)}get isVisible(){return h(this,Ht).hidden===!1}}Gu=new WeakMap,cv=new WeakMap,uv=new WeakMap,Xu=new WeakMap,Yu=new WeakMap,Ht=new WeakMap,Qi=new WeakMap,dl=new WeakMap,cm=new WeakMap,um=new WeakMap,qu=new WeakMap,Zi=new WeakMap,Ms=new WeakMap,Ji=new WeakMap,hm=new WeakMap,tr=new WeakMap,dm=new WeakMap,fl=new WeakMap,pl=new WeakMap,Ku=new WeakSet,q0=function(){const t=h(this,tr),n=h(this,Qi);return t!=null&&t.str&&(!(n!=null&&n.str)||n.str===t.str)&&h(this,tr).html||null},fm=new WeakSet,vA=function(){var t,n,s;return((s=(n=(t=h(this,Ku,q0))==null?void 0:t.attributes)==null?void 0:n.style)==null?void 0:s.fontSize)||0},hv=new WeakSet,U6=function(){var t,n,s;return((s=(n=(t=h(this,Ku,q0))==null?void 0:t.attributes)==null?void 0:n.style)==null?void 0:s.color)||null},dv=new WeakSet,H6=function(t){const n=[],s={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:h(this,hv,U6),fontSize:h(this,fm,vA)?`calc(${h(this,fm,vA)}px * var(--total-scale-factor))`:""}};for(const r of t.split(`
`))n.push({name:"span",value:r,attributes:i});return s},fv=new WeakSet,W6=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,Zi))&&C(this,Qu,K0).call(this)},pv=new WeakSet,G6=function(){if(h(this,Ji)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:n,pageHeight:s,pageX:i,pageY:r}}}=h(this,um);let o=!!h(this,qu),a=o?h(this,qu):h(this,hm);for(const m of h(this,cm))if(!a||K.intersect(m.data.rect,a)!==null){a=m.data.rect,o=!0;break}const l=K.normalizeRect([a[0],t[3]-a[1]+t[1],a[2],t[3]-a[3]+t[1]]),c=5,u=o?a[2]-a[0]+c:0,d=l[0]+u,f=l[1];A(this,Ji,[100*(d-i)/n,100*(f-r)/s]);const{style:p}=h(this,Ht);p.left=`${h(this,Ji)[0]}%`,p.top=`${h(this,Ji)[1]}%`},Qu=new WeakSet,K0=function(){A(this,Zi,!h(this,Zi)),h(this,Zi)?(C(this,Zu,Q0).call(this),h(this,Ht).addEventListener("click",h(this,Xu)),h(this,Ht).addEventListener("keydown",h(this,Gu))):(C(this,pm,xA).call(this),h(this,Ht).removeEventListener("click",h(this,Xu)),h(this,Ht).removeEventListener("keydown",h(this,Gu)))},Zu=new WeakSet,Q0=function(){h(this,Ms)||this.render(),this.isVisible?h(this,Zi)&&h(this,Ht).classList.add("focused"):(C(this,pv,G6).call(this),h(this,Ht).hidden=!1,h(this,Ht).style.zIndex=parseInt(h(this,Ht).style.zIndex)+1e3)},pm=new WeakSet,xA=function(){h(this,Ht).classList.remove("focused"),!(h(this,Zi)||!this.isVisible)&&(h(this,Ht).hidden=!0,h(this,Ht).style.zIndex=parseInt(h(this,Ht).style.zIndex)-1e3)};class X6 extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=tt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const n of this.textContent){const s=document.createElement("span");s.textContent=n,t.append(s)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mm;class IW extends te{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});b(this,mm,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:s,height:i}=this,r=this.svgFactory.create(s,i,!0),o=A(this,mm,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),o.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),o.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),o.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),o.setAttribute("stroke-width",n.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,mm)}addHighlightArea(){this.container.classList.add("highlightArea")}}mm=new WeakMap;var gm;class NW extends te{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});b(this,gm,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:s,height:i}=this,r=this.svgFactory.create(s,i,!0),o=n.borderStyle.width,a=A(this,gm,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",s-o),a.setAttribute("height",i-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,gm)}addHighlightArea(){this.container.classList.add("highlightArea")}}gm=new WeakMap;var ym;class FW extends te{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});b(this,ym,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:s,height:i}=this,r=this.svgFactory.create(s,i,!0),o=n.borderStyle.width,a=A(this,ym,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",s/2),a.setAttribute("cy",i/2),a.setAttribute("rx",s/2-o/2),a.setAttribute("ry",i/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),r.append(a),this.container.append(r),!n.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,ym)}addHighlightArea(){this.container.classList.add("highlightArea")}}ym=new WeakMap;var vm;class Y6 extends te{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});b(this,vm,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:s,borderStyle:i,popupRef:r},width:o,height:a}=this;if(!s)return this.container;const l=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=s.length;d<f;d+=2){const p=s[d]-n[0],m=n[3]-s[d+1];c.push(`${p},${m}`)}c=c.join(" ");const u=A(this,vm,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",c),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),l.append(u),this.container.append(l),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,vm)}addHighlightArea(){this.container.classList.add("highlightArea")}}vm=new WeakMap;class OW extends Y6{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class VW extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var xm,ml,wm,wA;class gT extends te{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});b(this,wm);b(this,xm,null);b(this,ml,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?tt.HIGHLIGHT:tt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:s,inkLists:i,borderStyle:r,popupRef:o}}=this,{transform:a,width:l,height:c}=C(this,wm,wA).call(this,s,n),u=this.svgFactory.create(l,c,!0),d=A(this,xm,this.svgFactory.createElement("svg:g"));u.append(d),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,p=i.length;f<p;f++){const m=this.svgFactory.createElement(this.svgElementName);h(this,ml).push(m),m.setAttribute("points",i[f].join(",")),d.append(m)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:s,points:i,rect:r}=n,o=h(this,xm);if(s>=0&&o.setAttribute("stroke-width",s||1),i)for(let a=0,l=h(this,ml).length;a<l;a++)h(this,ml)[a].setAttribute("points",i[a].join(","));if(r){const{transform:a,width:l,height:c}=C(this,wm,wA).call(this,this.data.rotation,r);o.parentElement.setAttribute("viewBox",`0 0 ${l} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return h(this,ml)}addHighlightArea(){this.container.classList.add("highlightArea")}}xm=new WeakMap,ml=new WeakMap,wm=new WeakSet,wA=function(n,s){switch(n){case 90:return{transform:`rotate(90) translate(${-s[0]},${s[1]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};case 180:return{transform:`rotate(180) translate(${-s[2]},${s[1]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]};case 270:return{transform:`rotate(270) translate(${-s[2]},${s[3]}) scale(1,-1)`,width:s[3]-s[1],height:s[2]-s[0]};default:return{transform:`translate(${-s[0]},${s[3]}) scale(1,-1)`,width:s[2]-s[0],height:s[3]-s[1]}}};class q6 extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=tt.HIGHLIGHT}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),t){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class jW extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),t){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class $W extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),t){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class BW extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:t,popupRef:n}}=this;if(!n&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),t){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=t,this.container.append(s)}return this.container}}class K6 extends te{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=tt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var bm,Am,bA;class zW extends te{constructor(n){var i;super(n,{isRenderable:!0});b(this,Am);b(this,bm,null);const{file:s}=this.data;this.filename=s.filename,this.content=s.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...s})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:s}=this;let i;s.hasAppearance||s.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(s.name)?"paperclip":"pushpin"}.svg`,s.fillAlpha&&s.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(s.fillAlpha*100)}%);`)),i.addEventListener("dblclick",C(this,Am,bA).bind(this)),A(this,bm,i);const{isMac:r}=Te.platform;return n.addEventListener("keydown",o=>{o.key==="Enter"&&(r?o.metaKey:o.ctrlKey)&&C(this,Am,bA).call(this)}),!s.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),n.append(i),n}getElementsToTriggerPopup(){return h(this,bm)}addHighlightArea(){this.container.classList.add("highlightArea")}}bm=new WeakMap,Am=new WeakSet,bA=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var Sm,gl,uo,Em,Tm,AA,Cm,SA,Pm;let yT=(Pm=class{constructor({div:t,accessibilityManager:n,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:o,structTreeLayer:a}){b(this,Tm);b(this,Cm);b(this,Sm,null);b(this,gl,null);b(this,uo,new Map);b(this,Em,null);this.div=t,A(this,Sm,n),A(this,gl,s),A(this,Em,a||null),this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return h(this,uo).size>0}async render(t){var o;const{annotations:n}=t,s=this.div;qo(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Bf,annotationStorage:t.annotationStorage||new uT,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const a of n){if(a.noHTML)continue;const l=a.annotationType===Yt.POPUP;if(l){const d=i.get(a.id);if(!d)continue;r.elements=d}else if(a.rect[2]===a.rect[0]||a.rect[3]===a.rect[1])continue;r.data=a;const c=T3.create(r);if(!c.isRenderable)continue;if(!l&&a.popupRef){const d=i.get(a.popupRef);d?d.push(c):i.set(a.popupRef,[c])}const u=c.render();a.hidden&&(u.style.visibility="hidden"),await C(this,Tm,AA).call(this,u,a.id,r.elements),c._isEditable&&(h(this,uo).set(c.data.id,c),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(c))}C(this,Cm,SA).call(this)}async addLinkAnnotations(t,n){const s={data:null,layer:this.div,linkService:n,svgFactory:new Bf,parent:this};for(const i of t){i.borderStyle||(i.borderStyle=Pm._defaultBorderStyle),s.data=i;const r=T3.create(s);if(!r.isRenderable)continue;const o=r.render();await C(this,Tm,AA).call(this,o,i.id,null)}}update({viewport:t}){const n=this.div;this.viewport=t,qo(n,{rotation:t.rotation}),C(this,Cm,SA).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(h(this,uo).values())}getEditableAnnotation(t){return h(this,uo).get(t)}static get _defaultBorderStyle(){return ot(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:hc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},Sm=new WeakMap,gl=new WeakMap,uo=new WeakMap,Em=new WeakMap,Tm=new WeakSet,AA=async function(t,n,s){var a,l;const i=t.firstChild||t,r=i.id=`${lT}${n}`,o=await((a=h(this,Em))==null?void 0:a.getAriaAttributes(r));if(o)for(const[c,u]of o)i.setAttribute(c,u);s?s.at(-1).container.after(t):(this.div.append(t),(l=h(this,Sm))==null||l.moveElementInDOM(this.div,t,i,!1))},Cm=new WeakSet,SA=function(){var n;if(!h(this,gl))return;const t=this.div;for(const[s,i]of h(this,gl)){const r=t.querySelector(`[data-annotation-id="${s}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:o}=r;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):r.append(i);const a=h(this,uo).get(s);a&&(a._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(s,r.id,i),a._hasNoCanvas=!1):a.canvas=i)}h(this,gl).clear()},Pm);const f0=/\r\n?|\n/g;var Rs,Ln,_m,yl,Dn,mv,Q6,gv,Z6,yv,J6,Ju,Z0,th,J0,eh,t1,vv,t5,Mm,TA,xv,e5;const bt=class bt extends Tt{constructor(n){super({...n,name:"freeTextEditor"});b(this,mv);b(this,gv);b(this,yv);b(this,Ju);b(this,eh);b(this,vv);b(this,xv);b(this,Rs,void 0);b(this,Ln,"");b(this,_m,`${this.id}-editor`);b(this,yl,null);b(this,Dn,void 0);A(this,Rs,n.color||bt._defaultColor||Tt._defaultLineColor),A(this,Dn,n.fontSize||bt._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const n=bt.prototype,s=o=>o.isEmpty(),i=Ko.TRANSLATE_SMALL,r=Ko.TRANSLATE_BIG;return ot(this,"_keyboardManager",new Rg([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-i,0],checker:s}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-r,0],checker:s}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[i,0],checker:s}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[r,0],checker:s}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-i],checker:s}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-r],checker:s}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,i],checker:s}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,r],checker:s}]]))}static initialize(n,s){Tt.initialize(n,s);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,s){switch(n){case lt.FREETEXT_SIZE:bt._defaultFontSize=s;break;case lt.FREETEXT_COLOR:bt._defaultColor=s;break}}updateParams(n,s){switch(n){case lt.FREETEXT_SIZE:C(this,mv,Q6).call(this,s);break;case lt.FREETEXT_COLOR:C(this,gv,Z6).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[lt.FREETEXT_SIZE,bt._defaultFontSize],[lt.FREETEXT_COLOR,bt._defaultColor||Tt._defaultLineColor]]}get propertiesToUpdate(){return[[lt.FREETEXT_SIZE,h(this,Dn)],[lt.FREETEXT_COLOR,h(this,Rs)]]}_translateEmpty(n,s){this._uiManager.translateSelectedEditors(n,s,!0)}getInitialTranslation(){const n=this.parentScale;return[-bt._internalPadding*n,-(bt._internalPadding+h(this,Dn))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),A(this,yl,new AbortController);const n=this._uiManager.combinedSignal(h(this,yl));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,_m)),this._isDraggable=!0,(n=h(this,yl))==null||n.abort(),A(this,yl,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var s;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(s=this._initialOptions)!=null&&s.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=h(this,Ln),s=A(this,Ln,C(this,yv,J6).call(this).trimEnd());if(n===s)return;const i=r=>{if(A(this,Ln,r),!r){this.remove();return}C(this,eh,t1).call(this),this._uiManager.rebuild(this),C(this,Ju,Z0).call(this)};this.addCommands({cmd:()=>{i(s)},undo:()=>{i(n)},mustExec:!1}),C(this,Ju,Z0).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){bt._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,s;(this._isCopy||this.annotationElementId)&&(n=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,_m)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${h(this,Dn)}px * var(--total-scale-factor))`,i.color=h(this,Rs),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[l,c]=this.getInitialTranslation();[l,c]=this.pageTranslationToScreen(l,c);const[u,d]=this.pageDimensions,[f,p]=this.pageTranslation;let m,g;switch(this.rotation){case 0:m=n+(a[0]-f)/u,g=s+this.height-(a[1]-p)/d;break;case 90:m=n+(a[0]-f)/u,g=s-(a[1]-p)/d,[l,c]=[c,-l];break;case 180:m=n-this.width+(a[0]-f)/u,g=s-(a[1]-p)/d,[l,c]=[-l,-c];break;case 270:m=n+(a[0]-f-this.height*d)/u,g=s+(a[1]-p-this.width*u)/d,[l,c]=[-c,l];break}this.setAt(m*r,g*o,l,c)}else this._moveAfterPaste(n,s);C(this,eh,t1).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var m,g,w;const s=n.clipboardData||window.clipboardData,{types:i}=s;if(i.length===1&&i[0]==="text/plain")return;n.preventDefault();const r=C(m=bt,Mm,TA).call(m,s.getData("text")||"").replaceAll(f0,`
`);if(!r)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!r.includes(`
`)){a.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:l,startOffset:c}=a,u=[],d=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(d.push(l.nodeValue.slice(c).replaceAll(f0,"")),y!==this.editorDiv){let x=u;for(const v of this.editorDiv.childNodes){if(v===y){x=d;continue}x.push(C(g=bt,th,J0).call(g,v))}}u.push(l.nodeValue.slice(0,c).replaceAll(f0,""))}else if(l===this.editorDiv){let y=u,x=0;for(const v of this.editorDiv.childNodes)x++===c&&(y=d),y.push(C(w=bt,th,J0).call(w,v))}A(this,Ln,`${u.join(`
`)}${r}${d.join(`
`)}`),C(this,eh,t1).call(this);const f=new Range;let p=Math.sumPrecise(u.map(y=>y.length));for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const x=y.nodeValue.length;if(p<=x){f.setStart(y,p),f.setEnd(y,p);break}p-=x}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(n,s,i){var a;let r=null;if(n instanceof X6){const{data:{defaultAppearanceData:{fontSize:l,fontColor:c},rect:u,rotation:d,id:f,popupRef:p},textContent:m,textPosition:g,parent:{page:{pageNumber:w}}}=n;if(!m||m.length===0)return null;r=n={annotationType:tt.FREETEXT,color:Array.from(c),fontSize:l,value:m.join(`
`),position:g,pageIndex:w-1,rect:u.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p}}const o=await super.deserialize(n,s,i);return A(o,Dn,n.fontSize),A(o,Rs,K.makeHexColor(...n.color)),A(o,Ln,C(a=bt,Mm,TA).call(a,n.value)),o._initialData=r,o}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=bt._internalPadding*this.parentScale,i=this.getRect(s,s),r=Tt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,Rs)),o={annotationType:tt.FREETEXT,color:r,fontSize:h(this,Dn),value:C(this,vv,t5).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(o.isCopy=!0,o):this.annotationElementId&&!C(this,xv,e5).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(n){const s=super.renderAnnotationElement(n);if(this.deleted)return s;const{style:i}=s;i.fontSize=`calc(${h(this,Dn)}px * var(--total-scale-factor))`,i.color=h(this,Rs),s.replaceChildren();for(const o of h(this,Ln).split(`
`)){const a=document.createElement("div");a.append(o?document.createTextNode(o):document.createElement("br")),s.append(a)}const r=bt._internalPadding*this.parentScale;return n.updateEdited({rect:this.getRect(r,r),popupContent:h(this,Ln)}),s}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Rs=new WeakMap,Ln=new WeakMap,_m=new WeakMap,yl=new WeakMap,Dn=new WeakMap,mv=new WeakSet,Q6=function(n){const s=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-h(this,Dn))*this.parentScale),A(this,Dn,r),C(this,Ju,Z0).call(this)},i=h(this,Dn);this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},gv=new WeakSet,Z6=function(n){const s=r=>{A(this,Rs,this.editorDiv.style.color=r)},i=h(this,Rs);this.addCommands({cmd:s.bind(this,n),undo:s.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yv=new WeakSet,J6=function(){var i;const n=[];this.editorDiv.normalize();let s=null;for(const r of this.editorDiv.childNodes)(s==null?void 0:s.nodeType)===Node.TEXT_NODE&&r.nodeName==="BR"||(n.push(C(i=bt,th,J0).call(i,r)),s=r);return n.join(`
`)},Ju=new WeakSet,Z0=function(){const[n,s]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:o}=this,a=o.style.display,l=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",r.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/n,this.height=i.height/s):(this.width=i.height/n,this.height=i.width/s),this.fixAndSetPosition()},th=new WeakSet,J0=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(f0,"")},eh=new WeakSet,t1=function(){if(this.editorDiv.replaceChildren(),!!h(this,Ln))for(const n of h(this,Ln).split(`
`)){const s=document.createElement("div");s.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(s)}},vv=new WeakSet,t5=function(){return h(this,Ln).replaceAll(""," ")},Mm=new WeakSet,TA=function(n){return n.replaceAll(" ","")},xv=new WeakSet,e5=function(n){const{value:s,fontSize:i,color:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||n.value!==s||n.fontSize!==i||n.color.some((a,l)=>a!==r[l])||n.pageIndex!==o},b(bt,th),b(bt,Mm),$(bt,"_freeTextDefaultContent",""),$(bt,"_internalPadding",0),$(bt,"_defaultColor",null),$(bt,"_defaultFontSize",10),$(bt,"_type","freetext"),$(bt,"_editorType",tt.FREETEXT);let EA=bt;class G{toSVGPath(){wt("Abstract method `toSVGPath` must be implemented.")}get box(){wt("Abstract getter `box` must be implemented.")}serialize(t,n){wt("Abstract method `serialize` must be implemented.")}static _rescale(t,n,s,i,r,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=n+t[a]*i,o[a+1]=s+t[a+1]*r;return o}static _rescaleAndSwap(t,n,s,i,r,o){o||(o=new Float32Array(t.length));for(let a=0,l=t.length;a<l;a+=2)o[a]=n+t[a+1]*i,o[a+1]=s+t[a]*r;return o}static _translate(t,n,s,i){i||(i=new Float32Array(t.length));for(let r=0,o=t.length;r<o;r+=2)i[r]=n+t[r],i[r+1]=s+t[r+1];return i}static svgRound(t){return Math.round(t*1e4)}static _normalizePoint(t,n,s,i,r){switch(r){case 90:return[1-n/s,t/i];case 180:return[1-t/s,1-n/i];case 270:return[n/s,1-t/i];default:return[t/s,n/i]}}static _normalizePagePoint(t,n,s){switch(s){case 90:return[1-n,t];case 180:return[1-t,1-n];case 270:return[n,1-t];default:return[t,n]}}static createBezierPoints(t,n,s,i,r,o){return[(t+5*s)/6,(n+5*i)/6,(5*s+r)/6,(5*i+o)/6,(s+r)/2,(i+o)/2]}}$(G,"PRECISION",1e-4);var In,ks,nh,sh,ui,rt,vl,xl,Rm,km,ih,rh,ho,Lm,wv,bv,wl,Od,Av,n5,Sv,s5,Ev,i5,Tv,r5,Cv,o5,Pv,a5;const ki=class ki{constructor({x:t,y:n},s,i,r,o,a=0){b(this,wl);b(this,Av);b(this,Sv);b(this,Ev);b(this,Tv);b(this,Cv);b(this,Pv);b(this,In,void 0);b(this,ks,[]);b(this,nh,void 0);b(this,sh,void 0);b(this,ui,[]);b(this,rt,new Float32Array(18));b(this,vl,void 0);b(this,xl,void 0);b(this,Rm,void 0);b(this,km,void 0);b(this,ih,void 0);b(this,rh,void 0);b(this,ho,[]);A(this,In,s),A(this,rh,r*i),A(this,sh,o),h(this,rt).set([NaN,NaN,NaN,NaN,t,n],6),A(this,nh,a),A(this,km,h(ki,Lm)*i),A(this,Rm,h(ki,bv)*i),A(this,ih,i),h(this,ho).push(t,n)}isEmpty(){return isNaN(h(this,rt)[8])}add({x:t,y:n}){var k;A(this,vl,t),A(this,xl,n);const[s,i,r,o]=h(this,In);let[a,l,c,u]=h(this,rt).subarray(8,12);const d=t-c,f=n-u,p=Math.hypot(d,f);if(p<h(this,Rm))return!1;const m=p-h(this,km),g=m/p,w=g*d,y=g*f;let x=a,v=l;a=c,l=u,c+=w,u+=y,(k=h(this,ho))==null||k.push(t,n);const S=-y/m,E=w/m,P=S*h(this,rh),_=E*h(this,rh);return h(this,rt).set(h(this,rt).subarray(2,8),0),h(this,rt).set([c+P,u+_],4),h(this,rt).set(h(this,rt).subarray(14,18),12),h(this,rt).set([c-P,u-_],16),isNaN(h(this,rt)[6])?(h(this,ui).length===0&&(h(this,rt).set([a+P,l+_],2),h(this,ui).push(NaN,NaN,NaN,NaN,(a+P-s)/r,(l+_-i)/o),h(this,rt).set([a-P,l-_],14),h(this,ks).push(NaN,NaN,NaN,NaN,(a-P-s)/r,(l-_-i)/o)),h(this,rt).set([x,v,a,l,c,u],6),!this.isEmpty()):(h(this,rt).set([x,v,a,l,c,u],6),Math.abs(Math.atan2(v-l,x-a)-Math.atan2(y,w))<Math.PI/2?([a,l,c,u]=h(this,rt).subarray(2,6),h(this,ui).push(NaN,NaN,NaN,NaN,((a+c)/2-s)/r,((l+u)/2-i)/o),[a,l,x,v]=h(this,rt).subarray(14,18),h(this,ks).push(NaN,NaN,NaN,NaN,((x+a)/2-s)/r,((v+l)/2-i)/o),!0):([x,v,a,l,c,u]=h(this,rt).subarray(0,6),h(this,ui).push(((x+5*a)/6-s)/r,((v+5*l)/6-i)/o,((5*a+c)/6-s)/r,((5*l+u)/6-i)/o,((a+c)/2-s)/r,((l+u)/2-i)/o),[c,u,a,l,x,v]=h(this,rt).subarray(12,18),h(this,ks).push(((x+5*a)/6-s)/r,((v+5*l)/6-i)/o,((5*a+c)/6-s)/r,((5*l+u)/6-i)/o,((a+c)/2-s)/r,((l+u)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,ui),n=h(this,ks);if(isNaN(h(this,rt)[6])&&!this.isEmpty())return C(this,Av,n5).call(this);const s=[];s.push(`M${t[4]} ${t[5]}`);for(let i=6;i<t.length;i+=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);C(this,Ev,i5).call(this,s);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?s.push(`L${n[i+4]} ${n[i+5]}`):s.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return C(this,Sv,s5).call(this,s),s.join(" ")}newFreeDrawOutline(t,n,s,i,r,o){return new l5(t,n,s,i,r,o)}getOutlines(){var d;const t=h(this,ui),n=h(this,ks),s=h(this,rt),[i,r,o,a]=h(this,In),l=new Float32Array((((d=h(this,ho))==null?void 0:d.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(h(this,ho)[f]-i)/o,l[f+1]=(h(this,ho)[f+1]-r)/a;if(l[l.length-2]=(h(this,vl)-i)/o,l[l.length-1]=(h(this,xl)-r)/a,isNaN(s[6])&&!this.isEmpty())return C(this,Tv,r5).call(this,l);const c=new Float32Array(h(this,ui).length+24+h(this,ks).length);let u=t.length;for(let f=0;f<u;f+=2){if(isNaN(t[f])){c[f]=c[f+1]=NaN;continue}c[f]=t[f],c[f+1]=t[f+1]}u=C(this,Pv,a5).call(this,c,u);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){c[u]=c[u+1]=NaN,u+=2;continue}c[u]=n[f+p],c[u+1]=n[f+p+1],u+=2}return C(this,Cv,o5).call(this,c,u),this.newFreeDrawOutline(c,l,h(this,In),h(this,ih),h(this,nh),h(this,sh))}};In=new WeakMap,ks=new WeakMap,nh=new WeakMap,sh=new WeakMap,ui=new WeakMap,rt=new WeakMap,vl=new WeakMap,xl=new WeakMap,Rm=new WeakMap,km=new WeakMap,ih=new WeakMap,rh=new WeakMap,ho=new WeakMap,Lm=new WeakMap,wv=new WeakMap,bv=new WeakMap,wl=new WeakSet,Od=function(){const t=h(this,rt).subarray(4,6),n=h(this,rt).subarray(16,18),[s,i,r,o]=h(this,In);return[(h(this,vl)+(t[0]-n[0])/2-s)/r,(h(this,xl)+(t[1]-n[1])/2-i)/o,(h(this,vl)+(n[0]-t[0])/2-s)/r,(h(this,xl)+(n[1]-t[1])/2-i)/o]},Av=new WeakSet,n5=function(){const[t,n,s,i]=h(this,In),[r,o,a,l]=C(this,wl,Od).call(this);return`M${(h(this,rt)[2]-t)/s} ${(h(this,rt)[3]-n)/i} L${(h(this,rt)[4]-t)/s} ${(h(this,rt)[5]-n)/i} L${r} ${o} L${a} ${l} L${(h(this,rt)[16]-t)/s} ${(h(this,rt)[17]-n)/i} L${(h(this,rt)[14]-t)/s} ${(h(this,rt)[15]-n)/i} Z`},Sv=new WeakSet,s5=function(t){const n=h(this,ks);t.push(`L${n[4]} ${n[5]} Z`)},Ev=new WeakSet,i5=function(t){const[n,s,i,r]=h(this,In),o=h(this,rt).subarray(4,6),a=h(this,rt).subarray(16,18),[l,c,u,d]=C(this,wl,Od).call(this);t.push(`L${(o[0]-n)/i} ${(o[1]-s)/r} L${l} ${c} L${u} ${d} L${(a[0]-n)/i} ${(a[1]-s)/r}`)},Tv=new WeakSet,r5=function(t){const n=h(this,rt),[s,i,r,o]=h(this,In),[a,l,c,u]=C(this,wl,Od).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-s)/r,(n[3]-i)/o,NaN,NaN,NaN,NaN,(n[4]-s)/r,(n[5]-i)/o,NaN,NaN,NaN,NaN,a,l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,(n[16]-s)/r,(n[17]-i)/o,NaN,NaN,NaN,NaN,(n[14]-s)/r,(n[15]-i)/o],0),this.newFreeDrawOutline(d,t,h(this,In),h(this,ih),h(this,nh),h(this,sh))},Cv=new WeakSet,o5=function(t,n){const s=h(this,ks);return t.set([NaN,NaN,NaN,NaN,s[4],s[5]],n),n+=6},Pv=new WeakSet,a5=function(t,n){const s=h(this,rt).subarray(4,6),i=h(this,rt).subarray(16,18),[r,o,a,l]=h(this,In),[c,u,d,f]=C(this,wl,Od).call(this);return t.set([NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-o)/l,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(i[0]-r)/a,(i[1]-o)/l],n),n+=24},b(ki,Lm,8),b(ki,wv,2),b(ki,bv,h(ki,Lm)+h(ki,wv));let J1=ki;var oh,bl,er,Dm,Nn,Im,Kt,_v,c5;class l5 extends G{constructor(n,s,i,r,o,a){super();b(this,_v);b(this,oh,void 0);b(this,bl,new Float32Array(4));b(this,er,void 0);b(this,Dm,void 0);b(this,Nn,void 0);b(this,Im,void 0);b(this,Kt,void 0);A(this,Kt,n),A(this,Nn,s),A(this,oh,i),A(this,Im,r),A(this,er,o),A(this,Dm,a),this.lastPoint=[NaN,NaN],C(this,_v,c5).call(this,a);const[l,c,u,d]=h(this,bl);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/u,n[f+1]=(n[f+1]-c)/d;for(let f=0,p=s.length;f<p;f+=2)s[f]=(s[f]-l)/u,s[f+1]=(s[f+1]-c)/d}toSVGPath(){const n=[`M${h(this,Kt)[4]} ${h(this,Kt)[5]}`];for(let s=6,i=h(this,Kt).length;s<i;s+=6){if(isNaN(h(this,Kt)[s])){n.push(`L${h(this,Kt)[s+4]} ${h(this,Kt)[s+5]}`);continue}n.push(`C${h(this,Kt)[s]} ${h(this,Kt)[s+1]} ${h(this,Kt)[s+2]} ${h(this,Kt)[s+3]} ${h(this,Kt)[s+4]} ${h(this,Kt)[s+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,s,i,r],o){const a=i-n,l=r-s;let c,u;switch(o){case 0:c=G._rescale(h(this,Kt),n,r,a,-l),u=G._rescale(h(this,Nn),n,r,a,-l);break;case 90:c=G._rescaleAndSwap(h(this,Kt),n,s,a,l),u=G._rescaleAndSwap(h(this,Nn),n,s,a,l);break;case 180:c=G._rescale(h(this,Kt),i,s,-a,l),u=G._rescale(h(this,Nn),i,s,-a,l);break;case 270:c=G._rescaleAndSwap(h(this,Kt),i,r,-a,-l),u=G._rescaleAndSwap(h(this,Nn),i,r,-a,-l);break}return{outline:Array.from(c),points:[Array.from(u)]}}get box(){return h(this,bl)}newOutliner(n,s,i,r,o,a=0){return new J1(n,s,i,r,o,a)}getNewOutline(n,s){const[i,r,o,a]=h(this,bl),[l,c,u,d]=h(this,oh),f=o*u,p=a*d,m=i*u+l,g=r*d+c,w=this.newOutliner({x:h(this,Nn)[0]*f+m,y:h(this,Nn)[1]*p+g},h(this,oh),h(this,Im),n,h(this,Dm),s??h(this,er));for(let y=2;y<h(this,Nn).length;y+=2)w.add({x:h(this,Nn)[y]*f+m,y:h(this,Nn)[y+1]*p+g});return w.getOutlines()}}oh=new WeakMap,bl=new WeakMap,er=new WeakMap,Dm=new WeakMap,Nn=new WeakMap,Im=new WeakMap,Kt=new WeakMap,_v=new WeakSet,c5=function(n){const s=h(this,Kt);let i=s[4],r=s[5];const o=[i,r,i,r];let a=i,l=r;const c=n?Math.max:Math.min;for(let d=6,f=s.length;d<f;d+=6){const p=s[d+4],m=s[d+5];if(isNaN(s[d]))K.pointBoundingBox(p,m,o),l<m?(a=p,l=m):l===m&&(a=c(a,p));else{const g=[1/0,1/0,-1/0,-1/0];K.bezierBoundingBox(i,r,...s.slice(d,d+6),g),K.rectBoundingBox(...g,o),l<g[3]?(a=g[2],l=g[3]):l===g[3]&&(a=c(a,g[2]))}i=p,r=m}const u=h(this,bl);u[0]=o[0]-h(this,er),u[1]=o[1]-h(this,er),u[2]=o[2]-o[0]+2*h(this,er),u[3]=o[3]-o[1]+2*h(this,er),this.lastPoint=[a,l]};var Nm,Fm,fo,Ls,Mv,u5,ah,e1,Rv,h5,kv,d5,Om,PA;class CA{constructor(t,n=0,s=0,i=!0){b(this,Mv);b(this,ah);b(this,Rv);b(this,kv);b(this,Om);b(this,Nm,void 0);b(this,Fm,void 0);b(this,fo,[]);b(this,Ls,[]);const r=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:m,y:g,width:w,height:y}of t){const x=Math.floor((m-n)/a)*a,v=Math.ceil((m+w+n)/a)*a,S=Math.floor((g-n)/a)*a,E=Math.ceil((g+y+n)/a)*a,P=[x,S,E,!0],_=[v,S,E,!1];h(this,fo).push(P,_),K.rectBoundingBox(x,S,v,E,r)}const l=r[2]-r[0]+2*s,c=r[3]-r[1]+2*s,u=r[0]-s,d=r[1]-s,f=h(this,fo).at(i?-1:-2),p=[f[0],f[2]];for(const m of h(this,fo)){const[g,w,y]=m;m[0]=(g-u)/l,m[1]=(w-d)/c,m[2]=(y-d)/c}A(this,Nm,new Float32Array([u,d,l,c])),A(this,Fm,p)}getOutlines(){h(this,fo).sort((n,s)=>n[0]-s[0]||n[1]-s[1]||n[2]-s[2]);const t=[];for(const n of h(this,fo))n[3]?(t.push(...C(this,Om,PA).call(this,n)),C(this,Rv,h5).call(this,n)):(C(this,kv,d5).call(this,n),t.push(...C(this,Om,PA).call(this,n)));return C(this,Mv,u5).call(this,t)}}Nm=new WeakMap,Fm=new WeakMap,fo=new WeakMap,Ls=new WeakMap,Mv=new WeakSet,u5=function(t){const n=[],s=new Set;for(const o of t){const[a,l,c]=o;n.push([a,l,o],[a,c,o])}n.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=n.length;o<a;o+=2){const l=n[o][2],c=n[o+1][2];l.push(c),c.push(l),s.add(l),s.add(c)}const i=[];let r;for(;s.size>0;){const o=s.values().next().value;let[a,l,c,u,d]=o;s.delete(o);let f=a,p=l;for(r=[a,c],i.push(r);;){let m;if(s.has(u))m=u;else if(s.has(d))m=d;else break;s.delete(m),[a,l,c,u,d]=m,f!==a&&(r.push(f,p,a,p===l?l:c),f=a),p=p===l?c:l}r.push(f,p)}return new UW(i,h(this,Nm),h(this,Fm))},ah=new WeakSet,e1=function(t){const n=h(this,Ls);let s=0,i=n.length-1;for(;s<=i;){const r=s+i>>1,o=n[r][0];if(o===t)return r;o<t?s=r+1:i=r-1}return i+1},Rv=new WeakSet,h5=function([,t,n]){const s=C(this,ah,e1).call(this,t);h(this,Ls).splice(s,0,[t,n])},kv=new WeakSet,d5=function([,t,n]){const s=C(this,ah,e1).call(this,t);for(let i=s;i<h(this,Ls).length;i++){const[r,o]=h(this,Ls)[i];if(r!==t)break;if(r===t&&o===n){h(this,Ls).splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,o]=h(this,Ls)[i];if(r!==t)break;if(r===t&&o===n){h(this,Ls).splice(i,1);return}}},Om=new WeakSet,PA=function(t){const[n,s,i]=t,r=[[n,s,i]],o=C(this,ah,e1).call(this,i);for(let a=0;a<o;a++){const[l,c]=h(this,Ls)[a];for(let u=0,d=r.length;u<d;u++){const[,f,p]=r[u];if(!(c<=f||p<=l)){if(f>=l){if(p>c)r[u][1]=c;else{if(d===1)return[];r.splice(u,1),u--,d--}continue}r[u][2]=l,p>c&&r.push([n,c,p])}}}return r};var Vm,lh;class UW extends G{constructor(n,s,i){super();b(this,Vm,void 0);b(this,lh,void 0);A(this,lh,n),A(this,Vm,s),this.lastPoint=i}toSVGPath(){const n=[];for(const s of h(this,lh)){let[i,r]=s;n.push(`M${i} ${r}`);for(let o=2;o<s.length;o+=2){const a=s[o],l=s[o+1];a===i?(n.push(`V${l}`),r=l):l===r&&(n.push(`H${a}`),i=a)}n.push("Z")}return n.join(" ")}serialize([n,s,i,r],o){const a=[],l=i-n,c=r-s;for(const u of h(this,lh)){const d=new Array(u.length);for(let f=0;f<u.length;f+=2)d[f]=n+u[f]*l,d[f+1]=r-u[f+1]*c;a.push(d)}return a}get box(){return h(this,Vm)}get classNamesForOutlining(){return["highlightOutline"]}}Vm=new WeakMap,lh=new WeakMap;class _A extends J1{newFreeDrawOutline(t,n,s,i,r,o){return new HW(t,n,s,i,r,o)}}class HW extends l5{newOutliner(t,n,s,i,r,o=0){return new _A(t,n,s,i,r,o)}}var Fn,Al,ch,he,jm,uh,nr,$m,po,Ds,hh,Bm,zm,MA,Um,RA,Hm,kA,sr,da,Lv,f5,hi,Dr;const mn=class mn{constructor({editor:t=null,uiManager:n=null}){b(this,zm);b(this,Um);b(this,Hm);b(this,sr);b(this,Lv);b(this,hi);b(this,Fn,null);b(this,Al,null);b(this,ch,void 0);b(this,he,null);b(this,jm,!1);b(this,uh,!1);b(this,nr,null);b(this,$m,void 0);b(this,po,null);b(this,Ds,null);b(this,hh,void 0);var s,i;t?(A(this,uh,!1),A(this,hh,lt.HIGHLIGHT_COLOR),A(this,nr,t)):(A(this,uh,!0),A(this,hh,lt.HIGHLIGHT_DEFAULT_COLOR)),A(this,Ds,(t==null?void 0:t._uiManager)||n),A(this,$m,h(this,Ds)._eventBus),A(this,ch,((s=t==null?void 0:t.color)==null?void 0:s.toUpperCase())||((i=h(this,Ds))==null?void 0:i.highlightColors.values().next().value)||"#FFFF98"),h(mn,Bm)||A(mn,Bm,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return ot(this,"_keyboardManager",new Rg([[["Escape","mac+Escape"],mn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],mn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],mn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],mn.prototype._moveToPrevious],[["Home","mac+Home"],mn.prototype._moveToBeginning],[["End","mac+End"],mn.prototype._moveToEnd]]))}renderButton(){const t=A(this,Fn,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.ariaHasPopup="true",h(this,nr)&&(t.ariaControls=`${h(this,nr).id}_colorpicker_dropdown`);const n=h(this,Ds)._signal;t.addEventListener("click",C(this,sr,da).bind(this),{signal:n}),t.addEventListener("keydown",C(this,Hm,kA).bind(this),{signal:n});const s=A(this,Al,document.createElement("span"));return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=h(this,ch),t.append(s),t}renderMainDropdown(){const t=A(this,he,C(this,zm,MA).call(this));return t.ariaOrientation="horizontal",t.ariaLabelledBy="highlightColorPickerLabel",t}_colorSelectFromKeyboard(t){if(t.target===h(this,Fn)){C(this,sr,da).call(this,t);return}const n=t.target.getAttribute("data-color");n&&C(this,Um,RA).call(this,n,t)}_moveToNext(t){var n,s;if(!h(this,hi,Dr)){C(this,sr,da).call(this,t);return}if(t.target===h(this,Fn)){(n=h(this,he).firstChild)==null||n.focus();return}(s=t.target.nextSibling)==null||s.focus()}_moveToPrevious(t){var n,s;if(t.target===((n=h(this,he))==null?void 0:n.firstChild)||t.target===h(this,Fn)){h(this,hi,Dr)&&this._hideDropdownFromKeyboard();return}h(this,hi,Dr)||C(this,sr,da).call(this,t),(s=t.target.previousSibling)==null||s.focus()}_moveToBeginning(t){var n;if(!h(this,hi,Dr)){C(this,sr,da).call(this,t);return}(n=h(this,he).firstChild)==null||n.focus()}_moveToEnd(t){var n;if(!h(this,hi,Dr)){C(this,sr,da).call(this,t);return}(n=h(this,he).lastChild)==null||n.focus()}hideDropdown(){var t,n;(t=h(this,he))==null||t.classList.add("hidden"),h(this,Fn).ariaExpanded="false",(n=h(this,po))==null||n.abort(),A(this,po,null)}_hideDropdownFromKeyboard(){var t;if(!h(this,uh)){if(!h(this,hi,Dr)){(t=h(this,nr))==null||t.unselect();return}this.hideDropdown(),h(this,Fn).focus({preventScroll:!0,focusVisible:h(this,jm)})}}updateColor(t){if(h(this,Al)&&(h(this,Al).style.backgroundColor=t),!h(this,he))return;const n=h(this,Ds).highlightColors.values();for(const s of h(this,he).children)s.ariaSelected=n.next().value===t.toUpperCase()}destroy(){var t,n;(t=h(this,Fn))==null||t.remove(),A(this,Fn,null),A(this,Al,null),(n=h(this,he))==null||n.remove(),A(this,he,null)}};Fn=new WeakMap,Al=new WeakMap,ch=new WeakMap,he=new WeakMap,jm=new WeakMap,uh=new WeakMap,nr=new WeakMap,$m=new WeakMap,po=new WeakMap,Ds=new WeakMap,hh=new WeakMap,Bm=new WeakMap,zm=new WeakSet,MA=function(){const t=document.createElement("div"),n=h(this,Ds)._signal;t.addEventListener("contextmenu",vs,{signal:n}),t.className="dropdown",t.role="listbox",t.ariaMultiSelectable="false",t.ariaOrientation="vertical",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),h(this,nr)&&(t.id=`${h(this,nr).id}_colorpicker_dropdown`);for(const[s,i]of h(this,Ds).highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",h(mn,Bm)[s]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=i,r.ariaSelected=i===h(this,ch),r.addEventListener("click",C(this,Um,RA).bind(this,i),{signal:n}),t.append(r)}return t.addEventListener("keydown",C(this,Hm,kA).bind(this),{signal:n}),t},Um=new WeakSet,RA=function(t,n){n.stopPropagation(),h(this,$m).dispatch("switchannotationeditorparams",{source:this,type:h(this,hh),value:t})},Hm=new WeakSet,kA=function(t){mn._keyboardManager.exec(this,t)},sr=new WeakSet,da=function(t){if(h(this,hi,Dr)){this.hideDropdown();return}if(A(this,jm,t.detail===0),h(this,po)||(A(this,po,new AbortController),window.addEventListener("pointerdown",C(this,Lv,f5).bind(this),{signal:h(this,Ds).combinedSignal(h(this,po))})),h(this,Fn).ariaExpanded="true",h(this,he)){h(this,he).classList.remove("hidden");return}const n=A(this,he,C(this,zm,MA).call(this));h(this,Fn).append(n)},Lv=new WeakSet,f5=function(t){var n;(n=h(this,he))!=null&&n.contains(t.target)||this.hideDropdown()},hi=new WeakSet,Dr=function(){return h(this,he)&&!h(this,he).classList.contains("hidden")},b(mn,Bm,null);let zf=mn;var dh,Wm,ir,Sl,Gm,vn,Xm,Ym,El,os,On,ke,fh,rr,He,ph,as,qm,Km,LA,mh,n1,Dv,p5,Iv,m5,Nv,g5,Qm,DA,or,fa,mo,gc,Fv,y5,gh,s1,Tl,Vd,Ov,v5,Vv,x5,jv,w5,$v,b5,Bv,A5;const ht=class ht extends Tt{constructor(n){super({...n,name:"highlightEditor"});b(this,Km);b(this,mh);b(this,Dv);b(this,Iv);b(this,Nv);b(this,Qm);b(this,or);b(this,Fv);b(this,gh);b(this,Tl);b(this,Ov);b(this,Vv);b(this,Bv);b(this,dh,null);b(this,Wm,0);b(this,ir,void 0);b(this,Sl,null);b(this,Gm,null);b(this,vn,null);b(this,Xm,null);b(this,Ym,0);b(this,El,null);b(this,os,null);b(this,On,null);b(this,ke,!1);b(this,fh,null);b(this,rr,void 0);b(this,He,null);b(this,ph,"");b(this,as,void 0);b(this,qm,"");this.color=n.color||ht._defaultColor,A(this,as,n.thickness||ht._defaultThickness),A(this,rr,n.opacity||ht._defaultOpacity),A(this,ir,n.boxes||null),A(this,qm,n.methodOfCreation||""),A(this,ph,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(A(this,ke,!0),C(this,mh,n1).call(this,n),C(this,or,fa).call(this)):h(this,ir)&&(A(this,dh,n.anchorNode),A(this,Wm,n.anchorOffset),A(this,Xm,n.focusNode),A(this,Ym,n.focusOffset),C(this,Km,LA).call(this),C(this,or,fa).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=ht.prototype;return ot(this,"_keyboardManager",new Rg([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,ke)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,as),methodOfCreation:h(this,qm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,s){var i;Tt.initialize(n,s),ht._defaultColor||(ht._defaultColor=((i=s.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(n,s){switch(n){case lt.HIGHLIGHT_DEFAULT_COLOR:ht._defaultColor=s;break;case lt.HIGHLIGHT_THICKNESS:ht._defaultThickness=s;break}}translateInPage(n,s){}get toolbarPosition(){return h(this,fh)}updateParams(n,s){switch(n){case lt.HIGHLIGHT_COLOR:C(this,Dv,p5).call(this,s);break;case lt.HIGHLIGHT_THICKNESS:C(this,Iv,m5).call(this,s);break}}static get defaultPropertiesToUpdate(){return[[lt.HIGHLIGHT_DEFAULT_COLOR,ht._defaultColor],[lt.HIGHLIGHT_THICKNESS,ht._defaultThickness]]}get propertiesToUpdate(){return[[lt.HIGHLIGHT_COLOR,this.color||ht._defaultColor],[lt.HIGHLIGHT_THICKNESS,h(this,as)||ht._defaultThickness],[lt.HIGHLIGHT_FREE,h(this,ke)]]}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",A(this,Gm,new zf({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(C(this,Tl,Vd).call(this))}getBaseTranslation(){return[0,0]}getRect(n,s){return super.getRect(n,s,C(this,Tl,Vd).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){C(this,Qm,DA).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,or,fa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let s=!1;this.parent&&!n?C(this,Qm,DA).call(this):n&&(C(this,or,fa).call(this,n),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),s&&this.select()}rotate(n){var r,o,a;const{drawLayer:s}=this.parent;let i;h(this,ke)?(n=(n-this.rotation+360)%360,i=C(r=ht,mo,gc).call(r,h(this,os).box,n)):i=C(o=ht,mo,gc).call(o,[this.x,this.y,this.width,this.height],n),s.updateProperties(h(this,On),{bbox:i,root:{"data-main-rotation":n}}),s.updateProperties(h(this,He),{bbox:C(a=ht,mo,gc).call(a,h(this,vn).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();h(this,ph)&&(n.setAttribute("aria-label",h(this,ph)),n.setAttribute("role","mark")),h(this,ke)?n.classList.add("free"):this.div.addEventListener("keydown",C(this,Fv,y5).bind(this),{signal:this._uiManager._signal});const s=A(this,El,document.createElement("div"));n.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",s.style.clipPath=h(this,Sl);const[i,r]=this.parentDimensions;return this.setDims(this.width*i,this.height*r),BD(this,h(this,El),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,He),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(h(this,He),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:C(this,gh,s1).call(this,!0);break;case 1:case 3:C(this,gh,s1).call(this,!1);break}}select(){var n;super.select(),h(this,He)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,He),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),h(this,He)&&((n=this.parent)==null||n.drawLayer.updateProperties(h(this,He),{rootClass:{selected:!1}}),h(this,ke)||C(this,gh,s1).call(this,!1))}get _mustFixPosition(){return!h(this,ke)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(h(this,On),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(h(this,He),{rootClass:{hidden:!n}}))}static startHighlighting(n,s,{target:i,x:r,y:o}){const{x:a,y:l,width:c,height:u}=i.getBoundingClientRect(),d=new AbortController,f=n.combinedSignal(d),p=m=>{d.abort(),C(this,$v,b5).call(this,n,m)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Zt,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",vs,{signal:f}),i.addEventListener("pointermove",C(this,jv,w5).bind(this,n),{signal:f}),this._freeHighlight=new _A({x:r,y:o},[a,l,c,u],n.scale,this._defaultThickness/2,s,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,s,i){var g,w,y,x;let r=null;if(n instanceof q6){const{data:{quadPoints:v,rect:S,rotation:E,id:P,color:_,opacity:R,popupRef:k},parent:{page:{pageNumber:D}}}=n;r=n={annotationType:tt.HIGHLIGHT,color:Array.from(_),opacity:R,quadPoints:v,boxes:null,pageIndex:D-1,rect:S.slice(0),rotation:E,annotationElementId:P,id:P,deleted:!1,popupRef:k}}else if(n instanceof gT){const{data:{inkLists:v,rect:S,rotation:E,id:P,color:_,borderStyle:{rawWidth:R},popupRef:k},parent:{page:{pageNumber:D}}}=n;r=n={annotationType:tt.HIGHLIGHT,color:Array.from(_),thickness:R,inkLists:v,boxes:null,pageIndex:D-1,rect:S.slice(0),rotation:E,annotationElementId:P,id:P,deleted:!1,popupRef:k}}const{color:o,quadPoints:a,inkLists:l,opacity:c}=n,u=await super.deserialize(n,s,i);u.color=K.makeHexColor(...o),A(u,rr,c||1),l&&A(u,as,n.thickness),u._initialData=r;const[d,f]=u.pageDimensions,[p,m]=u.pageTranslation;if(a){const v=A(u,ir,[]);for(let S=0;S<a.length;S+=8)v.push({x:(a[S]-p)/d,y:1-(a[S+1]-m)/f,width:(a[S+2]-a[S])/d,height:(a[S+1]-a[S+5])/f});C(g=u,Km,LA).call(g),C(w=u,or,fa).call(w),u.rotate(u.rotation)}else if(l){A(u,ke,!0);const v=l[0],S={x:v[0]-p,y:f-(v[1]-m)},E=new _A(S,[0,0,d,f],1,h(u,as)/2,!0,.001);for(let R=0,k=v.length;R<k;R+=2)S.x=v[R]-p,S.y=f-(v[R+1]-m),E.add(S);const{id:P,clipPathId:_}=s.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:E.toSVGPath()}},!0,!0);C(y=u,mh,n1).call(y,{highlightOutlines:E.getOutlines(),highlightId:P,clipPathId:_}),C(x=u,or,fa).call(x),u.rotate(u.parentRotation)}return u}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const s=this.getRect(0,0),i=Tt._colorManager.convert(this.color),r={annotationType:tt.HIGHLIGHT,color:i,opacity:h(this,rr),thickness:h(this,as),quadPoints:C(this,Ov,v5).call(this),outlines:C(this,Vv,x5).call(this,s),pageIndex:this.pageIndex,rect:s,rotation:C(this,Tl,Vd).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!C(this,Bv,A5).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};dh=new WeakMap,Wm=new WeakMap,ir=new WeakMap,Sl=new WeakMap,Gm=new WeakMap,vn=new WeakMap,Xm=new WeakMap,Ym=new WeakMap,El=new WeakMap,os=new WeakMap,On=new WeakMap,ke=new WeakMap,fh=new WeakMap,rr=new WeakMap,He=new WeakMap,ph=new WeakMap,as=new WeakMap,qm=new WeakMap,Km=new WeakSet,LA=function(){const n=new CA(h(this,ir),.001);A(this,os,n.getOutlines()),[this.x,this.y,this.width,this.height]=h(this,os).box;const s=new CA(h(this,ir),.0025,.001,this._uiManager.direction==="ltr");A(this,vn,s.getOutlines());const{lastPoint:i}=h(this,vn);A(this,fh,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},mh=new WeakSet,n1=function({highlightOutlines:n,highlightId:s,clipPathId:i}){var d,f;A(this,os,n);const r=1.5;if(A(this,vn,n.getNewOutline(h(this,as)/2+r,.0025)),s>=0)A(this,On,s),A(this,Sl,i),this.parent.drawLayer.finalizeDraw(s,{bbox:n.box,path:{d:n.toSVGPath()}}),A(this,He,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:h(this,vn).box,path:{d:h(this,vn).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(h(this,On),{bbox:C(d=ht,mo,gc).call(d,h(this,os).box,(p-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(h(this,He),{bbox:C(f=ht,mo,gc).call(f,h(this,vn).box,p),path:{d:h(this,vn).toSVGPath()}})}const[o,a,l,c]=n.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=l,this.height=c;break;case 90:{const[p,m]=this.parentDimensions;this.x=a,this.y=1-o,this.width=l*m/p,this.height=c*p/m;break}case 180:this.x=1-o,this.y=1-a,this.width=l,this.height=c;break;case 270:{const[p,m]=this.parentDimensions;this.x=1-a,this.y=o,this.width=l*m/p,this.height=c*p/m;break}}const{lastPoint:u}=h(this,vn);A(this,fh,[(u[0]-o)/l,(u[1]-a)/c])},Dv=new WeakSet,p5=function(n){const s=(o,a)=>{var l,c;this.color=o,A(this,rr,a),(l=this.parent)==null||l.drawLayer.updateProperties(h(this,On),{root:{fill:o,"fill-opacity":a}}),(c=h(this,Gm))==null||c.updateColor(o)},i=this.color,r=h(this,rr);this.addCommands({cmd:s.bind(this,n,ht._defaultOpacity),undo:s.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(n)},!0)},Iv=new WeakSet,m5=function(n){const s=h(this,as),i=r=>{A(this,as,r),C(this,Nv,g5).call(this,r)};this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:lt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},Nv=new WeakSet,g5=function(n){if(!h(this,ke))return;C(this,mh,n1).call(this,{highlightOutlines:h(this,os).getNewOutline(n/2)}),this.fixAndSetPosition();const[s,i]=this.parentDimensions;this.setDims(this.width*s,this.height*i)},Qm=new WeakSet,DA=function(){h(this,On)===null||!this.parent||(this.parent.drawLayer.remove(h(this,On)),A(this,On,null),this.parent.drawLayer.remove(h(this,He)),A(this,He,null))},or=new WeakSet,fa=function(n=this.parent){h(this,On)===null&&({id:Ze(this,On)._,clipPathId:Ze(this,Sl)._}=n.drawLayer.draw({bbox:h(this,os).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":h(this,rr)},rootClass:{highlight:!0,free:h(this,ke)},path:{d:h(this,os).toSVGPath()}},!1,!0),A(this,He,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:h(this,ke)},bbox:h(this,vn).box,path:{d:h(this,vn).toSVGPath()}},h(this,ke))),h(this,El)&&(h(this,El).style.clipPath=h(this,Sl)))},mo=new WeakSet,gc=function([n,s,i,r],o){switch(o){case 90:return[1-s-r,n,r,i];case 180:return[1-n-i,1-s-r,i,r];case 270:return[s,1-n-i,r,i]}return[n,s,i,r]},Fv=new WeakSet,y5=function(n){ht._keyboardManager.exec(this,n)},gh=new WeakSet,s1=function(n){if(!h(this,dh))return;const s=window.getSelection();n?s.setPosition(h(this,dh),h(this,Wm)):s.setPosition(h(this,Xm),h(this,Ym))},Tl=new WeakSet,Vd=function(){return h(this,ke)?this.rotation:0},Ov=new WeakSet,v5=function(){if(h(this,ke))return null;const[n,s]=this.pageDimensions,[i,r]=this.pageTranslation,o=h(this,ir),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:u,width:d,height:f}of o){const p=c*n+i,m=(1-u)*s+r;a[l]=a[l+4]=p,a[l+1]=a[l+3]=m,a[l+2]=a[l+6]=p+d*n,a[l+5]=a[l+7]=m-f*s,l+=8}return a},Vv=new WeakSet,x5=function(n){return h(this,os).serialize(n,C(this,Tl,Vd).call(this))},jv=new WeakSet,w5=function(n,s){this._freeHighlight.add(s)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},$v=new WeakSet,b5=function(n,s){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(s,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},Bv=new WeakSet,A5=function(n){const{color:s}=this._initialData;return n.color.some((i,r)=>i!==s[r])},b(ht,mo),b(ht,jv),b(ht,$v),$(ht,"_defaultColor",null),$(ht,"_defaultOpacity",1),$(ht,"_defaultThickness",12),$(ht,"_type","highlight"),$(ht,"_editorType",tt.HIGHLIGHT),$(ht,"_freeHighlightId",-1),$(ht,"_freeHighlight",null),$(ht,"_freeHighlightClipId","");let ty=ht;var Cl;class S5{constructor(){b(this,Cl,Object.create(null))}updateProperty(t,n){this[t]=n,this.updateSVGProperty(t,n)}updateProperties(t){if(t)for(const[n,s]of Object.entries(t))n.startsWith("_")||this.updateProperty(n,s)}updateSVGProperty(t,n){h(this,Cl)[t]=n}toSVGProperties(){const t=h(this,Cl);return A(this,Cl,Object.create(null)),{root:t}}reset(){A(this,Cl,Object.create(null))}updateAll(t=this){this.updateProperties(t)}clone(){wt("Not implemented")}}Cl=new WeakMap;var Vn,yh,ve,Pl,_l,go,yo,vo,Ml,Zm,IA,Jm,NA,tg,FA,Rl,jd,zv,E5,vh,i1,kl,$d,xo,yc;const Y=class Y extends Tt{constructor(n){super(n);b(this,Zm);b(this,Jm);b(this,tg);b(this,Rl);b(this,zv);b(this,vh);b(this,kl);b(this,xo);b(this,Vn,null);b(this,yh,void 0);$(this,"_drawId",null);A(this,yh,n.mustBeCommitted||!1),this._addOutlines(n)}_addOutlines(n){n.drawOutlines&&(C(this,Zm,IA).call(this,n),C(this,Rl,jd).call(this))}static _mergeSVGProperties(n,s){const i=new Set(Object.keys(n));for(const[r,o]of Object.entries(s))i.has(r)?Object.assign(n[r],o):n[r]=o;return n}static getDefaultDrawingOptions(n){wt("Not implemented")}static get typesMap(){wt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,s){const i=this.typesMap.get(n);i&&this._defaultDrawingOptions.updateProperty(i,s),this._currentParent&&(h(Y,ve).updateProperty(i,s),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,s){const i=this.constructor.typesMap.get(n);i&&this._updateProperty(n,i,s)}static get defaultPropertiesToUpdate(){const n=[],s=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)n.push([i,s[r]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:s}=this;for(const[i,r]of this.constructor.typesMap)n.push([i,s[r]]);return n}_updateProperty(n,s,i){const r=this._drawingOptions,o=r[s],a=l=>{var u;r.updateProperty(s,l);const c=h(this,Vn).updateProperty(s,l);c&&C(this,kl,$d).call(this,c),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,r.toSVGProperties())};this.addCommands({cmd:a.bind(this,i),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(h(this,Vn).getPathResizingSVGProperties(C(this,vh,i1).call(this)),{bbox:C(this,xo,yc).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(h(this,Vn).getPathResizedSVGProperties(C(this,vh,i1).call(this)),{bbox:C(this,xo,yc).call(this)}))}_onTranslating(n,s){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:C(this,xo,yc).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties(h(this,Vn).getPathTranslatedSVGProperties(C(this,vh,i1).call(this),this.parentDimensions),{bbox:C(this,xo,yc).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,h(this,yh)&&(A(this,yh,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){C(this,tg,FA).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(C(this,Rl,jd).call(this),C(this,kl,$d).call(this,h(this,Vn).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var i;let s=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),C(this,tg,FA).call(this)):n&&(this._uiManager.addShouldRescale(this),C(this,Rl,jd).call(this,n),s=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(n),s&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Y._mergeSVGProperties({bbox:C(this,xo,yc).call(this)},h(this,Vn).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&C(this,kl,$d).call(this,h(this,Vn).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,s;this._isCopy&&(n=this.x,s=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal";const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,s),i}static createDrawerInstance(n,s,i,r,o){wt("Not implemented")}static startDrawing(n,s,i,r){var w;const{target:o,offsetX:a,offsetY:l,pointerId:c,pointerType:u}=r;if(h(Y,yo)&&h(Y,yo)!==u)return;const{viewport:{rotation:d}}=n,{width:f,height:p}=o.getBoundingClientRect(),m=A(Y,Pl,new AbortController),g=n.combinedSignal(m);if(h(Y,go)||A(Y,go,c),h(Y,yo)??A(Y,yo,u),window.addEventListener("pointerup",y=>{var x;h(Y,go)===y.pointerId?this._endDraw(y):(x=h(Y,vo))==null||x.delete(y.pointerId)},{signal:g}),window.addEventListener("pointercancel",y=>{var x;h(Y,go)===y.pointerId?this._currentParent.endDrawingSession():(x=h(Y,vo))==null||x.delete(y.pointerId)},{signal:g}),window.addEventListener("pointerdown",y=>{h(Y,yo)===y.pointerType&&((h(Y,vo)||A(Y,vo,new Set)).add(y.pointerId),h(Y,ve).isCancellable()&&(h(Y,ve).removeLastElement(),h(Y,ve).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:g}),window.addEventListener("contextmenu",vs,{signal:g}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:g}),o.addEventListener("touchmove",y=>{y.timeStamp===h(Y,Ml)&&Zt(y)},{signal:g}),n.toggleDrawing(),(w=s._editorUndoBar)==null||w.hide(),h(Y,ve)){n.drawLayer.updateProperties(this._currentDrawId,h(Y,ve).startNew(a,l,f,p,d));return}s.updateUIForDefaultProperties(this),A(Y,ve,this.createDrawerInstance(a,l,f,p,d)),A(Y,_l,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(h(Y,_l).toSVGProperties(),h(Y,ve).defaultSVGProperties),!0,!1)}static _drawMove(n){var o;if(A(Y,Ml,-1),!h(Y,ve))return;const{offsetX:s,offsetY:i,pointerId:r}=n;if(h(Y,go)===r){if(((o=h(Y,vo))==null?void 0:o.size)>=1){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,h(Y,ve).add(s,i)),A(Y,Ml,n.timeStamp),Zt(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,A(Y,ve,null),A(Y,_l,null),A(Y,yo,null),A(Y,Ml,NaN)),h(Y,Pl)&&(h(Y,Pl).abort(),A(Y,Pl,null),A(Y,go,NaN),A(Y,vo,null))}static _endDraw(n){const s=this._currentParent;if(s){if(s.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===s.div&&s.drawLayer.updateProperties(this._currentDrawId,h(Y,ve).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const i=h(Y,ve),r=this._currentDrawId,o=i.getLastElement();s.addCommands({cmd:()=>{s.drawLayer.updateProperties(r,i.setLastElement(o))},undo:()=>{s.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:lt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const s=this._currentParent;if(!s)return null;if(s.toggleDrawing(!0),s.cleanUndoStack(lt.DRAW_STEP),!h(Y,ve).isEmpty()){const{pageDimensions:[i,r],scale:o}=s,a=s.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:h(Y,ve).getOutlines(i*o,r*o,o,this._INNER_MARGIN),drawingOptions:h(Y,_l),mustBeCommitted:!n});return this._cleanup(!0),a}return s.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,s,i,r,o,a){wt("Not implemented")}static async deserialize(n,s,i){var d,f;const{rawDims:{pageWidth:r,pageHeight:o,pageX:a,pageY:l}}=s.viewport,c=this.deserializeDraw(a,l,r,o,this._INNER_MARGIN,n),u=await super.deserialize(n,s,i);return u.createDrawingOptions(n),C(d=u,Zm,IA).call(d,{drawOutlines:c}),C(f=u,Rl,jd).call(f),u.onScaleChanging(),u.rotate(),u}serializeDraw(n){const[s,i]=this.pageTranslation,[r,o]=this.pageDimensions;return h(this,Vn).serialize([s,i,r,o],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Vn=new WeakMap,yh=new WeakMap,ve=new WeakMap,Pl=new WeakMap,_l=new WeakMap,go=new WeakMap,yo=new WeakMap,vo=new WeakMap,Ml=new WeakMap,Zm=new WeakSet,IA=function({drawOutlines:n,drawId:s,drawingOptions:i}){A(this,Vn,n),this._drawingOptions||(this._drawingOptions=i),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),s>=0?(this._drawId=s,this.parent.drawLayer.finalizeDraw(s,n.defaultProperties)):this._drawId=C(this,Jm,NA).call(this,n,this.parent),C(this,kl,$d).call(this,n.box)},Jm=new WeakSet,NA=function(n,s){const{id:i}=s.drawLayer.draw(Y._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return i},tg=new WeakSet,FA=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Rl=new WeakSet,jd=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=C(this,Jm,NA).call(this,h(this,Vn),n)}},zv=new WeakSet,E5=function([n,s,i,r]){const{parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[s,1-n,i*(a/o),r*(o/a)];case 180:return[1-n,1-s,i,r];case 270:return[1-s,n,i*(a/o),r*(o/a)];default:return[n,s,i,r]}},vh=new WeakSet,i1=function(){const{x:n,y:s,width:i,height:r,parentDimensions:[o,a],rotation:l}=this;switch(l){case 90:return[1-s,n,i*(o/a),r*(a/o)];case 180:return[1-n,1-s,i,r];case 270:return[s,1-n,i*(o/a),r*(a/o)];default:return[n,s,i,r]}},kl=new WeakSet,$d=function(n){if([this.x,this.y,this.width,this.height]=C(this,zv,E5).call(this,n),this.div){this.fixAndSetPosition();const[s,i]=this.parentDimensions;this.setDims(this.width*s,this.height*i)}this._onResized()},xo=new WeakSet,yc=function(){const{x:n,y:s,width:i,height:r,rotation:o,parentRotation:a,parentDimensions:[l,c]}=this;switch((o*4+a)/90){case 1:return[1-s-r,n,r,i];case 2:return[1-n-i,1-s-r,i,r];case 3:return[s,1-n-i,r,i];case 4:return[n,s-i*(l/c),r*(c/l),i*(l/c)];case 5:return[1-s,n,i*(l/c),r*(c/l)];case 6:return[1-n-r*(c/l),1-s,r*(c/l),i*(l/c)];case 7:return[s-i*(l/c),1-n-r*(c/l),i*(l/c),r*(c/l)];case 8:return[n-i,s-r,i,r];case 9:return[1-s,n-i,r,i];case 10:return[1-n,1-s,i,r];case 11:return[s-r,1-n,r,i];case 12:return[n-r*(c/l),s,r*(c/l),i*(l/c)];case 13:return[1-s-i*(l/c),n-r*(c/l),i*(l/c),r*(c/l)];case 14:return[1-n,1-s-i*(l/c),r*(c/l),i*(l/c)];case 15:return[s,1-n,i*(l/c),r*(c/l)];default:return[n,s,i,r]}},$(Y,"_currentDrawId",-1),$(Y,"_currentParent",null),b(Y,ve,null),b(Y,Pl,null),b(Y,_l,null),b(Y,go,NaN),b(Y,yo,null),b(Y,vo,null),b(Y,Ml,NaN),$(Y,"_INNER_MARGIN",3);let ey=Y;var di,xe,we,Ll,xh,en,Le,ls,Dl,Il,Nl,wh,r1;class WW{constructor(t,n,s,i,r,o){b(this,wh);b(this,di,new Float64Array(6));b(this,xe,void 0);b(this,we,void 0);b(this,Ll,void 0);b(this,xh,void 0);b(this,en,void 0);b(this,Le,"");b(this,ls,0);b(this,Dl,new Lg);b(this,Il,void 0);b(this,Nl,void 0);A(this,Il,s),A(this,Nl,i),A(this,Ll,r),A(this,xh,o),[t,n]=C(this,wh,r1).call(this,t,n);const a=A(this,xe,[NaN,NaN,NaN,NaN,t,n]);A(this,en,[t,n]),A(this,we,[{line:a,points:h(this,en)}]),h(this,di).set(a,0)}updateProperty(t,n){t==="stroke-width"&&A(this,xh,n)}isEmpty(){return!h(this,we)||h(this,we).length===0}isCancellable(){return h(this,en).length<=10}add(t,n){[t,n]=C(this,wh,r1).call(this,t,n);const[s,i,r,o]=h(this,di).subarray(2,6),a=t-r,l=n-o;return Math.hypot(h(this,Il)*a,h(this,Nl)*l)<=2?null:(h(this,en).push(t,n),isNaN(s)?(h(this,di).set([r,o,t,n],2),h(this,xe).push(NaN,NaN,NaN,NaN,t,n),{path:{d:this.toSVGPath()}}):(isNaN(h(this,di)[0])&&h(this,xe).splice(6,6),h(this,di).set([s,i,r,o,t,n],0),h(this,xe).push(...G.createBezierPoints(s,i,r,o,t,n)),{path:{d:this.toSVGPath()}}))}end(t,n){const s=this.add(t,n);return s||(h(this,en).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(t,n,s,i,r){A(this,Il,s),A(this,Nl,i),A(this,Ll,r),[t,n]=C(this,wh,r1).call(this,t,n);const o=A(this,xe,[NaN,NaN,NaN,NaN,t,n]);A(this,en,[t,n]);const a=h(this,we).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),h(this,we).push({line:o,points:h(this,en)}),h(this,di).set(o,0),A(this,ls,0),this.toSVGPath(),null}getLastElement(){return h(this,we).at(-1)}setLastElement(t){return h(this,we)?(h(this,we).push(t),A(this,xe,t.line),A(this,en,t.points),A(this,ls,0),{path:{d:this.toSVGPath()}}):h(this,Dl).setLastElement(t)}removeLastElement(){if(!h(this,we))return h(this,Dl).removeLastElement();h(this,we).pop(),A(this,Le,"");for(let t=0,n=h(this,we).length;t<n;t++){const{line:s,points:i}=h(this,we)[t];A(this,xe,s),A(this,en,i),A(this,ls,0),this.toSVGPath()}return{path:{d:h(this,Le)}}}toSVGPath(){const t=G.svgRound(h(this,xe)[4]),n=G.svgRound(h(this,xe)[5]);if(h(this,en).length===2)return A(this,Le,`${h(this,Le)} M ${t} ${n} Z`),h(this,Le);if(h(this,en).length<=6){const i=h(this,Le).lastIndexOf("M");A(this,Le,`${h(this,Le).slice(0,i)} M ${t} ${n}`),A(this,ls,6)}if(h(this,en).length===4){const i=G.svgRound(h(this,xe)[10]),r=G.svgRound(h(this,xe)[11]);return A(this,Le,`${h(this,Le)} L ${i} ${r}`),A(this,ls,12),h(this,Le)}const s=[];h(this,ls)===0&&(s.push(`M ${t} ${n}`),A(this,ls,6));for(let i=h(this,ls),r=h(this,xe).length;i<r;i+=6){const[o,a,l,c,u,d]=h(this,xe).slice(i,i+6).map(G.svgRound);s.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}return A(this,Le,h(this,Le)+s.join(" ")),A(this,ls,h(this,xe).length),h(this,Le)}getOutlines(t,n,s,i){const r=h(this,we).at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),h(this,Dl).build(h(this,we),t,n,s,h(this,Ll),h(this,xh),i),A(this,di,null),A(this,xe,null),A(this,we,null),A(this,Le,null),h(this,Dl)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}di=new WeakMap,xe=new WeakMap,we=new WeakMap,Ll=new WeakMap,xh=new WeakMap,en=new WeakMap,Le=new WeakMap,ls=new WeakMap,Dl=new WeakMap,Il=new WeakMap,Nl=new WeakMap,wh=new WeakSet,r1=function(t,n){return G._normalizePoint(t,n,h(this,Il),h(this,Nl),h(this,Ll))};var nn,eg,ng,jn,fi,pi,bh,Ah,Fl,Is,_i,Uv,T5,Hv,C5,Wv,P5;class Lg extends G{constructor(){super(...arguments);b(this,Is);b(this,Uv);b(this,Hv);b(this,Wv);b(this,nn,void 0);b(this,eg,0);b(this,ng,void 0);b(this,jn,void 0);b(this,fi,void 0);b(this,pi,void 0);b(this,bh,void 0);b(this,Ah,void 0);b(this,Fl,void 0)}build(n,s,i,r,o,a,l){A(this,fi,s),A(this,pi,i),A(this,bh,r),A(this,Ah,o),A(this,Fl,a),A(this,ng,l??0),A(this,jn,n),C(this,Hv,C5).call(this)}get thickness(){return h(this,Fl)}setLastElement(n){return h(this,jn).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return h(this,jn).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:s}of h(this,jn)){if(n.push(`M${G.svgRound(s[4])} ${G.svgRound(s[5])}`),s.length===6){n.push("Z");continue}if(s.length===12&&isNaN(s[6])){n.push(`L${G.svgRound(s[10])} ${G.svgRound(s[11])}`);continue}for(let i=6,r=s.length;i<r;i+=6){const[o,a,l,c,u,d]=s.subarray(i,i+6).map(G.svgRound);n.push(`C${o} ${a} ${l} ${c} ${u} ${d}`)}}return n.join("")}serialize([n,s,i,r],o){const a=[],l=[],[c,u,d,f]=C(this,Uv,T5).call(this);let p,m,g,w,y,x,v,S,E;switch(h(this,Ah)){case 0:E=G._rescale,p=n,m=s+r,g=i,w=-r,y=n+c*i,x=s+(1-u-f)*r,v=n+(c+d)*i,S=s+(1-u)*r;break;case 90:E=G._rescaleAndSwap,p=n,m=s,g=i,w=r,y=n+u*i,x=s+c*r,v=n+(u+f)*i,S=s+(c+d)*r;break;case 180:E=G._rescale,p=n+i,m=s,g=-i,w=r,y=n+(1-c-d)*i,x=s+u*r,v=n+(1-c)*i,S=s+(u+f)*r;break;case 270:E=G._rescaleAndSwap,p=n+i,m=s+r,g=-i,w=-r,y=n+(1-u-f)*i,x=s+(1-c-d)*r,v=n+(1-u)*i,S=s+(1-c)*r;break}for(const{line:P,points:_}of h(this,jn))a.push(E(P,p,m,g,w,o?new Array(P.length):null)),l.push(E(_,p,m,g,w,o?new Array(_.length):null));return{lines:a,points:l,rect:[y,x,v,S]}}static deserialize(n,s,i,r,o,{paths:{lines:a,points:l},rotation:c,thickness:u}){const d=[];let f,p,m,g,w;switch(c){case 0:w=G._rescale,f=-n/i,p=s/r+1,m=1/i,g=-1/r;break;case 90:w=G._rescaleAndSwap,f=-s/r,p=-n/i,m=1/r,g=1/i;break;case 180:w=G._rescale,f=n/i+1,p=-s/r,m=-1/i,g=1/r;break;case 270:w=G._rescaleAndSwap,f=s/r+1,p=n/i+1,m=-1/r,g=-1/i;break}if(!a){a=[];for(const x of l){const v=x.length;if(v===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1]]));continue}if(v===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,x[0],x[1],NaN,NaN,NaN,NaN,x[2],x[3]]));continue}const S=new Float32Array(3*(v-2));a.push(S);let[E,P,_,R]=x.subarray(0,4);S.set([NaN,NaN,NaN,NaN,E,P],0);for(let k=4;k<v;k+=2){const D=x[k],I=x[k+1];S.set(G.createBezierPoints(E,P,_,R,D,I),(k-2)*3),[E,P,_,R]=[_,R,D,I]}}}for(let x=0,v=a.length;x<v;x++)d.push({line:w(a[x].map(S=>S??NaN),f,p,m,g),points:w(l[x].map(S=>S??NaN),f,p,m,g)});const y=new this.prototype.constructor;return y.build(d,i,r,1,c,u,o),y}get box(){return h(this,nn)}updateProperty(n,s){return n==="stroke-width"?C(this,Wv,P5).call(this,s):null}updateParentDimensions([n,s],i){const[r,o]=C(this,Is,_i).call(this);A(this,fi,n),A(this,pi,s),A(this,bh,i);const[a,l]=C(this,Is,_i).call(this),c=a-r,u=l-o,d=h(this,nn);return d[0]-=c,d[1]-=u,d[2]+=2*c,d[3]+=2*u,d}updateRotation(n){return A(this,eg,n),{path:{transform:this.rotationTransform}}}get viewBox(){return h(this,nn).map(G.svgRound).join(" ")}get defaultProperties(){const[n,s]=h(this,nn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${G.svgRound(n)} ${G.svgRound(s)}`}}}get rotationTransform(){const[,,n,s]=h(this,nn);let i=0,r=0,o=0,a=0,l=0,c=0;switch(h(this,eg)){case 90:r=s/n,o=-n/s,l=n;break;case 180:i=-1,a=-1,l=n,c=s;break;case 270:r=-s/n,o=n/s,c=s;break;default:return""}return`matrix(${i} ${r} ${o} ${a} ${G.svgRound(l)} ${G.svgRound(c)})`}getPathResizingSVGProperties([n,s,i,r]){const[o,a]=C(this,Is,_i).call(this),[l,c,u,d]=h(this,nn);if(Math.abs(u-o)<=G.PRECISION||Math.abs(d-a)<=G.PRECISION){const w=n+i/2-(l+u/2),y=s+r/2-(c+d/2);return{path:{"transform-origin":`${G.svgRound(n)} ${G.svgRound(s)}`,transform:`${this.rotationTransform} translate(${w} ${y})`}}}const f=(i-2*o)/(u-2*o),p=(r-2*a)/(d-2*a),m=u/i,g=d/r;return{path:{"transform-origin":`${G.svgRound(l)} ${G.svgRound(c)}`,transform:`${this.rotationTransform} scale(${m} ${g}) translate(${G.svgRound(o)} ${G.svgRound(a)}) scale(${f} ${p}) translate(${G.svgRound(-o)} ${G.svgRound(-a)})`}}}getPathResizedSVGProperties([n,s,i,r]){const[o,a]=C(this,Is,_i).call(this),l=h(this,nn),[c,u,d,f]=l;if(l[0]=n,l[1]=s,l[2]=i,l[3]=r,Math.abs(d-o)<=G.PRECISION||Math.abs(f-a)<=G.PRECISION){const y=n+i/2-(c+d/2),x=s+r/2-(u+f/2);for(const{line:v,points:S}of h(this,jn))G._translate(v,y,x,v),G._translate(S,y,x,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${G.svgRound(n)} ${G.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*o)/(d-2*o),m=(r-2*a)/(f-2*a),g=-p*(c+o)+n+o,w=-m*(u+a)+s+a;if(p!==1||m!==1||g!==0||w!==0)for(const{line:y,points:x}of h(this,jn))G._rescale(y,g,w,p,m,y),G._rescale(x,g,w,p,m,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${G.svgRound(n)} ${G.svgRound(s)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,s],i){const[r,o]=i,a=h(this,nn),l=n-a[0],c=s-a[1];if(h(this,fi)===r&&h(this,pi)===o)for(const{line:u,points:d}of h(this,jn))G._translate(u,l,c,u),G._translate(d,l,c,d);else{const u=h(this,fi)/r,d=h(this,pi)/o;A(this,fi,r),A(this,pi,o);for(const{line:f,points:p}of h(this,jn))G._rescale(f,l,c,u,d,f),G._rescale(p,l,c,u,d,p);a[2]*=u,a[3]*=d}return a[0]=n,a[1]=s,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${G.svgRound(n)} ${G.svgRound(s)}`}}}get defaultSVGProperties(){const n=h(this,nn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${G.svgRound(n[0])} ${G.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}nn=new WeakMap,eg=new WeakMap,ng=new WeakMap,jn=new WeakMap,fi=new WeakMap,pi=new WeakMap,bh=new WeakMap,Ah=new WeakMap,Fl=new WeakMap,Is=new WeakSet,_i=function(n=h(this,Fl)){const s=h(this,ng)+n/2*h(this,bh);return h(this,Ah)%180===0?[s/h(this,fi),s/h(this,pi)]:[s/h(this,pi),s/h(this,fi)]},Uv=new WeakSet,T5=function(){const[n,s,i,r]=h(this,nn),[o,a]=C(this,Is,_i).call(this,0);return[n+o,s+a,i-2*o,r-2*a]},Hv=new WeakSet,C5=function(){const n=A(this,nn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:r}of h(this,jn)){if(r.length<=12){for(let l=4,c=r.length;l<c;l+=6)K.pointBoundingBox(r[l],r[l+1],n);continue}let o=r[4],a=r[5];for(let l=6,c=r.length;l<c;l+=6){const[u,d,f,p,m,g]=r.subarray(l,l+6);K.bezierBoundingBox(o,a,u,d,f,p,m,g,n),o=m,a=g}}const[s,i]=C(this,Is,_i).call(this);n[0]=Ge(n[0]-s,0,1),n[1]=Ge(n[1]-i,0,1),n[2]=Ge(n[2]+s,0,1),n[3]=Ge(n[3]+i,0,1),n[2]-=n[0],n[3]-=n[1]},Wv=new WeakSet,P5=function(n){const[s,i]=C(this,Is,_i).call(this);A(this,Fl,n);const[r,o]=C(this,Is,_i).call(this),[a,l]=[r-s,o-i],c=h(this,nn);return c[0]-=a,c[1]-=l,c[2]+=2*a,c[3]+=2*l,c};class Fx extends S5{constructor(t){super(),this._viewParameters=t,super.updateProperties({fill:"none",stroke:Tt._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(t,n)}clone(){const t=new Fx(this._viewParameters);return t.updateAll(this),t}}var Gv,_5;const Bc=class Bc extends ey{constructor(n){super({...n,name:"inkEditor"});b(this,Gv);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,s){Tt.initialize(n,s),this._defaultDrawingOptions=new Fx(s.viewParameters)}static getDefaultDrawingOptions(n){const s=this._defaultDrawingOptions.clone();return s.updateProperties(n),s}static get supportMultipleDrawings(){return!0}static get typesMap(){return ot(this,"typesMap",new Map([[lt.INK_THICKNESS,"stroke-width"],[lt.INK_COLOR,"stroke"],[lt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,s,i,r,o){return new WW(n,s,i,r,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,s,i,r,o,a){return Lg.deserialize(n,s,i,r,o,a)}static async deserialize(n,s,i){let r=null;if(n instanceof gT){const{data:{inkLists:a,rect:l,rotation:c,id:u,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:m},parent:{page:{pageNumber:g}}}=n;r=n={annotationType:tt.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:g-1,rect:l.slice(0),rotation:c,annotationElementId:u,id:u,deleted:!1,popupRef:m}}const o=await super.deserialize(n,s,i);return o._initialData=r,o}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:s,parent:i}=this;s.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(n,s.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:s,opacity:i}){this._drawingOptions=Bc.getDefaultDrawingOptions({stroke:K.makeHexColor(...n),"stroke-width":s,"stroke-opacity":i})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:s,points:i,rect:r}=this.serializeDraw(n),{_drawingOptions:{stroke:o,"stroke-opacity":a,"stroke-width":l}}=this,c={annotationType:tt.INK,color:Tt._colorManager.convert(o),opacity:a,thickness:l,paths:{lines:s,points:i},pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(c.isCopy=!0,c):this.annotationElementId&&!C(this,Gv,_5).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(n){const{points:s,rect:i}=this.serializeDraw(!1);return n.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:s}),null}};Gv=new WeakSet,_5=function(n){const{color:s,thickness:i,opacity:r,pageIndex:o}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||n.color.some((a,l)=>a!==s[l])||n.thickness!==i||n.opacity!==r||n.pageIndex!==o},$(Bc,"_type","ink"),$(Bc,"_editorType",tt.INK),$(Bc,"_defaultDrawingOptions",null);let OA=Bc;class VA extends Lg{toSVGPath(){let t=super.toSVGPath();return t.endsWith("Z")||(t+="Z"),t}}const p0=8,yd=3;var Ol,sg,jA,Ns,Xv,M5,Yv,R5,ig,$A,Sh,o1,qv,k5,Kv,L5,Qv,D5,rg,BA,og,zA,Zv,I5;class se{static extractContoursFromText(t,{fontFamily:n,fontStyle:s,fontWeight:i},r,o,a,l){let c=new OffscreenCanvas(1,1),u=c.getContext("2d",{alpha:!1});const d=200,f=u.font=`${s} ${i} ${d}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:m,actualBoundingBoxAscent:g,actualBoundingBoxDescent:w,fontBoundingBoxAscent:y,fontBoundingBoxDescent:x,width:v}=u.measureText(t),S=1.5,E=Math.ceil(Math.max(Math.abs(p)+Math.abs(m)||0,v)*S),P=Math.ceil(Math.max(Math.abs(g)+Math.abs(w)||d,Math.abs(y)+Math.abs(x)||d)*S);c=new OffscreenCanvas(E,P),u=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=f,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,E,P),u.fillStyle="black",u.fillText(t,E*(S-1)/2,P*(3-S)/2);const _=C(this,rg,BA).call(this,u.getImageData(0,0,E,P).data),R=C(this,Qv,D5).call(this,_),k=C(this,og,zA).call(this,R),D=C(this,ig,$A).call(this,_,E,P,k);return this.processDrawnLines({lines:{curves:D,width:E,height:P},pageWidth:r,pageHeight:o,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(t,n,s,i,r){const[o,a,l]=C(this,Zv,I5).call(this,t),[c,u]=C(this,Kv,L5).call(this,o,a,l,Math.hypot(a,l)*h(this,Ol).sigmaSFactor,h(this,Ol).sigmaR,h(this,Ol).kernelSize),d=C(this,og,zA).call(this,u),f=C(this,ig,$A).call(this,c,a,l,d);return this.processDrawnLines({lines:{curves:f,width:a,height:l},pageWidth:n,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:t,pageWidth:n,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:o,areContours:a}){i%180!==0&&([n,s]=[s,n]);const{curves:l,width:c,height:u}=t,d=t.thickness??0,f=[],p=Math.min(n/c,s/u),m=p/n,g=p/s,w=[];for(const{points:x}of l){const v=o?C(this,qv,k5).call(this,x):x;if(!v)continue;w.push(v);const S=v.length,E=new Float32Array(S),P=new Float32Array(3*(S===2?2:S-2));if(f.push({line:P,points:E}),S===2){E[0]=v[0]*m,E[1]=v[1]*g,P.set([NaN,NaN,NaN,NaN,E[0],E[1]],0);continue}let[_,R,k,D]=v;_*=m,R*=g,k*=m,D*=g,E.set([_,R,k,D],0),P.set([NaN,NaN,NaN,NaN,_,R],0);for(let I=4;I<S;I+=2){const N=E[I]=v[I]*m,V=E[I+1]=v[I+1]*g;P.set(G.createBezierPoints(_,R,k,D,N,V),(I-2)*3),[_,R,k,D]=[k,D,N,V]}}if(f.length===0)return null;const y=a?new VA:new Lg;return y.build(f,n,s,1,i,a?0:d,r),{outline:y,newCurves:w,areContours:a,thickness:d,width:c,height:u}}static async compressSignature({outlines:t,areContours:n,thickness:s,width:i,height:r}){let o=1/0,a=-1/0,l=0;for(const v of t){l+=v.length;for(let S=2,E=v.length;S<E;S++){const P=v[S]-v[S-2];o=Math.min(o,P),a=Math.max(a,P)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const u=t.length,d=p0+yd*u,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*u)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=i,f[p++]=r,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(s??0)),f[p++]=u,f[p++]=c.BYTES_PER_ELEMENT;for(const v of t)f[p++]=v.length-2,f[p++]=v[0],f[p++]=v[1];const m=new CompressionStream("deflate-raw"),g=m.writable.getWriter();await g.ready,g.write(f);const w=c.prototype.constructor;for(const v of t){const S=new w(v.length-2);for(let E=2,P=v.length;E<P;E++)S[E-2]=v[E]-v[E-2];g.write(S)}g.close();const y=await new Response(m.readable).arrayBuffer(),x=new Uint8Array(y);return kD(x)}static async decompressSignature(t){try{const n=bH(t),{readable:s,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(n).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,a=0;for await(const v of s)o||(o=new Uint8Array(new Uint32Array(v.buffer,0,4)[0])),o.set(v,a),a+=v.length;const l=new Uint32Array(o.buffer,0,o.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const u=l[2],d=l[3],f=l[4]===0,p=l[5],m=l[6],g=l[7],w=[],y=(p0+yd*m)*Uint32Array.BYTES_PER_ELEMENT;let x;switch(g){case Int8Array.BYTES_PER_ELEMENT:x=new Int8Array(o.buffer,y);break;case Int16Array.BYTES_PER_ELEMENT:x=new Int16Array(o.buffer,y);break;case Int32Array.BYTES_PER_ELEMENT:x=new Int32Array(o.buffer,y);break}a=0;for(let v=0;v<m;v++){const S=l[yd*v+p0],E=new Float32Array(S+2);w.push(E);for(let P=0;P<yd-1;P++)E[P]=l[yd*v+p0+P+1];for(let P=0;P<S;P++)E[P+2]=E[P]+x[a++]}return{areContours:f,thickness:p,outlines:w,width:u,height:d}}catch(n){return et(`decompressSignature: ${n}`),null}}}Ol=new WeakMap,sg=new WeakSet,jA=function(t,n,s,i){return s-=t,i-=n,s===0?i>0?0:4:s===1?i+6:2-i},Ns=new WeakMap,Xv=new WeakSet,M5=function(t,n,s,i,r,o,a){const l=C(this,sg,jA).call(this,s,i,r,o);for(let c=0;c<8;c++){const u=(-c+l-a+16)%8,d=h(this,Ns)[2*u],f=h(this,Ns)[2*u+1];if(t[(s+d)*n+(i+f)]!==0)return u}return-1},Yv=new WeakSet,R5=function(t,n,s,i,r,o,a){const l=C(this,sg,jA).call(this,s,i,r,o);for(let c=0;c<8;c++){const u=(c+l+a+16)%8,d=h(this,Ns)[2*u],f=h(this,Ns)[2*u+1];if(t[(s+d)*n+(i+f)]!==0)return u}return-1},ig=new WeakSet,$A=function(t,n,s,i){const r=t.length,o=new Int32Array(r);for(let u=0;u<r;u++)o[u]=t[u]<=i?1:0;for(let u=1;u<s-1;u++)o[u*n]=o[u*n+n-1]=0;for(let u=0;u<n;u++)o[u]=o[n*s-1-u]=0;let a=1,l;const c=[];for(let u=1;u<s-1;u++){l=1;for(let d=1;d<n-1;d++){const f=u*n+d,p=o[f];if(p===0)continue;let m=u,g=d;if(p===1&&o[f-1]===0)a+=1,g-=1;else if(p>=1&&o[f+1]===0)a+=1,g+=1,p>1&&(l=p);else{p!==1&&(l=Math.abs(p));continue}const w=[d,u],y=g===d+1,x={isHole:y,points:w,id:a,parent:0};c.push(x);let v;for(const I of c)if(I.id===l){v=I;break}v?v.isHole?x.parent=y?v.parent:l:x.parent=y?l:v.parent:x.parent=y?l:0;const S=C(this,Xv,M5).call(this,o,n,u,d,m,g,0);if(S===-1){o[f]=-a,o[f]!==1&&(l=Math.abs(o[f]));continue}let E=h(this,Ns)[2*S],P=h(this,Ns)[2*S+1];const _=u+E,R=d+P;m=_,g=R;let k=u,D=d;for(;;){const I=C(this,Yv,R5).call(this,o,n,k,D,m,g,1);E=h(this,Ns)[2*I],P=h(this,Ns)[2*I+1];const N=k+E,V=D+P;w.push(V,N);const L=k*n+D;if(o[L+1]===0?o[L]=-a:o[L]===1&&(o[L]=a),N===u&&V===d&&k===_&&D===R){o[f]!==1&&(l=Math.abs(o[f]));break}else m=k,g=D,k=N,D=V}}}return c},Sh=new WeakSet,o1=function(t,n,s,i){if(s-n<=4){for(let _=n;_<s-2;_+=2)i.push(t[_],t[_+1]);return}const r=t[n],o=t[n+1],a=t[s-4]-r,l=t[s-3]-o,c=Math.hypot(a,l),u=a/c,d=l/c,f=u*o-d*r,p=l/a,m=1/c,g=Math.atan(p),w=Math.cos(g),y=Math.sin(g),x=m*(Math.abs(w)+Math.abs(y)),v=m*(1-x+x**2),S=Math.max(Math.atan(Math.abs(y+w)*v),Math.atan(Math.abs(y-w)*v));let E=0,P=n;for(let _=n+2;_<s-2;_+=2){const R=Math.abs(f-u*t[_+1]+d*t[_]);R>E&&(P=_,E=R)}E>(c*S)**2?(C(this,Sh,o1).call(this,t,n,P+2,i),C(this,Sh,o1).call(this,t,P,s,i)):i.push(r,o)},qv=new WeakSet,k5=function(t){const n=[],s=t.length;return C(this,Sh,o1).call(this,t,0,s,n),n.push(t[s-2],t[s-1]),n.length<=4?null:n},Kv=new WeakSet,L5=function(t,n,s,i,r,o){const a=new Float32Array(o**2),l=-2*i**2,c=o>>1;for(let g=0;g<o;g++){const w=(g-c)**2;for(let y=0;y<o;y++)a[g*o+y]=Math.exp((w+(y-c)**2)/l)}const u=new Float32Array(256),d=-2*r**2;for(let g=0;g<256;g++)u[g]=Math.exp(g**2/d);const f=t.length,p=new Uint8Array(f),m=new Uint32Array(256);for(let g=0;g<s;g++)for(let w=0;w<n;w++){const y=g*n+w,x=t[y];let v=0,S=0;for(let P=0;P<o;P++){const _=g+P-c;if(!(_<0||_>=s))for(let R=0;R<o;R++){const k=w+R-c;if(k<0||k>=n)continue;const D=t[_*n+k],I=a[P*o+R]*u[Math.abs(D-x)];v+=D*I,S+=I}}const E=p[y]=Math.round(v/S);m[E]++}return[p,m]},Qv=new WeakSet,D5=function(t){const n=new Uint32Array(256);for(const s of t)n[s]++;return n},rg=new WeakSet,BA=function(t){const n=t.length,s=new Uint8ClampedArray(n>>2);let i=-1/0,r=1/0;for(let a=0,l=s.length;a<l;a++){if(t[(a<<2)+3]===0){i=s[a]=255;continue}const u=s[a]=t[a<<2];u>i&&(i=u),u<r&&(r=u)}const o=255/(i-r);for(let a=0;a<n;a++)s[a]=(s[a]-r)*o;return s},og=new WeakSet,zA=function(t){let n,s=-1/0,i=-1/0;const r=t.findIndex(l=>l!==0);let o=r,a=r;for(n=r;n<256;n++){const l=t[n];l>s&&(n-o>i&&(i=n-o,a=n-1),s=l,o=n)}for(n=a-1;n>=0&&!(t[n]>t[n+1]);n--);return n},Zv=new WeakSet,I5=function(t){const n=t,{width:s,height:i}=t,{maxDim:r}=h(this,Ol);let o=s,a=i;if(s>r||i>r){let f=s,p=i,m=Math.log2(Math.max(s,i)/r);const g=Math.floor(m);m=m===g?g-1:g;for(let y=0;y<m;y++){o=Math.ceil(f/2),a=Math.ceil(p/2);const x=new OffscreenCanvas(o,a);x.getContext("2d").drawImage(t,0,0,f,p,0,0,o,a),f=o,p=a,t!==n&&t.close(),t=x.transferToImageBitmap()}const w=Math.min(r/o,r/a);o=Math.round(o*w),a=Math.round(a*w)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.filter="grayscale(1)",c.drawImage(t,0,0,t.width,t.height,0,0,o,a);const u=c.getImageData(0,0,o,a).data;return[C(this,rg,BA).call(this,u),o,a]},b(se,sg),b(se,Xv),b(se,Yv),b(se,ig),b(se,Sh),b(se,qv),b(se,Kv),b(se,Qv),b(se,rg),b(se,og),b(se,Zv),b(se,Ol,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),b(se,Ns,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class vT extends S5{constructor(){super(),super.updateProperties({fill:Tt._defaultLineColor,"stroke-width":0})}clone(){const t=new vT;return t.updateAll(this),t}}class xT extends Fx{constructor(t){super(t),super.updateProperties({stroke:Tt._defaultLineColor,"stroke-width":1})}clone(){const t=new xT(this._viewParameters);return t.updateAll(this),t}}var wo,mi,bo,Vl;const Pn=class Pn extends ey{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});b(this,wo,!1);b(this,mi,null);b(this,bo,null);b(this,Vl,null);this._willKeepAspectRatio=!0,A(this,bo,n.signatureData||null),A(this,mi,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,s){Tt.initialize(n,s),this._defaultDrawingOptions=new vT,this._defaultDrawnSignatureOptions=new xT(s.viewParameters)}static getDefaultDrawingOptions(n){const s=this._defaultDrawingOptions.clone();return s.updateProperties(n),s}static get supportMultipleDrawings(){return!1}static get typesMap(){return ot(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!h(this,mi)}}static computeTelemetryFinalData(n){const s=n.get("hasDescription");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,s;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,n=this.x,s=this.y),super.render(),this._drawId===null)if(h(this,bo)){const{lines:r,mustSmooth:o,areContours:a,description:l,uuid:c,heightInPage:u}=h(this,bo),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,m=se.processDrawnLines({lines:r,pageWidth:d,pageHeight:f,rotation:p,innerMargin:Pn._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(m,u,l,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return i&&(this._isCopy=!0,this._moveAfterPaste(n,s)),this.div}setUuid(n){A(this,Vl,n),this.addEditToolbar()}getUuid(){return h(this,Vl)}get description(){return h(this,mi)}set description(n){A(this,mi,n),super.addEditToolbar().then(s=>{s==null||s.updateEditSignatureButton(n)})}getSignaturePreview(){const{newCurves:n,areContours:s,thickness:i,width:r,height:o}=h(this,bo),a=Math.max(r,o),l=se.processDrawnLines({lines:{curves:n.map(c=>({points:c})),thickness:i,width:r,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:s});return{areContours:s,outline:l.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,s,i,r){const{x:o,y:a}=this,{outline:l}=A(this,bo,n);A(this,wo,l instanceof VA),this.description=i,this.div.setAttribute("data-l10n-args",JSON.stringify({description:i}));let c;h(this,wo)?c=Pn.getDefaultDrawingOptions():(c=Pn._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":l.thickness})),this._addOutlines({drawOutlines:l,drawingOptions:c});const[u,d]=this.parentDimensions,[,f]=this.pageDimensions;let p=s/f;p=p>=1?.5:p,this.width*=p/this.height,this.width>=1&&(p*=.9/this.width,this.width=.9),this.height=p,this.setDims(u*this.width,d*this.height),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:s,pageHeight:i},rotation:r}=this.parent.viewport;return se.process(n,s,i,r,Pn._INNER_MARGIN)}getFromText(n,s){const{rawDims:{pageWidth:i,pageHeight:r},rotation:o}=this.parent.viewport;return se.extractContoursFromText(n,s,i,r,o,Pn._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:s,pageHeight:i},rotation:r}=this.parent.viewport;return se.processDrawnLines({lines:n,pageWidth:s,pageHeight:i,rotation:r,innerMargin:Pn._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:s}){n?this._drawingOptions=Pn.getDefaultDrawingOptions():(this._drawingOptions=Pn._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":s}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:s,points:i,rect:r}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":o}}=this,a={annotationType:tt.SIGNATURE,isSignature:!0,areContours:h(this,wo),color:[0,0,0],thickness:h(this,wo)?0:o,pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return n?(a.paths={lines:s,points:i},a.uuid=h(this,Vl),a.isCopy=!0):a.lines=s,h(this,mi)&&(a.accessibilityData={type:"Figure",alt:h(this,mi)}),a}static deserializeDraw(n,s,i,r,o,a){return a.areContours?VA.deserialize(n,s,i,r,o,a):Lg.deserialize(n,s,i,r,o,a)}static async deserialize(n,s,i){var o;const r=await super.deserialize(n,s,i);return A(r,wo,n.areContours),A(r,mi,((o=n.accessibilityData)==null?void 0:o.alt)||""),A(r,Vl,n.uuid),r}};wo=new WeakMap,mi=new WeakMap,bo=new WeakMap,Vl=new WeakMap,$(Pn,"_type","signature"),$(Pn,"_editorType",tt.SIGNATURE),$(Pn,"_defaultDrawingOptions",null);let UA=Pn;var Lt,be,Ao,ar,So,Eh,lr,jl,gi,$n,Th,$l,Bd,Bl,zd,Ch,a1,Ph,l1,_h,c1,ag,WA,Mh,u1,Jv,N5;class HA extends Tt{constructor(n){super({...n,name:"stampEditor"});b(this,$l);b(this,Bl);b(this,Ch);b(this,Ph);b(this,_h);b(this,ag);b(this,Mh);b(this,Jv);b(this,Lt,null);b(this,be,null);b(this,Ao,null);b(this,ar,null);b(this,So,null);b(this,Eh,"");b(this,lr,null);b(this,jl,!1);b(this,gi,null);b(this,$n,!1);b(this,Th,!1);A(this,ar,n.bitmapUrl),A(this,So,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,s){Tt.initialize(n,s)}static isHandlingMimeForPasting(n){return Q1.includes(n)}static paste(n,s){s.pasteEditor({mode:tt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const s=n.get("hasAltText");return{hasAltText:s.get(!0)??0,hasNoAltText:s.get(!1)??0}}async mlGuessAltText(n=null,s=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:o,height:a}=n||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:r,width:o,height:a,channels:r.length/(o*a)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const c=l.output;return await this.setGuessedAltText(c),s&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var n;h(this,be)&&(A(this,Lt,null),this._uiManager.imageManager.deleteId(h(this,be)),(n=h(this,lr))==null||n.remove(),A(this,lr,null),h(this,gi)&&(clearTimeout(h(this,gi)),A(this,gi,null))),super.remove()}rebuild(){if(!this.parent){h(this,be)&&C(this,Ch,a1).call(this);return}super.rebuild(),this.div!==null&&(h(this,be)&&h(this,lr)===null&&C(this,Ch,a1).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(h(this,Ao)||h(this,Lt)||h(this,ar)||h(this,So)||h(this,be)||h(this,jl))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,s;return this._isCopy&&(n=this.x,s=this.y),super.render(),this.div.hidden=!0,this.createAltText(),h(this,jl)||(h(this,Lt)?C(this,Ph,l1).call(this):C(this,Ch,a1).call(this)),this._isCopy&&this._moveAfterPaste(n,s),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,s){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(n,s);s.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(A(this,be,i),r&&A(this,Lt,r),A(this,jl,!1),C(this,Ph,l1).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;h(this,gi)!==null&&clearTimeout(h(this,gi)),A(this,gi,setTimeout(()=>{A(this,gi,null),C(this,ag,WA).call(this)},200))}copyCanvas(n,s,i=!1){var p;n||(n=224);const{width:r,height:o}=h(this,Lt),a=new Gs;let l=h(this,Lt),c=r,u=o,d=null;if(s){if(r>s||o>s){const R=Math.min(s/r,s/o);c=Math.floor(r*R),u=Math.floor(o*R)}d=document.createElement("canvas");const m=d.width=Math.ceil(c*a.sx),g=d.height=Math.ceil(u*a.sy);h(this,$n)||(l=C(this,_h,c1).call(this,m,g));const w=d.getContext("2d");w.filter=this._uiManager.hcmFilter;let y="white",x="#cfcfd8";this._uiManager.hcmFilter!=="none"?x="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",x="#42414d");const v=15,S=v*a.sx,E=v*a.sy,P=new OffscreenCanvas(S*2,E*2),_=P.getContext("2d");_.fillStyle=y,_.fillRect(0,0,S*2,E*2),_.fillStyle=x,_.fillRect(0,0,S,E),_.fillRect(S,E,S,E),w.fillStyle=w.createPattern(P,"repeat"),w.fillRect(0,0,m,g),w.drawImage(l,0,0,l.width,l.height,0,0,m,g)}let f=null;if(i){let m,g;if(a.symmetric&&l.width<n&&l.height<n)m=l.width,g=l.height;else if(l=h(this,Lt),r>n||o>n){const x=Math.min(n/r,n/o);m=Math.floor(r*x),g=Math.floor(o*x),h(this,$n)||(l=C(this,_h,c1).call(this,m,g))}const y=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,m,g),f={width:m,height:g,data:y.getImageData(0,0,m,g).data}}return{canvas:d,width:c,height:u,imageData:f}}static async deserialize(n,s,i){var w;let r=null,o=!1;if(n instanceof K6){const{data:{rect:y,rotation:x,id:v,structParent:S,popupRef:E},container:P,parent:{page:{pageNumber:_}},canvas:R}=n;let k,D;R?(delete n.canvas,{id:k,bitmap:D}=i.imageManager.getFromCanvas(P.id,R),R.remove()):(o=!0,n._hasNoCanvas=!0);const I=((w=await s._structTree.getAriaAttributes(`${lT}${v}`))==null?void 0:w.get("aria-label"))||"";r=n={annotationType:tt.STAMP,bitmapId:k,bitmap:D,pageIndex:_-1,rect:y.slice(0),rotation:x,annotationElementId:v,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:I},isSvg:!1,structParent:S,popupRef:E}}const a=await super.deserialize(n,s,i),{rect:l,bitmap:c,bitmapUrl:u,bitmapId:d,isSvg:f,accessibilityData:p}=n;o?(i.addMissingCanvas(n.id,a),A(a,jl,!0)):d&&i.imageManager.isValidId(d)?(A(a,be,d),c&&A(a,Lt,c)):A(a,ar,u),A(a,$n,f);const[m,g]=a.pageDimensions;return a.width=(l[2]-l[0])/m,a.height=(l[3]-l[1])/g,p&&(a.altTextData=p),a._initialData=r,A(a,Th,!!r),a}serialize(n=!1,s=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:tt.STAMP,bitmapId:h(this,be),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,$n),structTreeParentId:this._structTreeParentId};if(n)return i.bitmapUrl=C(this,Mh,u1).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:o}=this.serializeAltText(!1);if(!r&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const l=C(this,Jv,N5).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,s===null)return i;s.stamps||(s.stamps=new Map);const a=h(this,$n)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!s.stamps.has(h(this,be)))s.stamps.set(h(this,be),{area:a,serialized:i}),i.bitmap=C(this,Mh,u1).call(this,!1);else if(h(this,$n)){const l=s.stamps.get(h(this,be));a>l.area&&(l.area=a,l.serialized.bitmap.close(),l.serialized.bitmap=C(this,Mh,u1).call(this,!1))}return i}renderAnnotationElement(n){return n.updateEdited({rect:this.getRect(0,0)}),null}}Lt=new WeakMap,be=new WeakMap,Ao=new WeakMap,ar=new WeakMap,So=new WeakMap,Eh=new WeakMap,lr=new WeakMap,jl=new WeakMap,gi=new WeakMap,$n=new WeakMap,Th=new WeakMap,$l=new WeakSet,Bd=function(n,s=!1){if(!n){this.remove();return}A(this,Lt,n.bitmap),s||(A(this,be,n.id),A(this,$n,n.isSvg)),n.file&&A(this,Eh,n.file.name),C(this,Ph,l1).call(this)},Bl=new WeakSet,zd=function(){if(A(this,Ao,null),this._uiManager.enableWaiting(!1),!!h(this,lr)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Lt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&h(this,Lt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ch=new WeakSet,a1=function(){if(h(this,be)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,be)).then(i=>C(this,$l,Bd).call(this,i,!0)).finally(()=>C(this,Bl,zd).call(this));return}if(h(this,ar)){const i=h(this,ar);A(this,ar,null),this._uiManager.enableWaiting(!0),A(this,Ao,this._uiManager.imageManager.getFromUrl(i).then(r=>C(this,$l,Bd).call(this,r)).finally(()=>C(this,Bl,zd).call(this)));return}if(h(this,So)){const i=h(this,So);A(this,So,null),this._uiManager.enableWaiting(!0),A(this,Ao,this._uiManager.imageManager.getFromFile(i).then(r=>C(this,$l,Bd).call(this,r)).finally(()=>C(this,Bl,zd).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=Q1.join(",");const s=this._uiManager._signal;A(this,Ao,new Promise(i=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),C(this,$l,Bd).call(this,r)}i()},{signal:s}),n.addEventListener("cancel",()=>{this.remove(),i()},{signal:s})}).finally(()=>C(this,Bl,zd).call(this))),n.click()},Ph=new WeakSet,l1=function(){var d;const{div:n}=this;let{width:s,height:i}=h(this,Lt);const[r,o]=this.pageDimensions,a=.75;if(this.width)s=this.width*r,i=this.height*o;else if(s>a*r||i>a*o){const f=Math.min(a*r/s,a*o/i);s*=f,i*=f}const[l,c]=this.parentDimensions;this.setDims(s*l/r,i*c/o),this._uiManager.enableWaiting(!1);const u=A(this,lr,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=s/r,this.height=i/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),C(this,ag,WA).call(this),h(this,Th)||(this.parent.addUndoableEditor(this),A(this,Th,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Eh)&&this.div.setAttribute("aria-description",h(this,Eh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},_h=new WeakSet,c1=function(n,s){const{width:i,height:r}=h(this,Lt);let o=i,a=r,l=h(this,Lt);for(;o>2*n||a>2*s;){const c=o,u=a;o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*s&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(l,0,0,c,u,0,0,o,a),l=d.transferToImageBitmap()}return l},ag=new WeakSet,WA=function(){const[n,s]=this.parentDimensions,{width:i,height:r}=this,o=new Gs,a=Math.ceil(i*n*o.sx),l=Math.ceil(r*s*o.sy),c=h(this,lr);if(!c||c.width===a&&c.height===l)return;c.width=a,c.height=l;const u=h(this,$n)?h(this,Lt):C(this,_h,c1).call(this,a,l),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(u,0,0,u.width,u.height,0,0,a,l)},Mh=new WeakSet,u1=function(n){if(n){if(h(this,$n)){const r=this._uiManager.imageManager.getSvgUrl(h(this,be));if(r)return r}const s=document.createElement("canvas");return{width:s.width,height:s.height}=h(this,Lt),s.getContext("2d").drawImage(h(this,Lt),0,0),s.toDataURL()}if(h(this,$n)){const[s,i]=this.pageDimensions,r=Math.round(this.width*s*Cr.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*Cr.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(r,o);return a.getContext("2d").drawImage(h(this,Lt),0,0,h(this,Lt).width,h(this,Lt).height,0,0,r,o),a.transferToImageBitmap()}return structuredClone(h(this,Lt))},Jv=new WeakSet,N5=function(n){var a;const{pageIndex:s,accessibilityData:{altText:i}}=this._initialData,r=n.pageIndex===s,o=(((a=n.accessibilityData)==null?void 0:a.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&r&&o,isSameAltText:o}},$(HA,"_type","stamp"),$(HA,"_editorType",tt.STAMP);var zl,Rh,yi,Eo,cr,Bn,To,kh,Ul,Fs,ur,Ae,hr,Co,Lh,q,Po,tx,F5,cs,Qs,lg,GA,cg,XA,Dh,h1;const As=class As{constructor({uiManager:t,pageIndex:n,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:o,drawLayer:a,textLayer:l,viewport:c,l10n:u}){b(this,tx);b(this,cs);b(this,lg);b(this,cg);b(this,Dh);b(this,zl,void 0);b(this,Rh,!1);b(this,yi,null);b(this,Eo,null);b(this,cr,null);b(this,Bn,new Map);b(this,To,!1);b(this,kh,!1);b(this,Ul,!1);b(this,Fs,null);b(this,ur,null);b(this,Ae,null);b(this,hr,null);b(this,Co,null);b(this,Lh,-1);b(this,q,void 0);const d=[...h(As,Po).values()];if(!As._initialized){As._initialized=!0;for(const f of d)f.initialize(u,t)}t.registerEditorTypes(d),A(this,q,t),this.pageIndex=n,this.div=s,A(this,zl,r),A(this,yi,o),this.viewport=c,A(this,Ae,l),this.drawLayer=a,this._structTree=i,h(this,q).addLayer(this)}get isEmpty(){return h(this,Bn).size===0}get isInvisible(){return this.isEmpty&&h(this,q).getMode()===tt.NONE}updateToolbar(t){h(this,q).updateToolbar(t)}updateMode(t=h(this,q).getMode()){switch(C(this,Dh,h1).call(this),t){case tt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case tt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case tt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;for(const s of h(As,Po).values())n.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){var n;return t===((n=h(this,Ae))==null?void 0:n.div)}setEditingState(t){h(this,q).setEditingState(t)}addCommands(t){h(this,q).addCommands(t)}cleanUndoStack(t){h(this,q).cleanUndoStack(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var n;(n=h(this,yi))==null||n.div.classList.toggle("disabled",!t)}async enable(){var s;A(this,Ul,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),(s=h(this,Co))==null||s.abort(),A(this,Co,null);const t=new Set;for(const i of h(this,Bn).values())i.enableEditing(),i.show(!0),i.annotationElementId&&(h(this,q).removeChangedExistingAnnotation(i),t.add(i.annotationElementId));if(!h(this,yi)){A(this,Ul,!1);return}const n=h(this,yi).getEditableAnnotations();for(const i of n){if(i.hide(),h(this,q).isDeletedAnnotationElement(i.data.id)||t.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}A(this,Ul,!1)}disable(){var i;if(A(this,kh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),h(this,Ae)&&!h(this,Co)){A(this,Co,new AbortController);const r=h(this,q).combinedSignal(h(this,Co));h(this,Ae).div.addEventListener("pointerdown",o=>{const{clientX:l,clientY:c,timeStamp:u}=o,d=h(this,Lh);if(u-d>500){A(this,Lh,u);return}A(this,Lh,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(l,c);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let m;const g=new RegExp(`^${CD}[0-9]+$`);for(const y of p)if(g.test(y.id)){m=y.id;break}if(!m)return;const w=h(this,Bn).get(m);(w==null?void 0:w.annotationElementId)===null&&(o.stopPropagation(),o.preventDefault(),w.dblclick())},{signal:r,capture:!0})}const t=new Map,n=new Map;for(const r of h(this,Bn).values())if(r.disableEditing(),!!r.annotationElementId){if(r.serialize()!==null){t.set(r.annotationElementId,r);continue}else n.set(r.annotationElementId,r);(i=this.getEditableAnnotation(r.annotationElementId))==null||i.show(),r.remove()}if(h(this,yi)){const r=h(this,yi).getEditableAnnotations();for(const o of r){const{id:a}=o.data;if(h(this,q).isDeletedAnnotationElement(a))continue;let l=n.get(a);if(l){l.resetAnnotationElement(o),l.show(!1),o.show();continue}l=t.get(a),l&&(h(this,q).addChangedExistingAnnotation(l),l.renderAnnotationElement(o)&&l.show(!1)),o.show()}}C(this,Dh,h1).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const r of h(As,Po).values())s.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),A(this,kh,!1)}getEditableAnnotation(t){var n;return((n=h(this,yi))==null?void 0:n.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,q).getActive()!==t&&h(this,q).setActiveEditor(t)}enableTextSelection(){var t;if(this.div.tabIndex=-1,(t=h(this,Ae))!=null&&t.div&&!h(this,hr)){A(this,hr,new AbortController);const n=h(this,q).combinedSignal(h(this,hr));h(this,Ae).div.addEventListener("pointerdown",C(this,tx,F5).bind(this),{signal:n}),h(this,Ae).div.classList.add("highlighting")}}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,Ae))!=null&&t.div&&h(this,hr)&&(h(this,hr).abort(),A(this,hr,null),h(this,Ae).div.classList.remove("highlighting"))}enableClick(){if(h(this,Eo))return;A(this,Eo,new AbortController);const t=h(this,q).combinedSignal(h(this,Eo));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:t}),this.div.addEventListener("pointercancel",n,{signal:t})}disableClick(){var t;(t=h(this,Eo))==null||t.abort(),A(this,Eo,null)}attach(t){h(this,Bn).set(t.id,t);const{annotationElementId:n}=t;n&&h(this,q).isDeletedAnnotationElement(n)&&h(this,q).removeDeletedAnnotationElement(t)}detach(t){var n;h(this,Bn).delete(t.id),(n=h(this,zl))==null||n.removePointerInTextLayer(t.contentDiv),!h(this,kh)&&t.annotationElementId&&h(this,q).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,q).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1}changeParent(t){var n;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,q).addDeletedAnnotationElement(t.annotationElementId),Tt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(n=t.parent)==null||n.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,q).addEditor(t),this.attach(t),!t.isAttachedToDOM){const n=t.render();this.div.append(n),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(!h(this,Ul)),h(this,q).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var s;if(!t.isAttachedToDOM)return;const{activeElement:n}=document;t.div.contains(n)&&!h(this,cr)&&(t._focusEventsAllowed=!1,A(this,cr,setTimeout(()=>{A(this,cr,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,q)._signal}),n.focus())},0))),t._structTreeParentId=(s=h(this,zl))==null?void 0:s.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const n=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:n,undo:s,mustExec:!1})}getNextId(){return h(this,q).getId()}combinedSignal(t){return h(this,q).combinedSignal(t)}canCreateNewEmptyEditor(){var t;return(t=h(this,cs,Qs))==null?void 0:t.canCreateNewEmptyEditor()}async pasteEditor(t,n){this.updateToolbar(t),await h(this,q).updateMode(t.mode);const{offsetX:s,offsetY:i}=C(this,cg,XA).call(this),r=this.getNextId(),o=C(this,lg,GA).call(this,{parent:this,id:r,x:s,y:i,uiManager:h(this,q),isCentered:!0,...n});o&&this.add(o)}async deserialize(t){var n;return await((n=h(As,Po).get(t.annotationType??t.annotationEditorType))==null?void 0:n.deserialize(t,this,h(this,q)))||null}createAndAddNewEditor(t,n,s={}){const i=this.getNextId(),r=C(this,lg,GA).call(this,{parent:this,id:i,x:t.offsetX,y:t.offsetY,uiManager:h(this,q),isCentered:n,...s});return r&&this.add(r),r}addNewEditor(t={}){this.createAndAddNewEditor(C(this,cg,XA).call(this),!0,t)}setSelected(t){h(this,q).setSelected(t)}toggleSelected(t){h(this,q).toggleSelected(t)}unselect(t){h(this,q).unselect(t)}pointerup(t){var i;const{isMac:n}=Te.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div||!h(this,To)||(A(this,To,!1),(i=h(this,cs,Qs))!=null&&i.isDrawer&&h(this,cs,Qs).supportMultipleDrawings))return;if(!h(this,Rh)){A(this,Rh,!0);return}const s=h(this,q).getMode();if(s===tt.STAMP||s===tt.SIGNATURE){h(this,q).unselectAll();return}this.createAndAddNewEditor(t,!1)}pointerdown(t){var i;if(h(this,q).getMode()===tt.HIGHLIGHT&&this.enableTextSelection(),h(this,To)){A(this,To,!1);return}const{isMac:n}=Te.platform;if(t.button!==0||t.ctrlKey&&n||t.target!==this.div)return;if(A(this,To,!0),(i=h(this,cs,Qs))!=null&&i.isDrawer){this.startDrawingSession(t);return}const s=h(this,q).getActive();A(this,Rh,!s||s.isEmpty())}startDrawingSession(t){if(this.div.focus({preventScroll:!0}),h(this,Fs)){h(this,cs,Qs).startDrawing(this,h(this,q),!1,t);return}h(this,q).setCurrentDrawingSession(this),A(this,Fs,new AbortController);const n=h(this,q).combinedSignal(h(this,Fs));this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(A(this,ur,null),this.commitOrRemove())},{signal:n}),h(this,cs,Qs).startDrawing(this,h(this,q),!1,t)}pause(t){if(t){const{activeElement:n}=document;this.div.contains(n)&&A(this,ur,n);return}h(this,ur)&&setTimeout(()=>{var n;(n=h(this,ur))==null||n.focus(),A(this,ur,null)},0)}endDrawingSession(t=!1){return h(this,Fs)?(h(this,q).setCurrentDrawingSession(null),h(this,Fs).abort(),A(this,Fs,null),A(this,ur,null),h(this,cs,Qs).endDrawing(t)):null}findNewParent(t,n,s){const i=h(this,q).findParent(n,s);return i===null||i===this?!1:(i.changeParent(t),!0)}commitOrRemove(){return h(this,Fs)?(this.endDrawingSession(),!0):!1}onScaleChanging(){h(this,Fs)&&h(this,cs,Qs).onScaleChangingWhenDrawing(this)}destroy(){var t,n;this.commitOrRemove(),((t=h(this,q).getActive())==null?void 0:t.parent)===this&&(h(this,q).commitOrRemove(),h(this,q).setActiveEditor(null)),h(this,cr)&&(clearTimeout(h(this,cr)),A(this,cr,null));for(const s of h(this,Bn).values())(n=h(this,zl))==null||n.removePointerInTextLayer(s.contentDiv),s.setParent(null),s.isAttachedToDOM=!1,s.div.remove();this.div=null,h(this,Bn).clear(),h(this,q).removeLayer(this)}render({viewport:t}){this.viewport=t,qo(this.div,t);for(const n of h(this,q).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:t}){h(this,q).commitOrRemove(),C(this,Dh,h1).call(this);const n=this.viewport.rotation,s=t.rotation;if(this.viewport=t,qo(this.div,{rotation:s}),n!==s)for(const i of h(this,Bn).values())i.rotate(s)}get pageDimensions(){const{pageWidth:t,pageHeight:n}=this.viewport.rawDims;return[t,n]}get scale(){return h(this,q).viewParameters.realScale}};zl=new WeakMap,Rh=new WeakMap,yi=new WeakMap,Eo=new WeakMap,cr=new WeakMap,Bn=new WeakMap,To=new WeakMap,kh=new WeakMap,Ul=new WeakMap,Fs=new WeakMap,ur=new WeakMap,Ae=new WeakMap,hr=new WeakMap,Co=new WeakMap,Lh=new WeakMap,q=new WeakMap,Po=new WeakMap,tx=new WeakSet,F5=function(t){h(this,q).unselectAll();const{target:n}=t;if(n===h(this,Ae).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&h(this,Ae).div.contains(n)){const{isMac:s}=Te.platform;if(t.button!==0||t.ctrlKey&&s)return;h(this,q).showAllEditors("highlight",!0,!0),h(this,Ae).div.classList.add("free"),this.toggleDrawing(),ty.startHighlighting(this,h(this,q).direction==="ltr",{target:h(this,Ae).div,x:t.x,y:t.y}),h(this,Ae).div.addEventListener("pointerup",()=>{h(this,Ae).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:h(this,q)._signal}),t.preventDefault()}},cs=new WeakSet,Qs=function(){return h(As,Po).get(h(this,q).getMode())},lg=new WeakSet,GA=function(t){const n=h(this,cs,Qs);return n?new n.prototype.constructor(t):null},cg=new WeakSet,XA=function(){const{x:t,y:n,width:s,height:i}=this.div.getBoundingClientRect(),r=Math.max(0,t),o=Math.max(0,n),a=Math.min(window.innerWidth,t+s),l=Math.min(window.innerHeight,n+i),c=(r+a)/2-t,u=(o+l)/2-n,[d,f]=this.viewport.rotation%180===0?[c,u]:[u,c];return{offsetX:d,offsetY:f}},Dh=new WeakSet,h1=function(){for(const t of h(this,Bn).values())t.isEmpty()&&t.remove()},$(As,"_initialized",!1),b(As,Po,new Map([EA,OA,HA,ty,UA].map(t=>[t._editorType,t])));let ny=As;var Os,sn,Hl,ug,ex,O5,hg,YA,nx,V5,dg,qA;const ce=class ce{constructor({pageIndex:t}){b(this,hg);b(this,nx);b(this,dg);b(this,Os,null);b(this,sn,new Map);b(this,Hl,new Map);this.pageIndex=t}setParent(t){if(!h(this,Os)){A(this,Os,t);return}if(h(this,Os)!==t){if(h(this,sn).size>0)for(const n of h(this,sn).values())n.remove(),t.append(n);A(this,Os,t)}}static get _svgFactory(){return ot(this,"_svgFactory",new Bf)}draw(t,n=!1,s=!1){const i=Ze(ce,ug)._++,r=C(this,hg,YA).call(this),o=ce._svgFactory.createElement("defs");r.append(o);const a=ce._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",l),a.setAttribute("vector-effect","non-scaling-stroke"),n&&h(this,Hl).set(i,a);const c=s?C(this,nx,V5).call(this,o,l):null,u=ce._svgFactory.createElement("use");return r.append(u),u.setAttribute("href",`#${l}`),this.updateProperties(r,t),h(this,sn).set(i,r),{id:i,clipPathId:`url(#${c})`}}drawOutline(t,n){const s=Ze(ce,ug)._++,i=C(this,hg,YA).call(this),r=ce._svgFactory.createElement("defs");i.append(r);const o=ce._svgFactory.createElement("path");r.append(o);const a=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const d=ce._svgFactory.createElement("mask");r.append(d),l=`mask_p${this.pageIndex}_${s}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const f=ce._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=ce._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=ce._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${a}`),l&&c.setAttribute("mask",`url(#${l})`);const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(i,t),h(this,sn).set(s,i),s}finalizeDraw(t,n){h(this,Hl).delete(t),this.updateProperties(t,n)}updateProperties(t,n){var l;if(!n)return;const{root:s,bbox:i,rootClass:r,path:o}=n,a=typeof t=="number"?h(this,sn).get(t):t;if(a){if(s&&C(this,dg,qA).call(this,a,s),i&&C(l=ce,ex,O5).call(l,a,i),r){const{classList:c}=a;for(const[u,d]of Object.entries(r))c.toggle(u,d)}if(o){const u=a.firstChild.firstChild;C(this,dg,qA).call(this,u,o)}}}updateParent(t,n){if(n===this)return;const s=h(this,sn).get(t);s&&(h(n,Os).append(s),h(this,sn).delete(t),h(n,sn).set(t,s))}remove(t){h(this,Hl).delete(t),h(this,Os)!==null&&(h(this,sn).get(t).remove(),h(this,sn).delete(t))}destroy(){A(this,Os,null);for(const t of h(this,sn).values())t.remove();h(this,sn).clear(),h(this,Hl).clear()}};Os=new WeakMap,sn=new WeakMap,Hl=new WeakMap,ug=new WeakMap,ex=new WeakSet,O5=function(t,[n,s,i,r]){const{style:o}=t;o.top=`${100*s}%`,o.left=`${100*n}%`,o.width=`${100*i}%`,o.height=`${100*r}%`},hg=new WeakSet,YA=function(){const t=ce._svgFactory.create(1,1,!0);return h(this,Os).append(t),t.setAttribute("aria-hidden",!0),t},nx=new WeakSet,V5=function(t,n){const s=ce._svgFactory.createElement("clipPath");t.append(s);const i=`clip_${n}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=ce._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${n}`),r.classList.add("clip"),i},dg=new WeakSet,qA=function(t,n){for(const[s,i]of Object.entries(n))i===null?t.removeAttribute(s):t.setAttribute(s,i)},b(ce,ex),b(ce,ug,0);let sy=ce;globalThis._pdfjsTestingUtils={HighlightOutliner:CA};globalThis.pdfjsLib={AbortException:Tr,AnnotationEditorLayer:ny,AnnotationEditorParamsType:lt,AnnotationEditorType:tt,AnnotationEditorUIManager:Ko,AnnotationLayer:yT,AnnotationMode:xi,AnnotationType:Yt,build:V6,ColorPicker:zf,createValidAbsoluteUrl:rT,DOMSVGFactory:Bf,DrawLayer:sy,FeatureTest:Te,fetchData:Jh,getDocument:fT,getFilenameFromUrl:LD,getPdfFilenameFromUrl:DD,getUuid:aT,getXfaPageViewport:ID,GlobalWorkerOptions:ds,ImageKind:lf,InvalidPDFException:K1,isDataScheme:Mg,isPdfFile:Dx,isValidExplicitDest:p6,MathClamp:Ge,noContextMenu:vs,normalizeUnicode:RD,OPS:Ff,OutputScale:Gs,PasswordResponses:_D,PDFDataRangeTransport:pT,PDFDateString:Ix,PDFWorker:Wh,PermissionFlag:PD,PixelsPerInch:Cr,RenderingCancelledException:Lx,ResponseException:Of,setLayerDimensions:qo,shadow:ot,SignatureExtractor:se,stopEvent:Zt,SupportedImageMimeTypes:Q1,TextLayer:jf,TouchManager:Vf,updateUrlHash:oT,Util:K,VerbosityLevel:Cg,version:O6,XfaLayer:mT};const GW=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Tr,AnnotationEditorLayer:ny,AnnotationEditorParamsType:lt,AnnotationEditorType:tt,AnnotationEditorUIManager:Ko,AnnotationLayer:yT,AnnotationMode:xi,AnnotationType:Yt,ColorPicker:zf,DOMSVGFactory:Bf,DrawLayer:sy,FeatureTest:Te,GlobalWorkerOptions:ds,ImageKind:lf,InvalidPDFException:K1,MathClamp:Ge,OPS:Ff,OutputScale:Gs,PDFDataRangeTransport:pT,PDFDateString:Ix,PDFWorker:Wh,PasswordResponses:_D,PermissionFlag:PD,PixelsPerInch:Cr,RenderingCancelledException:Lx,ResponseException:Of,SignatureExtractor:se,SupportedImageMimeTypes:Q1,TextLayer:jf,TouchManager:Vf,Util:K,VerbosityLevel:Cg,XfaLayer:mT,build:V6,createValidAbsoluteUrl:rT,fetchData:Jh,getDocument:fT,getFilenameFromUrl:LD,getPdfFilenameFromUrl:DD,getUuid:aT,getXfaPageViewport:ID,isDataScheme:Mg,isPdfFile:Dx,isValidExplicitDest:p6,noContextMenu:vs,normalizeUnicode:RD,setLayerDimensions:qo,shadow:ot,stopEvent:Zt,updateUrlHash:oT,version:O6},Symbol.toStringTag,{value:"Module"}));function j5(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=j5(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function Ox(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=j5(e))&&(s&&(s+=" "),s+=t);return s}var C3=Object.prototype.hasOwnProperty;function P3(e,t,n){for(n of e.keys())if(Jc(n,t))return n}function Jc(e,t){var n,s,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((s=e.length)===t.length)for(;s--&&Jc(e[s],t[s]););return s===-1}if(n===Set){if(e.size!==t.size)return!1;for(s of e)if(i=s,i&&typeof i=="object"&&(i=P3(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(s of e)if(i=s[0],i&&typeof i=="object"&&(i=P3(t,i),!i)||!Jc(s[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((s=e.byteLength)===t.byteLength)for(;s--&&e.getInt8(s)===t.getInt8(s););return s===-1}if(ArrayBuffer.isView(e)){if((s=e.byteLength)===t.byteLength)for(;s--&&e[s]===t[s];);return s===-1}if(!n||typeof e=="object"){s=0;for(n in e)if(C3.call(e,n)&&++s&&!C3.call(t,n)||!(n in t)||!Jc(e[n],t[n]))return!1;return Object.keys(t).length===s}}return e!==e&&t!==t}function Dg(e){let t=!1;return{promise:new Promise((s,i)=>{e.then(r=>!t&&s(r)).catch(r=>!t&&i(r))}),cancel(){t=!0}}}const XW=["onCopy","onCut","onPaste"],YW=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],qW=["onFocus","onBlur"],KW=["onInput","onInvalid","onReset","onSubmit"],QW=["onLoad","onError"],ZW=["onKeyDown","onKeyPress","onKeyUp"],JW=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],tG=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],eG=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],nG=["onSelect"],sG=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],iG=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],rG=["onScroll"],oG=["onWheel"],aG=["onAnimationStart","onAnimationEnd","onAnimationIteration"],lG=["onTransitionEnd"],cG=["onToggle"],uG=["onChange"],hG=[...XW,...YW,...qW,...KW,...QW,...ZW,...JW,...tG,...eG,...nG,...sG,...iG,...rG,...oG,...aG,...lG,...uG,...cG];function $5(e,t){const n={};for(const s of hG){const i=e[s];i&&(t?n[s]=r=>i(r,t(s)):n[s]=i)}return n}var dG=!0,Jw="Invariant failed";function At(e,t){if(!e){if(dG)throw new Error(Jw);var n=typeof t=="function"?t():t,s=n?"".concat(Jw,": ").concat(n):Jw;throw new Error(s)}}var fG=function(){},pG=fG;const Ye=Q3(pG),mG=M.createContext(null),B5=mG,gG="noopener noreferrer nofollow";class yG{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return At(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber||0}set page(t){At(this.pdfViewer,"PDF viewer is not initialized."),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(n=>{At(this.pdfDocument,"PDF document not loaded."),At(t,"Destination is not specified."),typeof t=="string"?this.pdfDocument.getDestination(t).then(n):Array.isArray(t)?n(t):t.then(n)}).then(n=>{At(Array.isArray(n),`"${n}" is not a valid destination array.`);const s=n[0];new Promise(i=>{At(this.pdfDocument,"PDF document not loaded."),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{i(r)}).catch(()=>{At(!1,`"${s}" is not a valid page reference.`)}):typeof s=="number"?i(s):At(!1,`"${s}" is not a valid destination reference.`)}).then(i=>{const r=i+1;At(this.pdfViewer,"PDF viewer is not initialized."),At(r>=1&&r<=this.pagesCount,`"${r}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({dest:n,pageIndex:i,pageNumber:r})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const n=t-1;At(this.pdfViewer,"PDF viewer is not initialized."),At(t>=1&&t<=this.pagesCount,`"${t}" is not a valid page number.`),this.pdfViewer.scrollPageIntoView({pageIndex:n,pageNumber:t})}addLinkAttributes(t,n,s){t.href=n,t.rel=this.externalLinkRel||gG,t.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function tu({children:e,type:t}){return T.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:e})}const vG={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},_3=vG;function xG(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function Gh(){return M.useReducer(xG,{value:void 0,error:void 0})}const Vx=typeof window<"u",z5=Vx&&window.location.protocol==="file:";function wG(e){return typeof e<"u"}function ia(e){return wG(e)&&e!==null}function bG(e){return typeof e=="string"}function AG(e){return e instanceof ArrayBuffer}function SG(e){return At(Vx,"isBlob can only be used in a browser environment"),e instanceof Blob}function KA(e){return bG(e)&&/^data:/.test(e)}function M3(e){At(KA(e),"Invalid data URI.");const[t="",n=""]=e.split(",");return t.split(";").indexOf("base64")!==-1?atob(n):unescape(n)}function EG(){return Vx&&window.devicePixelRatio||1}const U5="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function R3(){Ye(!z5,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${U5}`)}function TG(){Ye(!z5,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${U5}`)}function ec(e){e!=null&&e.cancel&&e.cancel()}function QA(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function CG(e){return e.name==="RenderingCancelledException"}function PG(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return n(new Error("Error while reading a file."));t(s.result)},s.onerror=i=>{if(!i.target)return n(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return n(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},s.readAsArrayBuffer(e)})}const{PDFDataRangeTransport:_G}=GW,MG=(e,t)=>{switch(t){case _3.NEED_PASSWORD:{const n=prompt("Enter the password to open this PDF file.");e(n);break}case _3.INCORRECT_PASSWORD:{const n=prompt("Invalid password. Please try again.");e(n);break}}};function k3(e){return typeof e=="object"&&e!==null&&("data"in e||"range"in e||"url"in e)}const RG=M.forwardRef(function({children:t,className:n,error:s="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:r,file:o,inputRef:a,imageResourcesPath:l,loading:c="Loading PDF",noData:u="No PDF file specified.",onItemClick:d,onLoadError:f,onLoadProgress:p,onLoadSuccess:m,onPassword:g=MG,onSourceError:w,onSourceSuccess:y,options:x,renderMode:v,rotate:S,scale:E,...P},_){const[R,k]=Gh(),{value:D,error:I}=R,[N,V]=Gh(),{value:L,error:H}=N,F=M.useRef(new yG),O=M.useRef([]),j=M.useRef(void 0),B=M.useRef(void 0);o&&o!==j.current&&k3(o)&&(Ye(!Jc(o,j.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),j.current=o),x&&x!==B.current&&(Ye(!Jc(x,B.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),B.current=x);const U=M.useRef({scrollPageIntoView:pt=>{const{dest:Mt,pageNumber:le,pageIndex:pe=le-1}=pt;if(d){d({dest:Mt,pageIndex:pe,pageNumber:le});return}const lc=O.current[pe];if(lc){lc.scrollIntoView();return}Ye(!1,`An internal link leading to page ${le} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});M.useImperativeHandle(_,()=>({linkService:F,pages:O,viewer:U}),[]);function W(){y&&y()}function Q(){I&&(Ye(!1,I.toString()),w&&w(I))}function st(){k({type:"RESET"})}M.useEffect(st,[o,k]);const mt=M.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return KA(o)?{data:M3(o)}:(R3(),{url:o});if(o instanceof _G)return{range:o};if(AG(o))return{data:o};if(Vx&&SG(o))return{data:await PG(o)};if(At(typeof o=="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),At(k3(o),"Invalid parameter object: need either .data, .range or .url"),"url"in o&&typeof o.url=="string"){if(KA(o.url)){const{url:pt,...Mt}=o;return{data:M3(pt),...Mt}}R3()}return o},[o]);M.useEffect(()=>{const pt=Dg(mt());return pt.promise.then(Mt=>{k({type:"RESOLVE",value:Mt})}).catch(Mt=>{k({type:"REJECT",error:Mt})}),()=>{ec(pt)}},[mt,k]),M.useEffect(()=>{if(!(typeof D>"u")){if(D===!1){Q();return}W()}},[D]);function St(){L&&(m&&m(L),O.current=new Array(L.numPages),F.current.setDocument(L))}function ut(){H&&(Ye(!1,H.toString()),f&&f(H))}M.useEffect(function(){V({type:"RESET"})},[V,D]),M.useEffect(function(){if(!D)return;const Mt=x?{...D,...x}:D,le=fT(Mt);p&&(le.onProgress=p),g&&(le.onPassword=g);const pe=le,lc=pe.promise.then(td=>{V({type:"RESOLVE",value:td})}).catch(td=>{pe.destroyed||V({type:"REJECT",error:td})});return()=>{lc.finally(()=>pe.destroy())}},[x,V,D]),M.useEffect(()=>{if(!(typeof L>"u")){if(L===!1){ut();return}St()}},[L]),M.useEffect(function(){F.current.setViewer(U.current),F.current.setExternalLinkRel(i),F.current.setExternalLinkTarget(r)},[i,r]);const it=M.useCallback((pt,Mt)=>{O.current[pt]=Mt},[]),fn=M.useCallback(pt=>{delete O.current[pt]},[]),Qe=M.useMemo(()=>({imageResourcesPath:l,linkService:F.current,onItemClick:d,pdf:L,registerPage:it,renderMode:v,rotate:S,scale:E,unregisterPage:fn}),[l,d,L,it,v,S,E,fn]),vt=M.useMemo(()=>$5(P,()=>L),[P,L]);function Ce(){function pt(le){return!!(le!=null&&le.pdf)}if(!pt(Qe))throw new Error("pdf is undefined");const Mt=typeof t=="function"?t(Qe):t;return T.jsx(B5.Provider,{value:Qe,children:Mt})}function Xs(){return o?L==null?T.jsx(tu,{type:"loading",children:typeof c=="function"?c():c}):L===!1?T.jsx(tu,{type:"error",children:typeof s=="function"?s():s}):Ce():T.jsx(tu,{type:"no-data",children:typeof u=="function"?u():u})}return T.jsx("div",{className:Ox("react-pdf__Document",n),ref:a,...vt,children:Xs()})}),kG=RG;function H5(){return M.useContext(B5)}function W5(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);if(n.length<=1){var s=n[0];return s||null}return function(r){for(var o=0,a=n;o<a.length;o++){var l=a[o];typeof l=="function"?l(r):l&&(l.current=r)}}}const LG=M.createContext(null),G5=LG;function jx(){return M.useContext(G5)}function DG(){const e=H5(),t=jx();At(t,"Unable to find Page context.");const n={...e,...t},{imageResourcesPath:s,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:a,onRenderAnnotationLayerSuccess:l,page:c,pdf:u,renderForms:d,rotate:f,scale:p=1}=n;At(u,"Attempted to load page annotations, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop."),At(c,"Attempted to load page annotations, but no page was specified."),At(i,"Attempted to load page annotations, but no linkService was specified.");const[m,g]=Gh(),{value:w,error:y}=m,x=M.useRef(null);Ye(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function v(){w&&o&&o(w)}function S(){y&&(Ye(!1,y.toString()),r&&r(y))}M.useEffect(function(){g({type:"RESET"})},[g,c]),M.useEffect(function(){if(!c)return;const k=Dg(c.getAnnotations()),D=k;return k.promise.then(I=>{g({type:"RESOLVE",value:I})}).catch(I=>{g({type:"REJECT",error:I})}),()=>{ec(D)}},[g,c]),M.useEffect(()=>{if(w!==void 0){if(w===!1){S();return}v()}},[w]);function E(){l&&l()}function P(R){Ye(!1,`${R}`),a&&a(R)}const _=M.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return M.useEffect(function(){if(!u||!c||!i||!w)return;const{current:k}=x;if(!k)return;const D=_.clone({dontFlip:!0}),I={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:k,l10n:null,page:c,structTreeLayer:null,viewport:D},N={annotations:w,annotationStorage:u.annotationStorage,div:k,imageResourcesPath:s,linkService:i,page:c,renderForms:d,viewport:D};k.innerHTML="";try{new yT(I).render(N),E()}catch(V){P(V)}return()=>{}},[w,s,i,c,u,d,_]),T.jsx("div",{className:Ox("react-pdf__Page__annotations","annotationLayer"),ref:x})}const X5={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},IG=/^H(\d+)$/;function NG(e){return e in X5}function $x(e){return"children"in e}function Y5(e){return $x(e)?e.children.length===1&&0 in e.children&&"id"in e.children[0]:!1}function FG(e){const t={};if($x(e)){const{role:n}=e,s=n.match(IG);if(s)t.role="heading",t["aria-level"]=Number(s[1]);else if(NG(n)){const i=X5[n];i&&(t.role=i)}}return t}function q5(e){const t={};if($x(e)){if(e.alt!==void 0&&(t["aria-label"]=e.alt),e.lang!==void 0&&(t.lang=e.lang),Y5(e)){const[n]=e.children;if(n){const s=q5(n);return{...t,...s}}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function OG(e){return e?{...FG(e),...q5(e)}:null}function K5({className:e,node:t}){const n=M.useMemo(()=>OG(t),[t]),s=M.useMemo(()=>!$x(t)||Y5(t)?null:t.children.map((i,r)=>T.jsx(K5,{node:i},r)),[t]);return T.jsx("span",{className:e,...n,children:s})}function VG(){const e=jx();At(e,"Unable to find Page context.");const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[s,i]=Gh(),{value:r,error:o}=s,{customTextRenderer:a,page:l}=e;function c(){r&&n&&n(r)}function u(){o&&(Ye(!1,o.toString()),t&&t(o))}return M.useEffect(function(){i({type:"RESET"})},[i,l]),M.useEffect(function(){if(a||!l)return;const f=Dg(l.getStructTree()),p=f;return f.promise.then(m=>{i({type:"RESOLVE",value:m})}).catch(m=>{i({type:"REJECT",error:m})}),()=>ec(p)},[a,l,i]),M.useEffect(()=>{if(r!==void 0){if(r===!1){u();return}c()}},[r]),r?T.jsx(K5,{className:"react-pdf__Page__structTree structTree",node:r}):null}const L3=xi;function jG(e){const t=jx();At(t,"Unable to find Page context.");const n={...t,...e},{_className:s,canvasBackground:i,devicePixelRatio:r=EG(),onRenderError:o,onRenderSuccess:a,page:l,renderForms:c,renderTextLayer:u,rotate:d,scale:f}=n,{canvasRef:p}=e;At(l,"Attempted to render page canvas, but no page was specified.");const m=M.useRef(null);function g(){l&&a&&a(QA(l,f))}function w(S){CG(S)||(Ye(!1,S.toString()),o&&o(S))}const y=M.useMemo(()=>l.getViewport({scale:f*r,rotation:d}),[r,l,d,f]),x=M.useMemo(()=>l.getViewport({scale:f,rotation:d}),[l,d,f]);M.useEffect(function(){if(!l)return;l.cleanup();const{current:E}=m;if(!E)return;E.width=y.width,E.height=y.height,E.style.width=`${Math.floor(x.width)}px`,E.style.height=`${Math.floor(x.height)}px`,E.style.visibility="hidden";const P={annotationMode:c?L3.ENABLE_FORMS:L3.ENABLE,canvasContext:E.getContext("2d",{alpha:!1}),viewport:y};i&&(P.background=i);const _=l.render(P),R=_;return _.promise.then(()=>{E.style.visibility="",g()}).catch(w),()=>ec(R)},[i,l,c,y,x]);const v=M.useCallback(()=>{const{current:S}=m;S&&(S.width=0,S.height=0)},[]);return M.useEffect(()=>v,[v]),T.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:W5(p,m),style:{display:"block",userSelect:"none"},children:u?T.jsx(VG,{}):null})}function $G(e){return"str"in e}function BG(){const e=jx();At(e,"Unable to find Page context.");const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:o,pageIndex:a,pageNumber:l,rotate:c,scale:u}=e;At(o,"Attempted to load page text content, but no page was specified.");const[d,f]=Gh(),{value:p,error:m}=d,g=M.useRef(null);Ye(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function w(){p&&s&&s(p)}function y(){m&&(Ye(!1,m.toString()),n&&n(m))}M.useEffect(function(){f({type:"RESET"})},[o,f]),M.useEffect(function(){if(!o)return;const R=Dg(o.getTextContent()),k=R;return R.promise.then(D=>{f({type:"RESOLVE",value:D})}).catch(D=>{f({type:"REJECT",error:D})}),()=>ec(k)},[o,f]),M.useEffect(()=>{if(p!==void 0){if(p===!1){y();return}w()}},[p]);const x=M.useCallback(()=>{r&&r()},[r]),v=M.useCallback(_=>{Ye(!1,_.toString()),i&&i(_)},[i]);function S(){const _=g.current;_&&_.classList.add("selecting")}function E(){const _=g.current;_&&_.classList.remove("selecting")}const P=M.useMemo(()=>o.getViewport({scale:u,rotation:c}),[o,c,u]);return M.useLayoutEffect(function(){if(!o||!p)return;const{current:R}=g;if(!R)return;R.innerHTML="";const k=o.streamTextContent({includeMarkedContent:!0}),D={container:R,textContentSource:k,viewport:P},I=new jf(D),N=I;return I.render().then(()=>{const V=document.createElement("div");V.className="endOfContent",R.append(V);const L=R.querySelectorAll('[role="presentation"]');if(t){let H=0;p.items.forEach((F,O)=>{if(!$G(F))return;const j=L[H];if(!j)return;const B=t({pageIndex:a,pageNumber:l,itemIndex:O,...F});j.innerHTML=B,H+=F.str&&F.hasEOL?2:1})}x()}).catch(v),()=>ec(N)},[t,v,x,o,a,l,p,P]),T.jsx("div",{className:Ox("react-pdf__Page__textContent","textLayer"),onMouseUp:E,onMouseDown:S,ref:g})}const D3=1;function zG(e){const n={...H5(),...e},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:o,children:a,className:l,customRenderer:c,customTextRenderer:u,devicePixelRatio:d,error:f="Failed to load the page.",height:p,inputRef:m,loading:g="Loading page",noData:w="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:v,onGetStructTreeSuccess:S,onGetTextError:E,onGetTextSuccess:P,onLoadError:_,onLoadSuccess:R,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:D,onRenderError:I,onRenderSuccess:N,onRenderTextLayerError:V,onRenderTextLayerSuccess:L,pageIndex:H,pageNumber:F,pdf:O,registerPage:j,renderAnnotationLayer:B=!0,renderForms:U=!1,renderMode:W="canvas",renderTextLayer:Q=!0,rotate:st,scale:mt=D3,unregisterPage:St,width:ut,...it}=n,[fn,Qe]=Gh(),{value:vt,error:Ce}=fn,Xs=M.useRef(null);At(O,"Attempted to load a page, but no document was specified. Wrap <Page /> in a <Document /> or pass explicit `pdf` prop.");const pt=ia(F)?F-1:H??null,Mt=F??(ia(H)?H+1:null),le=st??(vt?vt.rotate:null),pe=M.useMemo(()=>{if(!vt)return null;let _r=1;const cc=mt??D3;if(ut||p){const Mr=vt.getViewport({scale:1,rotation:le});ut?_r=ut/Mr.width:p&&(_r=p/Mr.height)}return cc*_r},[p,vt,le,mt,ut]);M.useEffect(function(){return()=>{ia(pt)&&i&&St&&St(pt)}},[i,O,pt,St]);function lc(){if(R){if(!vt||!pe)return;R(QA(vt,pe))}if(i&&j){if(!ia(pt)||!Xs.current)return;j(pt,Xs.current)}}function td(){Ce&&(Ye(!1,Ce.toString()),_&&_(Ce))}M.useEffect(function(){Qe({type:"RESET"})},[Qe,O,pt]),M.useEffect(function(){if(!O||!Mt)return;const cc=Dg(O.getPage(Mt)),Mr=cc;return cc.promise.then(zx=>{Qe({type:"RESOLVE",value:zx})}).catch(zx=>{Qe({type:"REJECT",error:zx})}),()=>ec(Mr)},[Qe,O,Mt]),M.useEffect(()=>{if(vt!==void 0){if(vt===!1){td();return}lc()}},[vt,pe]);const Bx=M.useMemo(()=>ia(pt)&&Mt&&ia(le)&&ia(pe)?{_className:s,canvasBackground:r,customTextRenderer:u,devicePixelRatio:d,onGetAnnotationsError:y,onGetAnnotationsSuccess:x,onGetStructTreeError:v,onGetStructTreeSuccess:S,onGetTextError:E,onGetTextSuccess:P,onRenderAnnotationLayerError:k,onRenderAnnotationLayerSuccess:D,onRenderError:I,onRenderSuccess:N,onRenderTextLayerError:V,onRenderTextLayerSuccess:L,page:vt,pageIndex:pt,pageNumber:Mt,renderForms:U,renderTextLayer:Q,rotate:le,scale:pe}:null,[s,r,u,d,y,x,v,S,E,P,k,D,I,N,V,L,vt,pt,Mt,U,Q,le,pe]),nI=M.useMemo(()=>$5(it,()=>vt&&(pe?QA(vt,pe):void 0)),[it,vt,pe]),Ig=`${pt}@${pe}/${le}`;function sI(){switch(W){case"custom":return At(c,'renderMode was set to "custom", but no customRenderer was passed.'),T.jsx(c,{},`${Ig}_custom`);case"none":return null;case"canvas":default:return T.jsx(jG,{canvasRef:o},`${Ig}_canvas`)}}function iI(){return Q?T.jsx(BG,{},`${Ig}_text`):null}function rI(){return B?T.jsx(DG,{},`${Ig}_annotations`):null}function oI(){function _r(Mr){return!!(Mr!=null&&Mr.page)}if(!_r(Bx))throw new Error("page is undefined");const cc=typeof a=="function"?a(Bx):a;return T.jsxs(G5.Provider,{value:Bx,children:[sI(),iI(),rI(),cc]})}function aI(){return Mt?O===null||vt===void 0||vt===null?T.jsx(tu,{type:"loading",children:typeof g=="function"?g():g}):O===!1||vt===!1?T.jsx(tu,{type:"error",children:typeof f=="function"?f():f}):oI():T.jsx(tu,{type:"no-data",children:typeof w=="function"?w():w})}return T.jsx("div",{className:Ox(s,l),"data-page-number":Mt,ref:W5(m,Xs),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${pe}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...nI,children:aI()})}TG();ds.workerSrc="pdf.worker.mjs";ds.workerSrc="/assets/pdf.worker.js";const UG=({data:e,onClose:t,setIsInFullscreen:n})=>{if(!e)return null;const s=sT("(max-width: 768px)"),[i,r]=M.useState(!1),[o,a]=M.useState({x:0,y:0}),l=M.useRef(null),c=M.useRef(null),[u,d]=M.useState(!1),[f,p]=M.useState(null),[m,g]=M.useState(1);function w({numPages:N}){p(N),g(1)}function y(N){g(V=>Math.max(1,Math.min(V+N,f)))}const x=M.useCallback(()=>{document.fullscreenElement&&document.exitFullscreen(),window.history.state&&window.history.state.modalOpen?window.history.back():t()},[t]);M.useEffect(()=>{const N=()=>{t()},V=L=>{L.key==="Escape"&&x()};return e?(window.history.pushState({modalOpen:!0},""),window.addEventListener("popstate",N),window.addEventListener("keydown",V)):(p(null),g(1),r(!1),a({x:0,y:0})),()=>{window.removeEventListener("popstate",N),window.removeEventListener("keydown",V)}},[e,t,x]),M.useEffect(()=>{const N=()=>{const V=!!document.fullscreenElement;n(V),d(V);const L=c.current;V?L==null||L.classList.add("fullscreen-active"):L==null||L.classList.remove("fullscreen-active")};return document.addEventListener("fullscreenchange",N),()=>{document.removeEventListener("fullscreenchange",N)}},[n]);const v=N=>{N.stopPropagation(),r(V=>!V),i&&a({x:0,y:0})},S=N=>{if(!i||!N.currentTarget)return;const{left:V,top:L,width:H,height:F}=N.currentTarget.getBoundingClientRect(),O=N.clientX-V,j=N.clientY-L,B=(O/H-.5)*-100,U=(j/F-.5)*-100;a({x:B,y:U})},E=N=>{if(!i||!N.touches[0]||!N.currentTarget)return;const{left:V,top:L,width:H,height:F}=N.currentTarget.getBoundingClientRect(),O=N.touches[0].clientX-V,j=N.touches[0].clientY-L,B=(O/H-.5)*-100,U=(j/F-.5)*-100;a({x:B,y:U})},P=N=>N.preventDefault(),_=N=>{N.stopPropagation();const V=c.current;V&&(document.fullscreenElement?document.exitFullscreen():V.requestFullscreen().catch(L=>alert(`Error: ${L.message}`)))},R={cyan:"#00ffff",purple:"#cc00ff",blue:"#00aaff",red:"#ff1111"},k=e.color||"blue",D=R[k],I=()=>{switch(e.type){case"portfolioItem":return T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"mb-4 overflow-hidden rounded-lg bg-black/20",children:T.jsx("img",{src:e.item.thumbnail,alt:e.item.title,className:"w-full h-auto object-cover rounded-lg"})}),e.item.videoUrl&&T.jsxs(T.Fragment,{children:[T.jsx("h3",{className:"font-bold text-lg text-slate-300 mt-6 mb-2",children:"Project Video"}),T.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4 overflow-hidden rounded-lg",children:T.jsx("iframe",{src:e.item.videoUrl,title:e.item.title,frameBorder:"0",allow:"autoplay; fullscreen",allowFullScreen:!0,className:"w-full h-full bg-black"})})]}),e.item.demoVideoUrl&&T.jsxs(T.Fragment,{children:[T.jsx("h3",{className:"font-bold text-lg text-slate-300 mt-6 mb-2",children:"Demo Video"}),T.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4 overflow-hidden rounded-lg",children:T.jsx("iframe",{src:e.item.demoVideoUrl,title:"Demo Video",frameBorder:"0",allow:"autoplay; fullscreen",allowFullScreen:!0,className:"w-full h-full bg-black"})})]}),T.jsx("p",{className:"text-slate-300 mt-6 mb-4",children:e.item.details}),T.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[T.jsx(v$,{className:`text-${k}-400`}),e.item.tech.map(N=>T.jsx("span",{className:"bg-slate-700 text-xs font-semibold px-2 py-1 rounded",children:N},N))]}),e.item.projectLink&&T.jsx("div",{className:"text-center mt-8",children:T.jsxs("a",{href:e.item.projectLink,target:"_blank",rel:"noopener noreferrer",className:`glare-container inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-${k}-500/30 hover:shadow-${k}-500/50`,children:[T.jsx(u$,{})," Go to Project Page"]})}),e.item.nda==="1"&&T.jsxs("div",{className:"mt-8 p-4 bg-slate-800/50 border border-slate-700 rounded-lg text-sm text-slate-400 italic flex items-start gap-3",children:[T.jsx(d$,{className:"text-yellow-500 mt-1 flex-shrink-0"}),T.jsx("span",{children:"Note: This project's demos are protected by a Non-Disclosure Agreement (NDA) and cannot be shown publicly. To request a private demonstration, please feel free to reach out via the contact section."})]})]});case"experience":return T.jsxs(T.Fragment,{children:[T.jsxs("p",{className:"font-bold text-lg text-slate-400",children:[e.item.year," - ",e.item.company]}),T.jsx("p",{className:"text-slate-300 mt-4",children:e.item.details})]});case"cv":return T.jsxs(T.Fragment,{children:[T.jsxs("div",{ref:c,className:"relative group bg-black rounded-lg w-full flex items-center justify-center",style:u?{height:"100vh"}:{},children:[T.jsx("div",{className:"w-full h-full",onClick:v,onMouseMove:i?S:void 0,onTouchMove:i?E:void 0,style:{cursor:i?"grab":"zoom-in",overflow:"hidden",touchAction:"none"},children:T.jsx("div",{style:{transform:`scale(${i?1.5:1}) translate(${o.x}px, ${o.y}px)`,transition:"transform 0.2s ease-out"},className:"flex items-center justify-center w-full h-full",children:T.jsx(kG,{file:e.item.link,onLoadSuccess:w,loading:T.jsx("div",{className:"text-white p-4 h-96 flex items-center justify-center",children:"Loading CV..."}),error:T.jsx("div",{className:"text-red-400 p-4 h-96 flex items-center justify-center",children:"Failed to load CV."}),children:T.jsx(zG,{pageNumber:m,...s?{width:Math.min(window.innerWidth*.8,600)}:{scale:window.devicePixelRatio*2||2},renderTextLayer:!s})})})}),f&&!i&&T.jsxs("p",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-black/50 backdrop-blur-sm text-xs font-semibold text-slate-300 px-3 py-1 rounded-full z-20",children:["Page ",m," of ",f]}),T.jsx(Hs,{children:!i&&m>1&&T.jsx(dt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onClick:N=>{N.stopPropagation(),y(-1)},className:"absolute top-1/2 -translate-y-1/2 left-4 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-20 hover:bg-black/80 transition-colors opacity-0 group-hover:opacity-100","aria-label":"Previous Page",children:T.jsx(VP,{})})}),T.jsx(Hs,{children:!i&&m<f&&T.jsx(dt.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onClick:N=>{N.stopPropagation(),y(1)},className:"absolute top-1/2 -translate-y-1/2 right-4 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white flex items-center justify-center z-20 hover:bg-black/80 transition-colors opacity-0 group-hover:opacity-100","aria-label":"Next Page",children:T.jsx(e$,{})})}),T.jsx("button",{onClick:_,className:"absolute bottom-4 right-4 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white z-20 flex items-center justify-center hover:bg-black/80 transition-colors",children:u?T.jsx(a$,{}):T.jsx(c$,{})}),T.jsx("button",{onClick:v,className:"absolute bottom-4 left-4 h-12 w-12 bg-black/50 backdrop-blur-sm rounded-full text-white z-20 flex items-center justify-center hover:bg-black/80 transition-colors",children:i?T.jsx(g$,{}):T.jsx(y$,{})})]}),T.jsx("div",{className:"text-center mt-8",children:T.jsxs("a",{href:e.item.link,download:!0,className:`glare-container inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm border border-white/20 text-white font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-${k}-500/30 hover:shadow-${k}-500/50`,children:[T.jsx(AE,{})," Download CV"]})})]});case"certification":return T.jsxs("div",{className:"text-center",children:[T.jsx("div",{ref:l,className:"relative mx-auto mb-4 bg-black/20 p-2 rounded-md transition-all duration-300",onClick:v,onMouseMove:i?S:void 0,onTouchMove:i?E:void 0,onDragStart:P,style:{overflow:"hidden",userSelect:"none",WebkitUserSelect:"none",touchAction:"none",cursor:i?"grab":"zoom-in",width:"100%",maxWidth:i?"100%":"30rem",height:i?"auto":"20rem"},children:T.jsx("img",{src:e.item.image,alt:e.item.name,className:"w-full h-full object-contain",style:{transform:`scale(${i?1.5:1}) translate(${o.x}px, ${o.y}px)`,transition:"transform 0.2s ease-out"}})}),T.jsxs("p",{className:`font-bold text-lg text-${k}-400 flex items-center justify-center gap-2`,children:[T.jsx(s$,{})," ",e.item.issuer]}),T.jsx("p",{className:"text-slate-300 mt-4",children:e.item.details})]});default:return T.jsx("p",{children:"No details available."})}};return T.jsx(Hs,{children:e&&T.jsx(dt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:x,className:"fixed inset-0 bg-black/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",style:{overflowY:"hidden"},children:T.jsx("div",{className:"neon-border-container",style:{"--neon-red":D},children:T.jsxs(dt.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:N=>N.stopPropagation(),className:`neon-border-content p-6 w-full ${e.type==="cv"?"max-w-4xl":"max-w-2xl"} max-h-[90vh] overflow-y-auto relative custom-scrollbar backdrop-blur-sm`,children:[T.jsx("button",{onClick:x,className:`absolute top-4 left-4 text-${k}-500 hover:text-white transition-colors z-20`,children:T.jsx(VP,{size:20})}),T.jsx("button",{onClick:x,className:`absolute top-4 right-4 text-${k}-500 hover:text-white transition-colors z-20`,children:T.jsx(x$,{size:20})}),T.jsx("h2",{className:`text-2xl font-bold text-center text-${k}-500 mb-4 px-12`,style:{textShadow:`0 0 5px #fff, 0 0 10px ${D}, 0 0 15px ${D}`},children:e.item.title||e.item.name||e.item.role}),I()]})})})})};function cf(e){let t=e[0],n=e[1],s=e[2];return Math.sqrt(t*t+n*n+s*s)}function ZA(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function HG(e,t,n,s){return e[0]=t,e[1]=n,e[2]=s,e}function I3(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function N3(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e}function WG(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e}function GG(e,t,n){return e[0]=t[0]/n[0],e[1]=t[1]/n[1],e[2]=t[2]/n[2],e}function t2(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function XG(e,t){let n=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return Math.sqrt(n*n+s*s+i*i)}function YG(e,t){let n=t[0]-e[0],s=t[1]-e[1],i=t[2]-e[2];return n*n+s*s+i*i}function F3(e){let t=e[0],n=e[1],s=e[2];return t*t+n*n+s*s}function qG(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}function KG(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e}function JA(e,t){let n=t[0],s=t[1],i=t[2],r=n*n+s*s+i*i;return r>0&&(r=1/Math.sqrt(r)),e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e}function Q5(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function O3(e,t,n){let s=t[0],i=t[1],r=t[2],o=n[0],a=n[1],l=n[2];return e[0]=i*l-r*a,e[1]=r*o-s*l,e[2]=s*a-i*o,e}function QG(e,t,n,s){let i=t[0],r=t[1],o=t[2];return e[0]=i+s*(n[0]-i),e[1]=r+s*(n[1]-r),e[2]=o+s*(n[2]-o),e}function ZG(e,t,n,s,i){const r=Math.exp(-s*i);let o=t[0],a=t[1],l=t[2];return e[0]=n[0]+(o-n[0])*r,e[1]=n[1]+(a-n[1])*r,e[2]=n[2]+(l-n[2])*r,e}function JG(e,t,n){let s=t[0],i=t[1],r=t[2],o=n[3]*s+n[7]*i+n[11]*r+n[15];return o=o||1,e[0]=(n[0]*s+n[4]*i+n[8]*r+n[12])/o,e[1]=(n[1]*s+n[5]*i+n[9]*r+n[13])/o,e[2]=(n[2]*s+n[6]*i+n[10]*r+n[14])/o,e}function tX(e,t,n){let s=t[0],i=t[1],r=t[2],o=n[3]*s+n[7]*i+n[11]*r+n[15];return o=o||1,e[0]=(n[0]*s+n[4]*i+n[8]*r)/o,e[1]=(n[1]*s+n[5]*i+n[9]*r)/o,e[2]=(n[2]*s+n[6]*i+n[10]*r)/o,e}function eX(e,t,n){let s=t[0],i=t[1],r=t[2];return e[0]=s*n[0]+i*n[3]+r*n[6],e[1]=s*n[1]+i*n[4]+r*n[7],e[2]=s*n[2]+i*n[5]+r*n[8],e}function nX(e,t,n){let s=t[0],i=t[1],r=t[2],o=n[0],a=n[1],l=n[2],c=n[3],u=a*r-l*i,d=l*s-o*r,f=o*i-a*s,p=a*f-l*d,m=l*u-o*f,g=o*d-a*u,w=c*2;return u*=w,d*=w,f*=w,p*=2,m*=2,g*=2,e[0]=s+u+p,e[1]=i+d+m,e[2]=r+f+g,e}const sX=function(){const e=[0,0,0],t=[0,0,0];return function(n,s){ZA(e,n),ZA(t,s),JA(e,e),JA(t,t);let i=Q5(e,t);return i>1?0:i<-1?Math.PI:Math.acos(i)}}();function iX(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}class re extends Array{constructor(t=0,n=t,s=t){return super(t,n,s),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,n=t,s=t){return t.length?this.copy(t):(HG(this,t,n,s),this)}copy(t){return ZA(this,t),this}add(t,n){return n?I3(this,t,n):I3(this,this,t),this}sub(t,n){return n?N3(this,t,n):N3(this,this,t),this}multiply(t){return t.length?WG(this,this,t):t2(this,this,t),this}divide(t){return t.length?GG(this,this,t):t2(this,this,1/t),this}inverse(t=this){return KG(this,t),this}len(){return cf(this)}distance(t){return t?XG(this,t):cf(this)}squaredLen(){return F3(this)}squaredDistance(t){return t?YG(this,t):F3(this)}negate(t=this){return qG(this,t),this}cross(t,n){return n?O3(this,t,n):O3(this,this,t),this}scale(t){return t2(this,this,t),this}normalize(){return JA(this,this),this}dot(t){return Q5(this,t)}equals(t){return iX(this,t)}applyMatrix3(t){return eX(this,this,t),this}applyMatrix4(t){return JG(this,this,t),this}scaleRotateMatrix4(t){return tX(this,this,t),this}applyQuaternion(t){return nX(this,this,t),this}angle(t){return sX(this,t)}lerp(t,n){return QG(this,this,t,n),this}smoothLerp(t,n,s){return ZG(this,this,t,n,s),this}clone(){return new re(this[0],this[1],this[2])}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}transformDirection(t){const n=this[0],s=this[1],i=this[2];return this[0]=t[0]*n+t[4]*s+t[8]*i,this[1]=t[1]*n+t[5]*s+t[9]*i,this[2]=t[2]*n+t[6]*s+t[10]*i,this.normalize()}}const V3=new re;let rX=1,oX=1,j3=!1;class aX{constructor(t,n={}){t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=n,this.id=rX++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state;for(let s in n)this.addAttribute(s,n[s])}addAttribute(t,n){if(this.attributes[t]=n,n.id=oX++,n.size=n.size||1,n.type=n.type||(n.data.constructor===Float32Array?this.gl.FLOAT:n.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),n.target=t==="index"?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,n.normalized=n.normalized||!1,n.stride=n.stride||0,n.offset=n.offset||0,n.count=n.count||(n.stride?n.data.byteLength/n.stride:n.data.length/n.size),n.divisor=n.instanced||0,n.needsUpdate=!1,n.usage=n.usage||this.gl.STATIC_DRAW,n.buffer||this.updateAttribute(n),n.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==n.count*n.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,n.count*n.divisor);this.instancedCount=n.count*n.divisor}else t==="index"?this.drawRange.count=n.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,n.count))}updateAttribute(t){const n=!t.buffer;n&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),n?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,n){this.drawRange.start=t,this.drawRange.count=n}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((n,{name:s,type:i})=>{if(!this.attributes[s]){console.warn(`active attribute ${s} not being supplied`);return}const r=this.attributes[s];this.gl.bindBuffer(r.target,r.buffer),this.glState.boundBuffer=r.buffer;let o=1;i===35674&&(o=2),i===35675&&(o=3),i===35676&&(o=4);const a=r.size/o,l=o===1?0:o*o*4,c=o===1?0:o*4;for(let u=0;u<o;u++)this.gl.vertexAttribPointer(n+u,a,r.type,r.normalized,r.stride+l,r.offset+u*c),this.gl.enableVertexAttribArray(n+u),this.gl.renderer.vertexAttribDivisor(n+u,r.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:n=this.gl.TRIANGLES}){var i;this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((r,{name:o})=>{const a=this.attributes[o];a.needsUpdate&&this.updateAttribute(a)});let s=2;((i=this.attributes.index)==null?void 0:i.type)===this.gl.UNSIGNED_INT&&(s=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s,this.instancedCount):this.gl.renderer.drawArraysInstanced(n,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(n,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*s):this.gl.drawArrays(n,this.drawRange.start,this.drawRange.count)}getPosition(){const t=this.attributes.position;if(t.data)return t;if(!j3)return console.warn("No position buffer data found to compute bounds"),j3=!0}computeBoundingBox(t){t||(t=this.getPosition());const n=t.data,s=t.size;this.bounds||(this.bounds={min:new re,max:new re,center:new re,scale:new re,radius:1/0});const i=this.bounds.min,r=this.bounds.max,o=this.bounds.center,a=this.bounds.scale;i.set(1/0),r.set(-1/0);for(let l=0,c=n.length;l<c;l+=s){const u=n[l],d=n[l+1],f=n[l+2];i.x=Math.min(u,i.x),i.y=Math.min(d,i.y),i.z=Math.min(f,i.z),r.x=Math.max(u,r.x),r.y=Math.max(d,r.y),r.z=Math.max(f,r.z)}a.sub(r,i),o.add(i,r).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());const n=t.data,s=t.size;this.bounds||this.computeBoundingBox(t);let i=0;for(let r=0,o=n.length;r<o;r+=s)V3.fromArray(n,r),i=Math.max(i,this.bounds.center.squaredDistance(V3));this.bounds.radius=Math.sqrt(i)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}let lX=1;const $3={};class cX{constructor(t,{vertex:n,fragment:s,uniforms:i={},transparent:r=!1,cullFace:o=t.BACK,frontFace:a=t.CCW,depthTest:l=!0,depthWrite:c=!0,depthFunc:u=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=i,this.id=lX++,n||console.warn("vertex shader not supplied"),s||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=o,this.frontFace=a,this.depthTest=l,this.depthWrite=c,this.depthFunc=u,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:n,fragment:s})}setShaders({vertex:t,fragment:n}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),this.gl.getShaderInfoLog(this.vertexShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${B3(t)}`)),n&&(this.gl.shaderSource(this.fragmentShader,n),this.gl.compileShader(this.fragmentShader),this.gl.getShaderInfoLog(this.fragmentShader)!==""&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${B3(n)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let s=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let o=0;o<s;o++){let a=this.gl.getActiveUniform(this.program,o);this.uniformLocations.set(a,this.gl.getUniformLocation(this.program,a.name));const l=a.name.match(/(\w+)/g);a.uniformName=l[0],a.nameComponents=l.slice(1)}this.attributeLocations=new Map;const i=[],r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let o=0;o<r;o++){const a=this.gl.getActiveAttrib(this.program,o),l=this.gl.getAttribLocation(this.program,a.name);l!==-1&&(i[l]=a.name,this.attributeLocations.set(a,l))}this.attributeOrder=i.join("")}setBlendFunc(t,n,s,i){this.blendFunc.src=t,this.blendFunc.dst=n,this.blendFunc.srcAlpha=s,this.blendFunc.dstAlpha=i,t&&(this.transparent=!0)}setBlendEquation(t,n){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=n}setStencilFunc(t,n,s){this.stencilRef=n,this.stencilFunc.func=t,this.stencilFunc.ref=n,this.stencilFunc.mask=s}setStencilOp(t,n,s){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=n,this.stencilOp.depthPass=s}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let n=-1;this.gl.renderer.state.currentProgram===this.id||(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((i,r)=>{let o=this.uniforms[r.uniformName];for(const a of r.nameComponents){if(!o)break;if(a in o)o=o[a];else{if(Array.isArray(o.value))break;o=void 0;break}}if(!o)return z3(`Active uniform ${r.name} has not been supplied`);if(o&&o.value===void 0)return z3(`${r.name} uniform is missing a value parameter`);if(o.value.texture)return n=n+1,o.value.update(n),e2(this.gl,r.type,i,n);if(o.value.length&&o.value[0].texture){const a=[];return o.value.forEach(l=>{n=n+1,l.update(n),a.push(n)}),e2(this.gl,r.type,i,a)}e2(this.gl,r.type,i,o.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function e2(e,t,n,s){s=s.length?uX(s):s;const i=e.renderer.state.uniformLocations.get(n);if(s.length)if(i===void 0||i.length!==s.length)e.renderer.state.uniformLocations.set(n,s.slice(0));else{if(hX(i,s))return;i.set?i.set(s):dX(i,s),e.renderer.state.uniformLocations.set(n,i)}else{if(i===s)return;e.renderer.state.uniformLocations.set(n,s)}switch(t){case 5126:return s.length?e.uniform1fv(n,s):e.uniform1f(n,s);case 35664:return e.uniform2fv(n,s);case 35665:return e.uniform3fv(n,s);case 35666:return e.uniform4fv(n,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?e.uniform1iv(n,s):e.uniform1i(n,s);case 35671:case 35667:return e.uniform2iv(n,s);case 35672:case 35668:return e.uniform3iv(n,s);case 35673:case 35669:return e.uniform4iv(n,s);case 35674:return e.uniformMatrix2fv(n,!1,s);case 35675:return e.uniformMatrix3fv(n,!1,s);case 35676:return e.uniformMatrix4fv(n,!1,s)}}function B3(e){let t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function uX(e){const t=e.length,n=e[0].length;if(n===void 0)return e;const s=t*n;let i=$3[s];i||($3[s]=i=new Float32Array(s));for(let r=0;r<t;r++)i.set(e[r],r*n);return i}function hX(e,t){if(e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;n++)if(e[n]!==t[n])return!1;return!0}function dX(e,t){for(let n=0,s=e.length;n<s;n++)e[n]=t[n]}let n2=0;function z3(e){n2>100||(console.warn(e),n2++,n2>100&&console.warn("More than 100 program warnings - stopping logs."))}const s2=new re;let fX=1;class pX{constructor({canvas:t=document.createElement("canvas"),width:n=300,height:s=150,dpr:i=1,alpha:r=!1,depth:o=!0,stencil:a=!1,antialias:l=!1,premultipliedAlpha:c=!1,preserveDrawingBuffer:u=!1,powerPreference:d="default",autoClear:f=!0,webgl:p=2}={}){const m={alpha:r,depth:o,stencil:a,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:d};this.dpr=i,this.alpha=r,this.color=!0,this.depth=o,this.stencil=a,this.premultipliedAlpha=c,this.autoClear=f,this.id=fX++,p===2&&(this.gl=t.getContext("webgl2",m)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",m)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(n,s),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,n){this.width=t,this.height=n,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=n*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:n+"px"})}setViewport(t,n,s=0,i=0){this.state.viewport.width===t&&this.state.viewport.height===n||(this.state.viewport.width=t,this.state.viewport.height=n,this.state.viewport.x=s,this.state.viewport.y=i,this.gl.viewport(s,i,t,n))}setScissor(t,n,s=0,i=0){this.gl.scissor(s,i,t,n)}enable(t){this.state[t]!==!0&&(this.gl.enable(t),this.state[t]=!0)}disable(t){this.state[t]!==!1&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,n,s,i){this.state.blendFunc.src===t&&this.state.blendFunc.dst===n&&this.state.blendFunc.srcAlpha===s&&this.state.blendFunc.dstAlpha===i||(this.state.blendFunc.src=t,this.state.blendFunc.dst=n,this.state.blendFunc.srcAlpha=s,this.state.blendFunc.dstAlpha=i,s!==void 0?this.gl.blendFuncSeparate(t,n,s,i):this.gl.blendFunc(t,n))}setBlendEquation(t,n){t=t||this.gl.FUNC_ADD,!(this.state.blendEquation.modeRGB===t&&this.state.blendEquation.modeAlpha===n)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=n,n!==void 0?this.gl.blendEquationSeparate(t,n):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,n,s){this.state.stencilFunc===t&&this.state.stencilRef===n&&this.state.stencilFuncMask===s||(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=n||0,this.state.stencilFuncMask=s||0,this.gl.stencilFunc(t||this.gl.ALWAYS,n||0,s||0))}setStencilOp(t,n,s){this.state.stencilFail===t&&this.state.stencilDepthFail===n&&this.state.stencilDepthPass===s||(this.state.stencilFail=t,this.state.stencilDepthFail=n,this.state.stencilDepthPass=s,this.gl.stencilOp(t,n,s))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:n=null}={}){this.state.framebuffer!==n&&(this.state.framebuffer=n,this.gl.bindFramebuffer(t,n))}getExtension(t,n,s){return n&&this.gl[n]?this.gl[n].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),n?this.extensions[t]?this.extensions[t][s].bind(this.extensions[t]):null:this.extensions[t])}sortOpaque(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:t.zDepth!==n.zDepth?t.zDepth-n.zDepth:n.id-t.id}sortTransparent(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.zDepth!==n.zDepth?n.zDepth-t.zDepth:n.id-t.id}sortUI(t,n){return t.renderOrder!==n.renderOrder?t.renderOrder-n.renderOrder:t.program.id!==n.program.id?t.program.id-n.program.id:n.id-t.id}getRenderList({scene:t,camera:n,frustumCull:s,sort:i}){let r=[];if(n&&s&&n.updateFrustum(),t.traverse(o=>{if(!o.visible)return!0;o.draw&&(s&&o.frustumCulled&&n&&!n.frustumIntersectsMesh(o)||r.push(o))}),i){const o=[],a=[],l=[];r.forEach(c=>{c.program.transparent?c.program.depthTest?a.push(c):l.push(c):o.push(c),c.zDepth=0,!(c.renderOrder!==0||!c.program.depthTest||!n)&&(c.worldMatrix.getTranslation(s2),s2.applyMatrix4(n.projectionViewMatrix),c.zDepth=s2.z)}),o.sort(this.sortOpaque),a.sort(this.sortTransparent),l.sort(this.sortUI),r=o.concat(a,l)}return r}render({scene:t,camera:n,target:s=null,update:i=!0,sort:r=!0,frustumCull:o=!0,clear:a}){s===null?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(s),this.setViewport(s.width,s.height)),(a||this.autoClear&&a!==!1)&&(this.depth&&(!s||s.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!s||s.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),i&&t.updateMatrixWorld(),n&&n.updateMatrixWorld(),this.getRenderList({scene:t,camera:n,frustumCull:o,sort:r}).forEach(c=>{c.draw({camera:n})})}}function mX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function gX(e,t,n,s,i){return e[0]=t,e[1]=n,e[2]=s,e[3]=i,e}function yX(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=n*n+s*s+i*i+r*r;return o>0&&(o=1/Math.sqrt(o)),e[0]=n*o,e[1]=s*o,e[2]=i*o,e[3]=r*o,e}function vX(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function xX(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e}function wX(e,t,n){n=n*.5;let s=Math.sin(n);return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=Math.cos(n),e}function U3(e,t,n){let s=t[0],i=t[1],r=t[2],o=t[3],a=n[0],l=n[1],c=n[2],u=n[3];return e[0]=s*u+o*a+i*c-r*l,e[1]=i*u+o*l+r*a-s*c,e[2]=r*u+o*c+s*l-i*a,e[3]=o*u-s*a-i*l-r*c,e}function bX(e,t,n){n*=.5;let s=t[0],i=t[1],r=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=s*l+o*a,e[1]=i*l+r*a,e[2]=r*l-i*a,e[3]=o*l-s*a,e}function AX(e,t,n){n*=.5;let s=t[0],i=t[1],r=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=s*l-r*a,e[1]=i*l+o*a,e[2]=r*l+s*a,e[3]=o*l-i*a,e}function SX(e,t,n){n*=.5;let s=t[0],i=t[1],r=t[2],o=t[3],a=Math.sin(n),l=Math.cos(n);return e[0]=s*l+i*a,e[1]=i*l-s*a,e[2]=r*l+o*a,e[3]=o*l-r*a,e}function EX(e,t,n,s){let i=t[0],r=t[1],o=t[2],a=t[3],l=n[0],c=n[1],u=n[2],d=n[3],f,p,m,g,w;return p=i*l+r*c+o*u+a*d,p<0&&(p=-p,l=-l,c=-c,u=-u,d=-d),1-p>1e-6?(f=Math.acos(p),m=Math.sin(f),g=Math.sin((1-s)*f)/m,w=Math.sin(s*f)/m):(g=1-s,w=s),e[0]=g*i+w*l,e[1]=g*r+w*c,e[2]=g*o+w*u,e[3]=g*a+w*d,e}function TX(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=n*n+s*s+i*i+r*r,a=o?1/o:0;return e[0]=-n*a,e[1]=-s*a,e[2]=-i*a,e[3]=r*a,e}function CX(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function PX(e,t){let n=t[0]+t[4]+t[8],s;if(n>0)s=Math.sqrt(n+1),e[3]=.5*s,s=.5/s,e[0]=(t[5]-t[7])*s,e[1]=(t[6]-t[2])*s,e[2]=(t[1]-t[3])*s;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);let r=(i+1)%3,o=(i+2)%3;s=Math.sqrt(t[i*3+i]-t[r*3+r]-t[o*3+o]+1),e[i]=.5*s,s=.5/s,e[3]=(t[r*3+o]-t[o*3+r])*s,e[r]=(t[r*3+i]+t[i*3+r])*s,e[o]=(t[o*3+i]+t[i*3+o])*s}return e}function _X(e,t,n="YXZ"){let s=Math.sin(t[0]*.5),i=Math.cos(t[0]*.5),r=Math.sin(t[1]*.5),o=Math.cos(t[1]*.5),a=Math.sin(t[2]*.5),l=Math.cos(t[2]*.5);return n==="XYZ"?(e[0]=s*o*l+i*r*a,e[1]=i*r*l-s*o*a,e[2]=i*o*a+s*r*l,e[3]=i*o*l-s*r*a):n==="YXZ"?(e[0]=s*o*l+i*r*a,e[1]=i*r*l-s*o*a,e[2]=i*o*a-s*r*l,e[3]=i*o*l+s*r*a):n==="ZXY"?(e[0]=s*o*l-i*r*a,e[1]=i*r*l+s*o*a,e[2]=i*o*a+s*r*l,e[3]=i*o*l-s*r*a):n==="ZYX"?(e[0]=s*o*l-i*r*a,e[1]=i*r*l+s*o*a,e[2]=i*o*a-s*r*l,e[3]=i*o*l+s*r*a):n==="YZX"?(e[0]=s*o*l+i*r*a,e[1]=i*r*l+s*o*a,e[2]=i*o*a-s*r*l,e[3]=i*o*l-s*r*a):n==="XZY"&&(e[0]=s*o*l-i*r*a,e[1]=i*r*l-s*o*a,e[2]=i*o*a+s*r*l,e[3]=i*o*l+s*r*a),e}const MX=mX,RX=gX,kX=vX,LX=yX;class DX extends Array{constructor(t=0,n=0,s=0,i=1){super(t,n,s,i),this.onChange=()=>{},this._target=this;const r=["0","1","2","3"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&r.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){return xX(this._target),this.onChange(),this}set(t,n,s,i){return t.length?this.copy(t):(RX(this._target,t,n,s,i),this.onChange(),this)}rotateX(t){return bX(this._target,this._target,t),this.onChange(),this}rotateY(t){return AX(this._target,this._target,t),this.onChange(),this}rotateZ(t){return SX(this._target,this._target,t),this.onChange(),this}inverse(t=this._target){return TX(this._target,t),this.onChange(),this}conjugate(t=this._target){return CX(this._target,t),this.onChange(),this}copy(t){return MX(this._target,t),this.onChange(),this}normalize(t=this._target){return LX(this._target,t),this.onChange(),this}multiply(t,n){return n?U3(this._target,t,n):U3(this._target,this._target,t),this.onChange(),this}dot(t){return kX(this._target,t)}fromMatrix3(t){return PX(this._target,t),this.onChange(),this}fromEuler(t,n){return _X(this._target,t,t.order),n||this.onChange(),this}fromAxisAngle(t,n){return wX(this._target,t,n),this.onChange(),this}slerp(t,n){return EX(this._target,this._target,t,n),this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this._target[3]=t[n+3],this.onChange(),this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t}}const IX=1e-6;function NX(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function FX(e,t,n,s,i,r,o,a,l,c,u,d,f,p,m,g,w){return e[0]=t,e[1]=n,e[2]=s,e[3]=i,e[4]=r,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e[9]=u,e[10]=d,e[11]=f,e[12]=p,e[13]=m,e[14]=g,e[15]=w,e}function OX(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function VX(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],w=t[14],y=t[15],x=n*a-s*o,v=n*l-i*o,S=n*c-r*o,E=s*l-i*a,P=s*c-r*a,_=i*c-r*l,R=u*g-d*m,k=u*w-f*m,D=u*y-p*m,I=d*w-f*g,N=d*y-p*g,V=f*y-p*w,L=x*V-v*N+S*I+E*D-P*k+_*R;return L?(L=1/L,e[0]=(a*V-l*N+c*I)*L,e[1]=(i*N-s*V-r*I)*L,e[2]=(g*_-w*P+y*E)*L,e[3]=(f*P-d*_-p*E)*L,e[4]=(l*D-o*V-c*k)*L,e[5]=(n*V-i*D+r*k)*L,e[6]=(w*S-m*_-y*v)*L,e[7]=(u*_-f*S+p*v)*L,e[8]=(o*N-a*D+c*R)*L,e[9]=(s*D-n*N-r*R)*L,e[10]=(m*P-g*S+y*x)*L,e[11]=(d*S-u*P-p*x)*L,e[12]=(a*k-o*I-l*R)*L,e[13]=(n*I-s*k+i*R)*L,e[14]=(g*v-m*E-w*x)*L,e[15]=(u*E-d*v+f*x)*L,e):null}function Z5(e){let t=e[0],n=e[1],s=e[2],i=e[3],r=e[4],o=e[5],a=e[6],l=e[7],c=e[8],u=e[9],d=e[10],f=e[11],p=e[12],m=e[13],g=e[14],w=e[15],y=t*o-n*r,x=t*a-s*r,v=t*l-i*r,S=n*a-s*o,E=n*l-i*o,P=s*l-i*a,_=c*m-u*p,R=c*g-d*p,k=c*w-f*p,D=u*g-d*m,I=u*w-f*m,N=d*w-f*g;return y*N-x*I+v*D+S*k-E*R+P*_}function H3(e,t,n){let s=t[0],i=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],p=t[10],m=t[11],g=t[12],w=t[13],y=t[14],x=t[15],v=n[0],S=n[1],E=n[2],P=n[3];return e[0]=v*s+S*a+E*d+P*g,e[1]=v*i+S*l+E*f+P*w,e[2]=v*r+S*c+E*p+P*y,e[3]=v*o+S*u+E*m+P*x,v=n[4],S=n[5],E=n[6],P=n[7],e[4]=v*s+S*a+E*d+P*g,e[5]=v*i+S*l+E*f+P*w,e[6]=v*r+S*c+E*p+P*y,e[7]=v*o+S*u+E*m+P*x,v=n[8],S=n[9],E=n[10],P=n[11],e[8]=v*s+S*a+E*d+P*g,e[9]=v*i+S*l+E*f+P*w,e[10]=v*r+S*c+E*p+P*y,e[11]=v*o+S*u+E*m+P*x,v=n[12],S=n[13],E=n[14],P=n[15],e[12]=v*s+S*a+E*d+P*g,e[13]=v*i+S*l+E*f+P*w,e[14]=v*r+S*c+E*p+P*y,e[15]=v*o+S*u+E*m+P*x,e}function jX(e,t,n){let s=n[0],i=n[1],r=n[2],o,a,l,c,u,d,f,p,m,g,w,y;return t===e?(e[12]=t[0]*s+t[4]*i+t[8]*r+t[12],e[13]=t[1]*s+t[5]*i+t[9]*r+t[13],e[14]=t[2]*s+t[6]*i+t[10]*r+t[14],e[15]=t[3]*s+t[7]*i+t[11]*r+t[15]):(o=t[0],a=t[1],l=t[2],c=t[3],u=t[4],d=t[5],f=t[6],p=t[7],m=t[8],g=t[9],w=t[10],y=t[11],e[0]=o,e[1]=a,e[2]=l,e[3]=c,e[4]=u,e[5]=d,e[6]=f,e[7]=p,e[8]=m,e[9]=g,e[10]=w,e[11]=y,e[12]=o*s+u*i+m*r+t[12],e[13]=a*s+d*i+g*r+t[13],e[14]=l*s+f*i+w*r+t[14],e[15]=c*s+p*i+y*r+t[15]),e}function $X(e,t,n){let s=n[0],i=n[1],r=n[2];return e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e[3]=t[3]*s,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*r,e[9]=t[9]*r,e[10]=t[10]*r,e[11]=t[11]*r,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function BX(e,t,n,s){let i=s[0],r=s[1],o=s[2],a=Math.hypot(i,r,o),l,c,u,d,f,p,m,g,w,y,x,v,S,E,P,_,R,k,D,I,N,V,L,H;return Math.abs(a)<IX?null:(a=1/a,i*=a,r*=a,o*=a,l=Math.sin(n),c=Math.cos(n),u=1-c,d=t[0],f=t[1],p=t[2],m=t[3],g=t[4],w=t[5],y=t[6],x=t[7],v=t[8],S=t[9],E=t[10],P=t[11],_=i*i*u+c,R=r*i*u+o*l,k=o*i*u-r*l,D=i*r*u-o*l,I=r*r*u+c,N=o*r*u+i*l,V=i*o*u+r*l,L=r*o*u-i*l,H=o*o*u+c,e[0]=d*_+g*R+v*k,e[1]=f*_+w*R+S*k,e[2]=p*_+y*R+E*k,e[3]=m*_+x*R+P*k,e[4]=d*D+g*I+v*N,e[5]=f*D+w*I+S*N,e[6]=p*D+y*I+E*N,e[7]=m*D+x*I+P*N,e[8]=d*V+g*L+v*H,e[9]=f*V+w*L+S*H,e[10]=p*V+y*L+E*H,e[11]=m*V+x*L+P*H,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e)}function zX(e,t){return e[0]=t[12],e[1]=t[13],e[2]=t[14],e}function J5(e,t){let n=t[0],s=t[1],i=t[2],r=t[4],o=t[5],a=t[6],l=t[8],c=t[9],u=t[10];return e[0]=Math.hypot(n,s,i),e[1]=Math.hypot(r,o,a),e[2]=Math.hypot(l,c,u),e}function UX(e){let t=e[0],n=e[1],s=e[2],i=e[4],r=e[5],o=e[6],a=e[8],l=e[9],c=e[10];const u=t*t+n*n+s*s,d=i*i+r*r+o*o,f=a*a+l*l+c*c;return Math.sqrt(Math.max(u,d,f))}const tI=function(){const e=[1,1,1];return function(t,n){let s=e;J5(s,n);let i=1/s[0],r=1/s[1],o=1/s[2],a=n[0]*i,l=n[1]*r,c=n[2]*o,u=n[4]*i,d=n[5]*r,f=n[6]*o,p=n[8]*i,m=n[9]*r,g=n[10]*o,w=a+d+g,y=0;return w>0?(y=Math.sqrt(w+1)*2,t[3]=.25*y,t[0]=(f-m)/y,t[1]=(p-c)/y,t[2]=(l-u)/y):a>d&&a>g?(y=Math.sqrt(1+a-d-g)*2,t[3]=(f-m)/y,t[0]=.25*y,t[1]=(l+u)/y,t[2]=(p+c)/y):d>g?(y=Math.sqrt(1+d-a-g)*2,t[3]=(p-c)/y,t[0]=(l+u)/y,t[1]=.25*y,t[2]=(f+m)/y):(y=Math.sqrt(1+g-a-d)*2,t[3]=(l-u)/y,t[0]=(p+c)/y,t[1]=(f+m)/y,t[2]=.25*y),t}}();function HX(e,t,n,s){let i=cf([e[0],e[1],e[2]]);const r=cf([e[4],e[5],e[6]]),o=cf([e[8],e[9],e[10]]);Z5(e)<0&&(i=-i),n[0]=e[12],n[1]=e[13],n[2]=e[14];const l=e.slice(),c=1/i,u=1/r,d=1/o;l[0]*=c,l[1]*=c,l[2]*=c,l[4]*=u,l[5]*=u,l[6]*=u,l[8]*=d,l[9]*=d,l[10]*=d,tI(t,l),s[0]=i,s[1]=r,s[2]=o}function WX(e,t,n,s){const i=e,r=t[0],o=t[1],a=t[2],l=t[3],c=r+r,u=o+o,d=a+a,f=r*c,p=r*u,m=r*d,g=o*u,w=o*d,y=a*d,x=l*c,v=l*u,S=l*d,E=s[0],P=s[1],_=s[2];return i[0]=(1-(g+y))*E,i[1]=(p+S)*E,i[2]=(m-v)*E,i[3]=0,i[4]=(p-S)*P,i[5]=(1-(f+y))*P,i[6]=(w+x)*P,i[7]=0,i[8]=(m+v)*_,i[9]=(w-x)*_,i[10]=(1-(f+g))*_,i[11]=0,i[12]=n[0],i[13]=n[1],i[14]=n[2],i[15]=1,i}function GX(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=n+n,a=s+s,l=i+i,c=n*o,u=s*o,d=s*a,f=i*o,p=i*a,m=i*l,g=r*o,w=r*a,y=r*l;return e[0]=1-d-m,e[1]=u+y,e[2]=f-w,e[3]=0,e[4]=u-y,e[5]=1-c-m,e[6]=p+g,e[7]=0,e[8]=f+w,e[9]=p-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function XX(e,t,n,s,i){let r=1/Math.tan(t/2),o=1/(s-i);return e[0]=r/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(i+s)*o,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*i*s*o,e[15]=0,e}function YX(e,t,n,s,i,r,o){let a=1/(t-n),l=1/(s-i),c=1/(r-o);return e[0]=-2*a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*a,e[13]=(i+s)*l,e[14]=(o+r)*c,e[15]=1,e}function qX(e,t,n,s){let i=t[0],r=t[1],o=t[2],a=s[0],l=s[1],c=s[2],u=i-n[0],d=r-n[1],f=o-n[2],p=u*u+d*d+f*f;p===0?f=1:(p=1/Math.sqrt(p),u*=p,d*=p,f*=p);let m=l*f-c*d,g=c*u-a*f,w=a*d-l*u;return p=m*m+g*g+w*w,p===0&&(c?a+=1e-6:l?c+=1e-6:l+=1e-6,m=l*f-c*d,g=c*u-a*f,w=a*d-l*u,p=m*m+g*g+w*w),p=1/Math.sqrt(p),m*=p,g*=p,w*=p,e[0]=m,e[1]=g,e[2]=w,e[3]=0,e[4]=d*w-f*g,e[5]=f*m-u*w,e[6]=u*g-d*m,e[7]=0,e[8]=u,e[9]=d,e[10]=f,e[11]=0,e[12]=i,e[13]=r,e[14]=o,e[15]=1,e}function W3(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e[3]=t[3]+n[3],e[4]=t[4]+n[4],e[5]=t[5]+n[5],e[6]=t[6]+n[6],e[7]=t[7]+n[7],e[8]=t[8]+n[8],e[9]=t[9]+n[9],e[10]=t[10]+n[10],e[11]=t[11]+n[11],e[12]=t[12]+n[12],e[13]=t[13]+n[13],e[14]=t[14]+n[14],e[15]=t[15]+n[15],e}function G3(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e[3]=t[3]-n[3],e[4]=t[4]-n[4],e[5]=t[5]-n[5],e[6]=t[6]-n[6],e[7]=t[7]-n[7],e[8]=t[8]-n[8],e[9]=t[9]-n[9],e[10]=t[10]-n[10],e[11]=t[11]-n[11],e[12]=t[12]-n[12],e[13]=t[13]-n[13],e[14]=t[14]-n[14],e[15]=t[15]-n[15],e}function KX(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e[4]=t[4]*n,e[5]=t[5]*n,e[6]=t[6]*n,e[7]=t[7]*n,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12]*n,e[13]=t[13]*n,e[14]=t[14]*n,e[15]=t[15]*n,e}class zo extends Array{constructor(t=1,n=0,s=0,i=0,r=0,o=1,a=0,l=0,c=0,u=0,d=1,f=0,p=0,m=0,g=0,w=1){return super(t,n,s,i,r,o,a,l,c,u,d,f,p,m,g,w),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,n,s,i,r,o,a,l,c,u,d,f,p,m,g,w){return t.length?this.copy(t):(FX(this,t,n,s,i,r,o,a,l,c,u,d,f,p,m,g,w),this)}translate(t,n=this){return jX(this,n,t),this}rotate(t,n,s=this){return BX(this,s,t,n),this}scale(t,n=this){return $X(this,n,typeof t=="number"?[t,t,t]:t),this}add(t,n){return n?W3(this,t,n):W3(this,this,t),this}sub(t,n){return n?G3(this,t,n):G3(this,this,t),this}multiply(t,n){return t.length?n?H3(this,t,n):H3(this,this,t):KX(this,this,t),this}identity(){return OX(this),this}copy(t){return NX(this,t),this}fromPerspective({fov:t,aspect:n,near:s,far:i}={}){return XX(this,t,n,s,i),this}fromOrthogonal({left:t,right:n,bottom:s,top:i,near:r,far:o}){return YX(this,t,n,s,i,r,o),this}fromQuaternion(t){return GX(this,t),this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){return VX(this,t),this}compose(t,n,s){return WX(this,t,n,s),this}decompose(t,n,s){return HX(this,t,n,s),this}getRotation(t){return tI(t,this),this}getTranslation(t){return zX(t,this),this}getScaling(t){return J5(t,this),this}getMaxScaleOnAxis(){return UX(this)}lookAt(t,n,s){return qX(this,t,n,s),this}determinant(){return Z5(this)}fromArray(t,n=0){return this[0]=t[n],this[1]=t[n+1],this[2]=t[n+2],this[3]=t[n+3],this[4]=t[n+4],this[5]=t[n+5],this[6]=t[n+6],this[7]=t[n+7],this[8]=t[n+8],this[9]=t[n+9],this[10]=t[n+10],this[11]=t[n+11],this[12]=t[n+12],this[13]=t[n+13],this[14]=t[n+14],this[15]=t[n+15],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t[n+3]=this[3],t[n+4]=this[4],t[n+5]=this[5],t[n+6]=this[6],t[n+7]=this[7],t[n+8]=this[8],t[n+9]=this[9],t[n+10]=this[10],t[n+11]=this[11],t[n+12]=this[12],t[n+13]=this[13],t[n+14]=this[14],t[n+15]=this[15],t}}function QX(e,t,n="YXZ"){return n==="XYZ"?(e[1]=Math.asin(Math.min(Math.max(t[8],-1),1)),Math.abs(t[8])<.99999?(e[0]=Math.atan2(-t[9],t[10]),e[2]=Math.atan2(-t[4],t[0])):(e[0]=Math.atan2(t[6],t[5]),e[2]=0)):n==="YXZ"?(e[0]=Math.asin(-Math.min(Math.max(t[9],-1),1)),Math.abs(t[9])<.99999?(e[1]=Math.atan2(t[8],t[10]),e[2]=Math.atan2(t[1],t[5])):(e[1]=Math.atan2(-t[2],t[0]),e[2]=0)):n==="ZXY"?(e[0]=Math.asin(Math.min(Math.max(t[6],-1),1)),Math.abs(t[6])<.99999?(e[1]=Math.atan2(-t[2],t[10]),e[2]=Math.atan2(-t[4],t[5])):(e[1]=0,e[2]=Math.atan2(t[1],t[0]))):n==="ZYX"?(e[1]=Math.asin(-Math.min(Math.max(t[2],-1),1)),Math.abs(t[2])<.99999?(e[0]=Math.atan2(t[6],t[10]),e[2]=Math.atan2(t[1],t[0])):(e[0]=0,e[2]=Math.atan2(-t[4],t[5]))):n==="YZX"?(e[2]=Math.asin(Math.min(Math.max(t[1],-1),1)),Math.abs(t[1])<.99999?(e[0]=Math.atan2(-t[9],t[5]),e[1]=Math.atan2(-t[2],t[0])):(e[0]=0,e[1]=Math.atan2(t[8],t[10]))):n==="XZY"&&(e[2]=Math.asin(-Math.min(Math.max(t[4],-1),1)),Math.abs(t[4])<.99999?(e[0]=Math.atan2(t[6],t[5]),e[1]=Math.atan2(t[8],t[0])):(e[0]=Math.atan2(-t[9],t[10]),e[1]=0)),e}const X3=new zo;class ZX extends Array{constructor(t=0,n=t,s=t,i="YXZ"){super(t,n,s),this.order=i,this.onChange=()=>{},this._target=this;const r=["0","1","2"];return new Proxy(this,{set(o,a){const l=Reflect.set(...arguments);return l&&r.includes(a)&&o.onChange(),l}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,n=t,s=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=n,this._target[2]=s,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,n=this.order){return QX(this._target,t,n),this.onChange(),this}fromQuaternion(t,n=this.order,s){return X3.fromQuaternion(t),this._target.fromRotationMatrix(X3,n),s||this.onChange(),this}fromArray(t,n=0){return this._target[0]=t[n],this._target[1]=t[n+1],this._target[2]=t[n+2],this}toArray(t=[],n=0){return t[n]=this[0],t[n+1]=this[1],t[n+2]=this[2],t}}class eI{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new zo,this.worldMatrix=new zo,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new re,this.quaternion=new DX,this.scale=new re(1),this.rotation=new ZX,this.up=new re(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,n=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,n&&t&&t.addChild(this,!1)}addChild(t,n=!0){~this.children.indexOf(t)||this.children.push(t),n&&t.setParent(this,!1)}removeChild(t,n=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),n&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(this.parent===null?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let n=0,s=this.children.length;n<s;n++)this.children[n].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let n=0,s=this.children.length;n<s;n++)this.children[n].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,n=!1){n?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}const JX=new zo,tY=new re,eY=new re;class nY extends eI{constructor(t,{near:n=.1,far:s=100,fov:i=45,aspect:r=1,left:o,right:a,bottom:l,top:c,zoom:u=1}={}){super(),Object.assign(this,{near:n,far:s,fov:i,aspect:r,left:o,right:a,bottom:l,top:c,zoom:u}),this.projectionMatrix=new zo,this.viewMatrix=new zo,this.projectionViewMatrix=new zo,this.worldPosition=new re,this.type=o||a?"orthographic":"perspective",this.type==="orthographic"?this.orthographic():this.perspective()}perspective({near:t=this.near,far:n=this.far,fov:s=this.fov,aspect:i=this.aspect}={}){return Object.assign(this,{near:t,far:n,fov:s,aspect:i}),this.projectionMatrix.fromPerspective({fov:s*(Math.PI/180),aspect:i,near:t,far:n}),this.type="perspective",this}orthographic({near:t=this.near,far:n=this.far,left:s=this.left||-1,right:i=this.right||1,bottom:r=this.bottom||-1,top:o=this.top||1,zoom:a=this.zoom}={}){return Object.assign(this,{near:t,far:n,left:s,right:i,bottom:r,top:o,zoom:a}),s/=a,i/=a,r/=a,o/=a,this.projectionMatrix.fromOrthogonal({left:s,right:i,bottom:r,top:o,near:t,far:n}),this.type="orthographic",this}updateMatrixWorld(){return super.updateMatrixWorld(),this.viewMatrix.inverse(this.worldMatrix),this.worldMatrix.getTranslation(this.worldPosition),this.projectionViewMatrix.multiply(this.projectionMatrix,this.viewMatrix),this}updateProjectionMatrix(){return this.type==="perspective"?this.perspective():this.orthographic()}lookAt(t){return super.lookAt(t,!0),this}project(t){return t.applyMatrix4(this.viewMatrix),t.applyMatrix4(this.projectionMatrix),this}unproject(t){return t.applyMatrix4(JX.inverse(this.projectionMatrix)),t.applyMatrix4(this.worldMatrix),this}updateFrustum(){this.frustum||(this.frustum=[new re,new re,new re,new re,new re,new re]);const t=this.projectionViewMatrix;this.frustum[0].set(t[3]-t[0],t[7]-t[4],t[11]-t[8]).constant=t[15]-t[12],this.frustum[1].set(t[3]+t[0],t[7]+t[4],t[11]+t[8]).constant=t[15]+t[12],this.frustum[2].set(t[3]+t[1],t[7]+t[5],t[11]+t[9]).constant=t[15]+t[13],this.frustum[3].set(t[3]-t[1],t[7]-t[5],t[11]-t[9]).constant=t[15]-t[13],this.frustum[4].set(t[3]-t[2],t[7]-t[6],t[11]-t[10]).constant=t[15]-t[14],this.frustum[5].set(t[3]+t[2],t[7]+t[6],t[11]+t[10]).constant=t[15]+t[14];for(let n=0;n<6;n++){const s=1/this.frustum[n].distance();this.frustum[n].multiply(s),this.frustum[n].constant*=s}}frustumIntersectsMesh(t,n=t.worldMatrix){if(!t.geometry.attributes.position||((!t.geometry.bounds||t.geometry.bounds.radius===1/0)&&t.geometry.computeBoundingSphere(),!t.geometry.bounds))return!0;const s=tY;s.copy(t.geometry.bounds.center),s.applyMatrix4(n);const i=t.geometry.bounds.radius*n.getMaxScaleOnAxis();return this.frustumIntersectsSphere(s,i)}frustumIntersectsSphere(t,n){const s=eY;for(let i=0;i<6;i++){const r=this.frustum[i];if(s.copy(r).dot(t)+r.constant<-n)return!1}return!0}}function sY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function iY(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=n+n,a=s+s,l=i+i,c=n*o,u=s*o,d=s*a,f=i*o,p=i*a,m=i*l,g=r*o,w=r*a,y=r*l;return e[0]=1-d-m,e[3]=u-y,e[6]=f+w,e[1]=u+y,e[4]=1-c-m,e[7]=p-g,e[2]=f-w,e[5]=p+g,e[8]=1-c-d,e}function rY(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function oY(e,t,n,s,i,r,o,a,l,c){return e[0]=t,e[1]=n,e[2]=s,e[3]=i,e[4]=r,e[5]=o,e[6]=a,e[7]=l,e[8]=c,e}function aY(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function lY(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*o-a*c,f=-u*r+a*l,p=c*r-o*l,m=n*d+s*f+i*p;return m?(m=1/m,e[0]=d*m,e[1]=(-u*s+i*c)*m,e[2]=(a*s-i*o)*m,e[3]=f*m,e[4]=(u*n-i*l)*m,e[5]=(-a*n+i*r)*m,e[6]=p*m,e[7]=(-c*n+s*l)*m,e[8]=(o*n-s*r)*m,e):null}function Y3(e,t,n){let s=t[0],i=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=n[0],p=n[1],m=n[2],g=n[3],w=n[4],y=n[5],x=n[6],v=n[7],S=n[8];return e[0]=f*s+p*o+m*c,e[1]=f*i+p*a+m*u,e[2]=f*r+p*l+m*d,e[3]=g*s+w*o+y*c,e[4]=g*i+w*a+y*u,e[5]=g*r+w*l+y*d,e[6]=x*s+v*o+S*c,e[7]=x*i+v*a+S*u,e[8]=x*r+v*l+S*d,e}function cY(e,t,n){let s=t[0],i=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=n[0],p=n[1];return e[0]=s,e[1]=i,e[2]=r,e[3]=o,e[4]=a,e[5]=l,e[6]=f*s+p*o+c,e[7]=f*i+p*a+u,e[8]=f*r+p*l+d,e}function uY(e,t,n){let s=t[0],i=t[1],r=t[2],o=t[3],a=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=Math.sin(n),p=Math.cos(n);return e[0]=p*s+f*o,e[1]=p*i+f*a,e[2]=p*r+f*l,e[3]=p*o-f*s,e[4]=p*a-f*i,e[5]=p*l-f*r,e[6]=c,e[7]=u,e[8]=d,e}function hY(e,t,n){let s=n[0],i=n[1];return e[0]=s*t[0],e[1]=s*t[1],e[2]=s*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function dY(e,t){let n=t[0],s=t[1],i=t[2],r=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],p=t[11],m=t[12],g=t[13],w=t[14],y=t[15],x=n*a-s*o,v=n*l-i*o,S=n*c-r*o,E=s*l-i*a,P=s*c-r*a,_=i*c-r*l,R=u*g-d*m,k=u*w-f*m,D=u*y-p*m,I=d*w-f*g,N=d*y-p*g,V=f*y-p*w,L=x*V-v*N+S*I+E*D-P*k+_*R;return L?(L=1/L,e[0]=(a*V-l*N+c*I)*L,e[1]=(l*D-o*V-c*k)*L,e[2]=(o*N-a*D+c*R)*L,e[3]=(i*N-s*V-r*I)*L,e[4]=(n*V-i*D+r*k)*L,e[5]=(s*D-n*N-r*R)*L,e[6]=(g*_-w*P+y*E)*L,e[7]=(w*S-m*_-y*v)*L,e[8]=(m*P-g*S+y*x)*L,e):null}class fY extends Array{constructor(t=1,n=0,s=0,i=0,r=1,o=0,a=0,l=0,c=1){return super(t,n,s,i,r,o,a,l,c),this}set(t,n,s,i,r,o,a,l,c){return t.length?this.copy(t):(oY(this,t,n,s,i,r,o,a,l,c),this)}translate(t,n=this){return cY(this,n,t),this}rotate(t,n=this){return uY(this,n,t),this}scale(t,n=this){return hY(this,n,t),this}multiply(t,n){return n?Y3(this,t,n):Y3(this,this,t),this}identity(){return aY(this),this}copy(t){return rY(this,t),this}fromMatrix4(t){return sY(this,t),this}fromQuaternion(t){return iY(this,t),this}fromBasis(t,n,s){return this.set(t[0],t[1],t[2],n[0],n[1],n[2],s[0],s[1],s[2]),this}inverse(t=this){return lY(this,t),this}getNormalMatrix(t){return dY(this,t),this}}let pY=0;class mY extends eI{constructor(t,{geometry:n,program:s,mode:i=t.TRIANGLES,frustumCulled:r=!0,renderOrder:o=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=pY++,this.geometry=n,this.program=s,this.mode=i,this.frustumCulled=r,this.renderOrder=o,this.modelViewMatrix=new zo,this.normalMatrix=new fY,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:t}));let n=this.program.cullFace&&this.worldMatrix.determinant()<0;this.program.use({flipFaces:n}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(s=>s&&s({mesh:this,camera:t}))}}const gY=["#ffffff","#ffffff","#ffffff"],yY=e=>{e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(r=>r+r).join(""));const t=parseInt(e,16),n=(t>>16&255)/255,s=(t>>8&255)/255,i=(t&255)/255;return[n,s,i]},vY=`
  attribute vec3 position;
  attribute vec4 random;
  attribute vec3 color;
  
  uniform mat4 modelMatrix;
  uniform mat4 viewMatrix;
  uniform mat4 projectionMatrix;
  uniform float uTime;
  uniform float uSpread;
  uniform float uBaseSize;
  uniform float uSizeRandomness;
  
  varying vec4 vRandom;
  varying vec3 vColor;
  
  void main() {
    vRandom = random;
    vColor = color;
    
    vec3 pos = position * uSpread;
    pos.z *= 10.0;
    
    vec4 mPos = modelMatrix * vec4(pos, 1.0);
    float t = uTime;
    mPos.x += sin(t * random.z + 6.28 * random.w) * mix(0.1, 1.5, random.x);
    mPos.y += sin(t * random.y + 6.28 * random.x) * mix(0.1, 1.5, random.w);
    mPos.z += sin(t * random.w + 6.28 * random.y) * mix(0.1, 1.5, random.z);
    
    vec4 mvPos = viewMatrix * mPos;

    if (uSizeRandomness == 0.0) {
      gl_PointSize = uBaseSize;
    } else {
      gl_PointSize = (uBaseSize * (1.0 + uSizeRandomness * (random.x - 0.5))) / length(mvPos.xyz);
    }

    gl_Position = projectionMatrix * mvPos;
  }
`,xY=`
  precision highp float;
  
  uniform float uTime;
  uniform float uAlphaParticles;
  varying vec4 vRandom;
  varying vec3 vColor;
  
  void main() {
    vec2 uv = gl_PointCoord.xy;
    float d = length(uv - vec2(0.5));
    
    if(uAlphaParticles < 0.5) {
      if(d > 0.5) {
        discard;
      }
      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), 1.0);
    } else {
      float circle = smoothstep(0.5, 0.4, d) * 0.8;
      gl_FragColor = vec4(vColor + 0.2 * sin(uv.yxx + uTime + vRandom.y * 6.28), circle);
    }
  }
`,wY=({particleCount:e=200,particleSpread:t=10,speed:n=.1,particleColors:s,moveParticlesOnHover:i=!1,particleHoverFactor:r=1,alphaParticles:o=!1,particleBaseSize:a=100,sizeRandomness:l=1,cameraDistance:c=20,disableRotation:u=!1,className:d})=>{const f=M.useRef(null),p=M.useRef({x:0,y:0});return M.useEffect(()=>{const m=f.current;if(!m)return;const g=new pX({depth:!1,alpha:!0}),w=g.gl;m.appendChild(w.canvas),w.clearColor(0,0,0,0);const y=new nY(w,{fov:15});y.position.set(0,0,c);const x=()=>{if(!m)return;const F=m.clientWidth,O=m.clientHeight;g.setSize(F,O),y.perspective({aspect:w.canvas.width/w.canvas.height})};window.addEventListener("resize",x,!1),x();const v=F=>{const O=F.clientX/window.innerWidth*2-1,j=-(F.clientY/window.innerHeight*2-1);p.current={x:O,y:j}};i&&window.addEventListener("mousemove",v);const S=e,E=new Float32Array(S*3),P=new Float32Array(S*4),_=new Float32Array(S*3),R=s&&s.length>0?s:gY;for(let F=0;F<S;F++){let O,j,B,U;do O=Math.random()*2-1,j=Math.random()*2-1,B=Math.random()*2-1,U=O*O+j*j+B*B;while(U>1||U===0);const W=Math.cbrt(Math.random());E.set([O*W,j*W,B*W],F*3),P.set([Math.random(),Math.random(),Math.random(),Math.random()],F*4);const Q=yY(R[Math.floor(Math.random()*R.length)]);_.set(Q,F*3)}const k=new aX(w,{position:{size:3,data:E},random:{size:4,data:P},color:{size:3,data:_}}),D=new cX(w,{vertex:vY,fragment:xY,uniforms:{uTime:{value:0},uSpread:{value:t},uBaseSize:{value:a},uSizeRandomness:{value:l},uAlphaParticles:{value:o?1:0}},transparent:!0,depthTest:!1}),I=new mY(w,{mode:w.POINTS,geometry:k,program:D});let N,V=performance.now(),L=0;const H=F=>{N=requestAnimationFrame(H);const O=F-V;V=F,L+=O*n,D.uniforms.uTime.value=L*.001,i&&(I.position.x+=(-p.current.x*r-I.position.x)*.05,I.position.y+=(-p.current.y*r-I.position.y)*.05),u||(I.rotation.x=Math.sin(L*2e-4)*.1,I.rotation.y=Math.cos(L*5e-4)*.15,I.rotation.z+=.01*n),g.render({scene:I,camera:y})};return N=requestAnimationFrame(H),()=>{window.removeEventListener("resize",x),i&&window.removeEventListener("mousemove",v),cancelAnimationFrame(N),m&&m.contains(w.canvas)&&m.removeChild(w.canvas)}},[e,t,n,i,r,o,a,l,c,u,s,d]),T.jsx("div",{ref:f,className:`particles-container ${d}`})};const bY=({isInFullscreen:e})=>{if(e)return null;const[t,n]=M.useState({x:0,y:0}),[s,i]=M.useState(!1),[r,o]=M.useState(!0);M.useEffect(()=>{document.body.classList.add("custom-cursor-active");const l=d=>{o(!0),n({x:d.clientX,y:d.clientY});const f=d.target.closest('a, button, .glare-container, [role="button"], [onClick]');i(!!f)},c=()=>{o(!1)},u=()=>{o(!0)};return window.addEventListener("mousemove",l),window.addEventListener("mousedown",c),window.addEventListener("mouseup",u),()=>{document.body.classList.remove("custom-cursor-active"),window.removeEventListener("mousemove",l),window.removeEventListener("mousedown",c),window.removeEventListener("mouseup",u)}},[]);const a=`custom-cursor ${s?"hovering":""}`;return T.jsx(dt.div,{className:a,style:{left:t.x,top:t.y,opacity:r?1:0,transition:"opacity 0.2s ease-in-out"},children:T.jsx("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{d:"M8 4V23L14 17L18 25L21 23L17 15L24 13L8 4Z",fill:"white"})})})};function AY(){const[e,t]=M.useState(null),[n,s]=M.useState(null),[i,r]=M.useState(null),o=sT("(min-width: 1024px)"),[a,l]=M.useState(!1);M.useEffect(()=>{fetch("/data/portfolioData.json").then(f=>f.json()).then(f=>t(f)),fetch("/data/tripsdata.json").then(f=>f.json()).then(f=>s(f))},[]),M.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const c=f=>r(f),u=()=>r(null),d=f=>{var p;(p=document.getElementById(f))==null||p.scrollIntoView({behavior:"smooth"})};return!e||!n?T.jsx("div",{className:"bg-black min-h-screen flex items-center justify-center text-white",children:"Loading Portfolio..."}):T.jsxs("div",{children:[o&&T.jsx(bY,{isInFullscreen:a}),T.jsx(wY,{particleColors:["#ff2a2a","#00ffff","#ff00ff","#ffffff"],particleCount:1200,speed:.2,particleBaseSize:40,alphaParticles:!1,moveParticlesOnHover:!0,particleHoverFactor:2.5,sizeRandomness:.8}),T.jsx("div",{className:"site-overlay"}),T.jsx(S$,{blades:e.blades,onLinkClick:d}),T.jsxs("div",{className:"relative z-10",children:[T.jsxs("main",{children:[T.jsx(rU,{blades:e.blades,onLinkClick:d}),T.jsx(hU,{scrollToSection:d}),e.blades.map(f=>T.jsx(wU,{data:f,openModal:c,neonColor:f.color||"blue"},f.id)),T.jsx(bU,{data:e.experience,openModal:c}),T.jsx(AU,{data:e.testimonials,openModal:c}),T.jsx(oH,{data:n}),T.jsx(aH,{data:e.personalInfo})]}),T.jsx(lH,{data:e.personalInfo})]}),T.jsx(UG,{data:i,onClose:u,setIsInFullscreen:l})]})}i2.createRoot(document.getElementById("root")).render(T.jsx(Bs.StrictMode,{children:T.jsx(AY,{})}));
