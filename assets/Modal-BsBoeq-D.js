import{r as l,j as e}from"./three-vendor-CU7PDnaO.js";import{u as q,f as A,g as G,h as Z,i as H,j as I,k as K,l as Q,m as _,n as J,o as ee,p as te,q as re}from"./index-C3haVeDm.js";import{D as ne,P as se,G as oe}from"./pdf-vendor-CfKE9hef.js";import{A as C,m as b}from"./animation-vendor-MxvxqPJL.js";import"./react-vendor-Dazix4UH.js";oe.workerSrc="/assets/pdf.worker.js";const me=({data:r,onClose:m,setIsInFullscreen:P})=>{if(!r)return null;const S=q("(max-width: 768px)"),[s,E]=l.useState(!1),[u,x]=l.useState({x:0,y:0}),W=l.useRef(null),g=l.useRef(null),f=l.useRef(null),[L,V]=l.useState(!1),[h,M]=l.useState(null),[p,y]=l.useState(1),[R,j]=l.useState(null);l.useEffect(()=>{if(r?.type!=="cv")return;const t=new ResizeObserver(i=>{for(let d of i){const a=d.contentRect.width;j(a>0?a:null)}}),n=f.current;let o;return n&&(t.observe(n),o=setTimeout(()=>{if(f.current){const i=f.current.getBoundingClientRect().width;j(i>0?i:null)}},50)),()=>{clearTimeout(o),n&&t.unobserve(n)}},[r?.type==="cv"]);function Y({numPages:t}){M(t),y(1)}function T(t){y(n=>Math.max(1,Math.min(n+t,h)))}const c=l.useCallback(()=>{document.fullscreenElement&&document.exitFullscreen(),window.history.state&&window.history.state.modalOpen?window.history.back():m()},[m]);l.useEffect(()=>{const t=()=>{m()},n=o=>{o.key==="Escape"&&c()};return r&&(window.history.pushState({modalOpen:!0},""),window.addEventListener("popstate",t),window.addEventListener("keydown",n),M(null),y(1),E(!1),x({x:0,y:0}),j(null)),()=>{window.removeEventListener("popstate",t),window.removeEventListener("keydown",n)}},[r,m,c]),l.useEffect(()=>{const t=()=>{const n=!!document.fullscreenElement;P(n),V(n);const o=g.current;n?o?.classList.add("fullscreen-active"):o?.classList.remove("fullscreen-active")};return document.addEventListener("fullscreenchange",t),()=>{document.removeEventListener("fullscreenchange",t)}},[P]);const v=t=>{t.stopPropagation(),E(n=>!n),s&&x({x:0,y:0})},z=t=>{if(!s||!t.currentTarget)return;const{left:n,top:o,width:i,height:d}=t.currentTarget.getBoundingClientRect(),a=t.clientX-n,k=t.clientY-o,N=(a/i-.5)*-100,F=(k/d-.5)*-100;x({x:N,y:F})},D=t=>{if(!s||!t.touches[0]||!t.currentTarget)return;const{left:n,top:o,width:i,height:d}=t.currentTarget.getBoundingClientRect(),a=t.touches[0].clientX-n,k=t.touches[0].clientY-o,N=(a/i-.5)*-100,F=(k/d-.5)*-100;x({x:N,y:F})},O=t=>t.preventDefault(),X=t=>{t.stopPropagation();const n=g.current;n&&(document.fullscreenElement?document.exitFullscreen():n.requestFullscreen().catch(o=>alert(`Error: ${o.message}`)))},B={cyan:"#00ffff",purple:"#cc00ff",blue:"#00aaff",red:"#ff1111"},$=r.color||"blue",w=B[$],U=()=>{switch(r.type){case"portfolioItem":return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-4 overflow-hidden rounded-lg bg-primary-dark/20",children:e.jsx("img",{src:r.item.thumbnail,alt:r.item.title,className:"w-full h-auto object-cover rounded-lg"})}),r.item.videoUrl&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-orbitron font-bold text-lg text-text-light mt-6 mb-2",children:"Project Video"}),e.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4 overflow-hidden rounded-lg",children:e.jsx("iframe",{src:r.item.videoUrl,title:r.item.title,frameBorder:"0",allow:"autoplay; fullscreen",allowFullScreen:!0,className:"w-full h-full bg-primary-dark"})})]}),r.item.demoVideoUrl&&e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"font-orbitron font-bold text-lg text-text-light mt-6 mb-2",children:"Demo Video"}),e.jsx("div",{className:"aspect-w-16 aspect-h-9 mb-4 overflow-hidden rounded-lg",children:e.jsx("iframe",{src:r.item.demoVideoUrl,title:"Demo Video",frameBorder:"0",allow:"autoplay; fullscreen",allowFullScreen:!0,className:"w-full h-full bg-primary-dark"})})]}),e.jsx("p",{className:"text-text-medium font-inter mt-6 mb-4",children:r.item.details}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(ee,{className:`text-${$}-400`}),r.item.tech.map(t=>e.jsx("span",{className:"bg-secondary-dark text-text-light text-xs font-inter font-semibold px-2 py-1 rounded",children:t},t))]}),r.item.projectLink&&e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:r.item.projectLink,target:"_blank",rel:"noopener noreferrer",className:"glare-container inline-flex items-center gap-2 bg-accent-blue/20 hover:bg-accent-blue/40 backdrop-blur-sm border border-accent-blue/50 text-text-light font-inter font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-accent-blue/30 hover:shadow-accent-blue/50",children:[e.jsx(te,{})," Go to Project Page"]})}),r.item.nda==="1"&&e.jsxs("div",{className:"mt-8 p-4 bg-secondary-dark/50 border border-text-dark rounded-lg text-sm text-text-medium font-inter italic flex items-start gap-3",children:[e.jsx(re,{className:"text-yellow-500 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Note: This project's demos are protected by a Non-Disclosure Agreement (NDA) and cannot be shown publicly. To request a private demonstration, please feel free to reach out via the contact section."})]})]});case"experience":return e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"font-orbitron font-bold text-lg text-accent-blue",children:[r.item.year," - ",r.item.company]}),e.jsx("p",{className:"text-text-medium font-inter mt-4",children:r.item.details})]});case"cv":return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:g,className:"relative group bg-primary-dark rounded-lg w-full flex items-center justify-center",style:L?{height:"100vh",width:"100vw"}:{},children:[e.jsx("div",{ref:f,className:"w-full h-full flex items-center justify-center",onClick:v,onMouseMove:s?z:void 0,onTouchMove:s?D:void 0,style:{cursor:s?"grab":"zoom-in",overflow:"hidden",touchAction:"none"},children:e.jsx("div",{style:{transform:`scale(${s?1.5:1}) translate(${u.x}px, ${u.y}px)`,transition:"transform 0.2s ease-out",maxWidth:"100%",maxHeight:"100%",display:"flex",justifyContent:"center",alignItems:"center"},className:"w-full h-full",children:e.jsx(ne,{file:r.item.link,onLoadSuccess:Y,loading:e.jsx("div",{className:"text-text-light font-inter p-4 h-96 flex items-center justify-center",children:"Loading CV..."}),error:e.jsx("div",{className:"text-red-400 font-inter p-4 h-96 flex items-center justify-center",children:"Failed to load CV."}),children:e.jsx(se,{pageNumber:p,width:S&&R?R:void 0,renderTextLayer:!S})})})}),h&&!s&&e.jsxs("p",{className:"absolute top-4 left-1/2 -translate-x-1/2 bg-primary-dark/50 backdrop-blur-sm text-xs font-inter font-semibold text-text-medium px-3 py-1 rounded-full z-20",children:["Page ",p," of ",h]}),e.jsx(C,{children:!s&&p>1&&e.jsxs(b.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},onClick:t=>{t.stopPropagation(),T(-1)},className:"absolute top-1/2 -translate-y-1/2 left-4 h-12 w-12 bg-primary-dark/50 backdrop-blur-sm rounded-full text-text-light flex items-center justify-center z-20 hover:bg-primary-dark transition-colors opacity-0 group-hover:opacity-100","aria-label":"Previous Page",children:[" ",e.jsx(A,{})," "]})}),e.jsx(C,{children:!s&&p<h&&e.jsxs(b.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},onClick:t=>{t.stopPropagation(),T(1)},className:"absolute top-1/2 -translate-y-1/2 right-4 h-12 w-12 bg-primary-dark/50 backdrop-blur-sm rounded-full text-text-light flex items-center justify-center z-20 hover:bg-primary-dark transition-colors opacity-0 group-hover:opacity-100","aria-label":"Next Page",children:[" ",e.jsx(H,{})," "]})}),e.jsx("button",{onClick:X,className:"absolute bottom-4 right-4 h-12 w-12 bg-primary-dark/50 backdrop-blur-sm rounded-full text-text-light z-20 flex items-center justify-center hover:bg-primary-dark transition-colors",children:L?e.jsx(I,{}):e.jsx(K,{})}),e.jsx("button",{onClick:v,className:"absolute bottom-4 left-4 h-12 w-12 bg-primary-dark/50 backdrop-blur-sm rounded-full text-text-light z-20 flex items-center justify-center hover:bg-primary-dark transition-colors",children:s?e.jsx(Q,{}):e.jsx(_,{})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsxs("a",{href:r.item.link,download:!0,className:"glare-container inline-flex items-center gap-2 bg-accent-blue/20 hover:bg-accent-blue/40 backdrop-blur-sm border border-accent-blue/50 text-text-light font-inter font-bold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg shadow-accent-blue/30 hover:shadow-accent-blue/50",children:[" ",e.jsx(J,{})," Download "]})})]});case"certification":return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{ref:W,className:"relative mx-auto mb-4 bg-primary-dark/20 p-2 rounded-md transition-all duration-300",onClick:v,onMouseMove:s?z:void 0,onTouchMove:s?D:void 0,onDragStart:O,style:{overflow:"hidden",userSelect:"none",WebkitUserSelect:"none",touchAction:"none",cursor:s?"grab":"zoom-in",width:"100%",maxWidth:s?"100%":"30rem",height:s?"100%":"20rem"},children:e.jsx("img",{src:r.item.image,alt:r.item.name,className:"w-full h-full object-contain",style:{transform:`scale(${s?1.5:1}) translate(${u.x}px, ${u.y}px)`,transition:"transform 0.2s ease-out"}})}),e.jsxs("p",{className:"font-orbitron font-bold text-lg text-accent-blue flex items-center justify-center gap-2",children:[e.jsx(Z,{})," ",r.item.issuer]}),e.jsx("p",{className:"text-text-medium font-inter mt-4",children:r.item.details})]});default:return e.jsx("p",{className:"text-text-medium font-inter",children:"No details available."})}};return e.jsx(C,{children:r&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:c,className:"fixed inset-0 bg-primary-dark/80 z-[100] flex items-center justify-center p-4 backdrop-blur-sm",style:{overflowY:"hidden"},children:e.jsx("div",{className:"neon-border-container",style:{"--neon-red":w},children:e.jsxs(b.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},onClick:t=>t.stopPropagation(),className:`neon-border-content p-6 w-full ${r.type==="cv"?"max-w-4xl":"max-w-2xl"} max-h-[90vh] overflow-y-auto relative custom-scrollbar bg-secondary-dark/80`,children:[e.jsx("button",{onClick:c,className:"absolute top-4 left-4 text-accent-blue hover:text-text-light transition-colors z-30",children:e.jsx(A,{size:20})}),e.jsx("button",{onClick:c,className:"absolute top-4 right-4 text-accent-blue hover:text-text-light transition-colors z-30",children:e.jsx(G,{size:20})}),e.jsx("h2",{className:"text-2xl font-orbitron font-bold text-center text-accent-blue mb-4 px-12",style:{textShadow:`0 0 5px #fff, 0 0 10px ${w}, 0 0 15px ${w}`},children:r.item.title||r.item.name||r.item.role}),e.jsx("div",{className:"text-text-medium",children:U()})]})})})})};export{me as default};
